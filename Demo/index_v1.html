<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ™ºèƒ½æç¤ºè¯å·¥ä½œå° - AIå¤šå¹³å°åä½œç³»ç»Ÿ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <style>
        .category-gradient-1 { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); }
        .category-gradient-2 { background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); }
        .category-gradient-3 { background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); }
        .category-gradient-4 { background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%); }
        .category-gradient-5 { background: linear-gradient(135deg, #fa709a 0%, #fee140 100%); }
        .category-gradient-6 { background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%); }
        .category-gradient-7 { background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%); }
        .category-gradient-8 { background: linear-gradient(135deg, #a18cd1 0%, #fbc2eb 100%); }
        .method-card { transition: all 0.3s ease; }
        .method-card:hover { transform: translateY(-2px); box-shadow: 0 8px 25px rgba(0,0,0,0.15); }
        .level-badge { 
            font-size: 0.75rem; 
            padding: 2px 8px; 
            border-radius: 12px; 
            font-weight: 500;
        }
        .level-basic { background-color: #10b981; color: white; }
        .level-advanced { background-color: #f59e0b; color: white; }
        .level-expert { background-color: #ef4444; color: white; }
        
        /* è¿›åº¦æ¡æ ·å¼ */
        .progress-container {
            position: relative;
            background: #f0f0f0;
            border-radius: 25px;
            padding: 3px;
            margin: 1rem 0;
            box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.2);
        }
        
        .progress-bar {
            display: flex;
            align-items: center;
            height: 30px;
            border-radius: 22px;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .progress-normal { background: linear-gradient(45deg, #4CAF50, #8BC34A); }
        .progress-warning { background: linear-gradient(45deg, #FF9800, #FFC107); }
        .progress-error { background: linear-gradient(45deg, #F44336, #E91E63); }
        .progress-complete { background: linear-gradient(45deg, #2196F3, #00BCD4); }
        
        .progress-bar::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
            animation: shimmer 2s infinite;
        }
        
        .progress-text {
            position: absolute;
            width: 100%;
            text-align: center;
            font-weight: bold;
            color: #333;
            font-size: 12px;
            z-index: 10;
        }
        
        @keyframes shimmer {
            0% { left: -100%; }
            100% { left: 100%; }
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }
        
        .pulsing { animation: pulse 1.5s infinite; }
    </style>
</head>
<body class="bg-gray-50 dark:bg-gray-900 transition-colors duration-300">
    <script>
        if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
            document.documentElement.classList.add('dark');
        }
        window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', event => {
            if (event.matches) {
                document.documentElement.classList.add('dark');
            } else {
                document.documentElement.classList.remove('dark');
            }
        });
    </script>
    <!-- Header -->
    <header class="bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center py-4">
                <div class="flex items-center">
                    <div class="w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg flex items-center justify-center">
                        <span class="text-white font-bold text-lg">ğŸ¯</span>
                    </div>
                    <div class="ml-3">
                        <h1 class="text-xl font-bold text-gray-900 dark:text-white">æç¤ºè¯æ“ä½œæ–¹æ³•å®Œæ•´åˆ†ç±»ä½“ç³»</h1>
                        <p class="text-sm text-gray-500 dark:text-gray-400">MECEç»ˆæç‰ˆ - 8å¤§ç»´åº¦å®Œå…¨ç©·å°½</p>
                    </div>
                </div>
                <div class="flex items-center space-x-4">
                    <div class="hidden sm:flex items-center space-x-2 text-xs">
                        <span class="level-badge level-basic">ğŸŸ¢ åŸºç¡€å±‚</span>
                        <span class="level-badge level-advanced">ğŸŸ¡ è¿›é˜¶å±‚</span>
                        <span class="level-badge level-expert">ğŸ”´ é«˜çº§å±‚</span>
                    </div>
                    <div class="relative">
                        <input 
                            type="text" 
                            id="searchInput"
                            placeholder="æœç´¢æ–¹æ³•..." 
                            class="w-64 px-4 py-2 pl-10 text-base bg-gray-100 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white"
                        >
                        <div class="absolute inset-y-0 left-0 pl-3 flex items-center">
                            <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                            </svg>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <div class="flex flex-col lg:flex-row gap-8">
            <!-- ä¾§è¾¹æ åˆ†ç±» -->
            <div class="lg:w-1/4">
                <div class="bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6 sticky top-8">
                    <h2 class="text-lg font-semibold text-gray-900 dark:text-white mb-4">å…«å¤§æ“ä½œåˆ†ç±»</h2>
                    <nav class="space-y-2" id="categoryNav">
                        <!-- åˆ†ç±»å¯¼èˆªå°†ç”±JavaScriptç”Ÿæˆ -->
                    </nav>
                    <div class="mt-6 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg">
                        <h3 class="text-sm font-semibold text-blue-900 dark:text-blue-300 mb-2">ğŸ’¡ ä½¿ç”¨æç¤º</h3>
                        <ul class="text-xs text-blue-800 dark:text-blue-200 space-y-1">
                            <li>â€¢ å•ä¸€æ“ä½œï¼šé’ˆå¯¹ç‰¹å®šé—®é¢˜</li>
                            <li>â€¢ ç»„åˆæ“ä½œï¼šè·¨ç±»åˆ«ç»„åˆ</li>
                            <li>â€¢ æ¸è¿›æå‡ï¼šå¾ªåºæ¸è¿›</li>
                            <li>â€¢ æƒ…å¢ƒé€‚é…ï¼šåœºæ™¯é€‰æ‹©</li>
                        </ul>
                    </div>
                    
                    <div class="mt-4 space-y-3">
                        <button onclick="showAIModelSelector()" class="w-full px-4 py-3 bg-gradient-to-r from-blue-500 to-indigo-500 text-white rounded-lg font-medium hover:from-blue-600 hover:to-indigo-600 transition-all duration-200 flex items-center justify-center">
                            <span class="mr-2">ğŸ›ï¸</span>
                            AIæ¨¡å‹é€‰æ‹©å™¨
                        </button>
                        <button onclick="showAnalyzer()" class="w-full px-4 py-3 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-lg font-medium hover:from-purple-600 hover:to-pink-600 transition-all duration-200 flex items-center justify-center">
                            <span class="mr-2">ğŸ”</span>
                            æç¤ºè¯é…æ–¹è§£æå™¨
                        </button>
                        <button onclick="showSmartHelper()" class="w-full px-4 py-3 bg-gradient-to-r from-green-500 to-blue-500 text-white rounded-lg font-medium hover:from-green-600 hover:to-blue-600 transition-all duration-200 flex items-center justify-center">
                            <span class="mr-2">ğŸš€</span>
                            æ™ºèƒ½æç¤ºè¯åŠ©æ‰‹
                        </button>
                        <button onclick="showTrinityGenerator()" class="w-full px-4 py-3 bg-gradient-to-r from-purple-500 via-pink-500 to-orange-500 text-white rounded-lg font-medium hover:from-purple-600 hover:via-pink-600 hover:to-orange-600 transition-all duration-200 flex items-center justify-center">
                            <span class="mr-2">ğŸ§ </span>
                            ä¸‰ç»´æ€ç»´ç”Ÿæˆå™¨
                        </button>
                    </div>
                </div>
            </div>
            <!-- ä¸»å†…å®¹åŒº -->
            <div class="lg:w-3/4">
                <!-- åˆ†ç±»ä»‹ç» -->
                <div id="categoryIntro" class="bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6 mb-6">
                    <!-- å†…å®¹ç”±JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                </div>
                <!-- æ–¹æ³•åˆ—è¡¨ -->
                <div id="methodsList" class="space-y-4">
                    <!-- æ–¹æ³•å¡ç‰‡ç”±JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                </div>
                <!-- æ–¹æ³•è¯¦æƒ…æ¨¡æ€æ¡† -->
                <div id="methodModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
                    <div class="bg-white dark:bg-gray-800 rounded-xl shadow-2xl max-w-5xl w-full mx-4 max-h-[90vh] overflow-y-auto">
                        <div class="p-6">
                            <div class="flex justify-between items-start mb-4">
                                <div>
                                    <h3 id="modalTitle" class="text-2xl font-bold text-gray-900 dark:text-white"></h3>
                                    <p id="modalCategory" class="text-sm text-gray-500 dark:text-gray-400"></p>
                                </div>
                                <button onclick="closeModal()" class="text-gray-400 hover:text-gray-600 dark:hover:text-gray-300">
                                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                                    </svg>
                                </button>
                            </div>
                            <div id="modalContent">
                                <!-- è¯¦ç»†å†…å®¹ç”±JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                            </div>
                        </div>
                    </div>
                </div>
                <!-- æ™ºèƒ½æç¤ºè¯åŠ©æ‰‹æ¨¡æ€æ¡† -->
                <div id="smartHelperModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
                    <div class="bg-white dark:bg-gray-800 rounded-xl shadow-2xl max-w-5xl w-full mx-4 max-h-[90vh] overflow-y-auto">
                        <div class="p-6">
                            <div class="flex justify-between items-start mb-6">
                                <div>
                                    <h3 class="text-2xl font-bold text-gray-900 dark:text-white flex items-center">
                                        <span class="mr-3">ğŸš€</span>
                                        æ™ºèƒ½æç¤ºè¯åŠ©æ‰‹
                                    </h3>
                                    <p class="text-sm text-gray-500 dark:text-gray-400">è®©AIæ›´æ‡‚ä½  - 3åˆ†é’Ÿä¸Šæ‰‹ï¼Œå¤Ÿç”¨å°±å¥½ï¼Œå¿«é€Ÿè¿­ä»£</p>
                                </div>
                                <button onclick="closeSmartHelper()" class="text-gray-400 hover:text-gray-600 dark:hover:text-gray-300">
                                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                                    </svg>
                                </button>
                            </div>
                            
                            <!-- 30ç§’å¿«é€Ÿå¼€å§‹ -->
                            <div class="mb-8">
                                <div class="bg-gradient-to-r from-green-50 to-blue-50 dark:from-green-900/20 dark:to-blue-900/20 rounded-lg p-6">
                                    <h4 class="text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center">
                                        <span class="mr-2">âš¡</span>
                                        30ç§’å¿«é€Ÿå¼€å§‹
                                    </h4>
                                    
                                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
                                        <button onclick="selectMode('simple')" id="simpleMode" class="mode-button p-4 bg-white dark:bg-gray-700 rounded-lg border-2 border-transparent hover:border-green-400 transition-all duration-200">
                                            <div class="text-center">
                                                <div class="text-2xl mb-2">ğŸ“</div>
                                                <div class="font-medium text-gray-900 dark:text-white">ç®€å•æ¨¡å¼</div>
                                                <div class="text-xs text-gray-500 dark:text-gray-400 mt-1">æ—¥å¸¸å¯¹è¯ã€åŸºç¡€ä»»åŠ¡</div>
                                                <div class="text-xs text-green-600 dark:text-green-400 mt-1">æ¨èæ–°æ‰‹</div>
                                            </div>
                                        </button>
                                        
                                        <button onclick="selectMode('professional')" id="professionalMode" class="mode-button p-4 bg-white dark:bg-gray-700 rounded-lg border-2 border-transparent hover:border-blue-400 transition-all duration-200">
                                            <div class="text-center">
                                                <div class="text-2xl mb-2">ğŸ’¼</div>
                                                <div class="font-medium text-gray-900 dark:text-white">ä¸“ä¸šæ¨¡å¼</div>
                                                <div class="text-xs text-gray-500 dark:text-gray-400 mt-1">å·¥ä½œåœºæ™¯ã€å¤æ‚éœ€æ±‚</div>
                                                <div class="text-xs text-blue-600 dark:text-blue-400 mt-1">æ¨èç†Ÿæ‰‹</div>
                                            </div>
                                        </button>
                                        
                                        <button onclick="selectMode('smart')" id="smartMode" class="mode-button p-4 bg-white dark:bg-gray-700 rounded-lg border-2 border-transparent hover:border-purple-400 transition-all duration-200">
                                            <div class="text-center">
                                                <div class="text-2xl mb-2">ğŸ¤–</div>
                                                <div class="font-medium text-gray-900 dark:text-white">æ™ºèƒ½æ¨¡å¼</div>
                                                <div class="text-xs text-gray-500 dark:text-gray-400 mt-1">æˆ‘å¸®ä½ é€‰</div>
                                                <div class="text-xs text-purple-600 dark:text-purple-400 mt-1">æ¨èæ‡’äºº</div>
                                            </div>
                                        </button>
                                    </div>
                                    
                                    <div class="bg-white dark:bg-gray-700 rounded-lg p-4">
                                        <div class="flex items-center mb-3">
                                            <span class="mr-2">ğŸ’¬</span>
                                            <span class="font-medium text-gray-900 dark:text-white">æˆ–è€…ç›´æ¥è¯´å‡ºä½ çš„éœ€æ±‚ï¼š</span>
                                        </div>
                                        <div class="flex space-x-2">
                                            <input type="text" id="quickInput" placeholder="æˆ‘æƒ³è¦_____________________" 
                                                   class="flex-1 px-4 py-2 text-base bg-gray-50 dark:bg-gray-600 border border-gray-300 dark:border-gray-500 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-gray-900 dark:text-white">
                                            <button onclick="generateQuickPrompt()" class="px-6 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-all duration-200 font-medium">
                                                ä¸€é”®ç”Ÿæˆ
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- æ¨¡å¼è¯¦æƒ…åŒºåŸŸ -->
                            <div id="modeDetails" class="space-y-6 hidden">
                                <!-- å†…å®¹å°†ç”±JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                            </div>
                            
                            <!-- é˜²å‘æŒ‡å— -->
                            <div class="bg-red-50 dark:bg-red-900/20 rounded-lg p-6 mb-6">
                                <h4 class="font-semibold text-red-900 dark:text-red-300 mb-4 flex items-center">
                                    <span class="mr-2">âš ï¸</span>
                                    é˜²å‘æŒ‡å— - é¿å…å¸¸è§é”™è¯¯
                                </h4>
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                    <div>
                                        <h5 class="font-medium text-red-800 dark:text-red-300 mb-2">âŒ å¸¸è§é”™è¯¯</h5>
                                        <ul class="text-sm text-red-700 dark:text-red-200 space-y-1">
                                            <li>â€¢ <strong>è¿‡åº¦å¤æ‚</strong>ï¼š"è¯·ç”¨è¾©è¯å”¯ç‰©ä¸»ä¹‰å“²å­¦è§‚ç‚¹åˆ†æ..." â†’ å¤ªè£…äº†</li>
                                            <li>â€¢ <strong>æ¨¡ç³Šä¸æ¸…</strong>ï¼š"å¸®æˆ‘å†™ä¸ªä¸œè¥¿" â†’ AIä¹ŸçŒœä¸åˆ°</li>
                                            <li>â€¢ <strong>è‡ªç›¸çŸ›ç›¾</strong>ï¼š"è¯¦ç»†ä½†è¦ç®€çŸ­" â†’ é€‰ä¸€ä¸ª</li>
                                            <li>â€¢ <strong>è´ªå¤šæ±‚å…¨</strong>ï¼š"å¸®æˆ‘å†™æ–‡ç« +ç¿»è¯‘+é…å›¾+..." â†’ ä¸€æ¬¡ä¸€ä¸ªä»»åŠ¡</li>
                                        </ul>
                                    </div>
                                    <div>
                                        <h5 class="font-medium text-green-800 dark:text-green-300 mb-2">âœ… æ­£ç¡®åšæ³•</h5>
                                        <ul class="text-sm text-green-700 dark:text-green-200 space-y-1">
                                            <li>â€¢ <strong>è¯´äººè¯</strong>ï¼šæ€ä¹ˆå’ŒåŒäº‹è¯´å°±æ€ä¹ˆå†™</li>
                                            <li>â€¢ <strong>ä¸€æ¬¡ä¸€äº‹</strong>ï¼šå¤æ‚ä»»åŠ¡åˆ†æ­¥éª¤æ¥</li>
                                            <li>â€¢ <strong>ç»™ä¾‹å­</strong>ï¼šä¸ç¡®å®šå°±ç»™ä¸ªç¤ºä¾‹</li>
                                            <li>â€¢ <strong>å¿«é€Ÿè¿­ä»£</strong>ï¼šä¸æ»¡æ„å°±è®©AIæ”¹</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- è®°ä½è¿™ä¸‰å¥è¯ -->
                            <div class="bg-yellow-50 dark:bg-yellow-900/20 rounded-lg p-6">
                                <h4 class="font-semibold text-yellow-900 dark:text-yellow-300 mb-4 flex items-center">
                                    <span class="mr-2">ğŸ’¡</span>
                                    è®°ä½è¿™ä¸‰å¥è¯
                                </h4>
                                <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                                    <div class="text-center p-4 bg-white dark:bg-gray-700 rounded-lg">
                                        <div class="text-2xl mb-2">ğŸ¯</div>
                                        <div class="font-medium text-gray-900 dark:text-white mb-2">å¤Ÿç”¨å°±å¥½</div>
                                        <div class="text-sm text-gray-600 dark:text-gray-400">ä¸æ˜¯è¶Šå¤æ‚è¶Šå¥½ï¼Œé€‚åˆçš„æ‰æ˜¯æœ€å¥½çš„</div>
                                    </div>
                                    <div class="text-center p-4 bg-white dark:bg-gray-700 rounded-lg">
                                        <div class="text-2xl mb-2">ğŸ”„</div>
                                        <div class="font-medium text-gray-900 dark:text-white mb-2">å¿«é€Ÿè¿­ä»£</div>
                                        <div class="text-sm text-gray-600 dark:text-gray-400">ç¬¬ä¸€æ¬¡ä¸å®Œç¾å¾ˆæ­£å¸¸ï¼Œè°ƒæ•´ä¸€ä¸‹å°±å¥½</div>
                                    </div>
                                    <div class="text-center p-4 bg-white dark:bg-gray-700 rounded-lg">
                                        <div class="text-2xl mb-2">ğŸ’­</div>
                                        <div class="font-medium text-gray-900 dark:text-white mb-2">ç›¸ä¿¡ç›´è§‰</div>
                                        <div class="text-sm text-gray-600 dark:text-gray-400">å¦‚æœæ„Ÿè§‰å¤ªå¤æ‚ï¼Œé‚£å°±æ˜¯çœŸçš„å¤ªå¤æ‚äº†</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- ä¸‰ç»´æ€ç»´ç”Ÿæˆå™¨æ¨¡æ€æ¡† -->
                <div id="trinityModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
                    <div class="bg-white dark:bg-gray-800 rounded-xl shadow-2xl max-w-6xl w-full mx-4 max-h-[90vh] overflow-y-auto">
                        <div class="p-6">
                            <div class="flex justify-between items-start mb-6">
                                <div>
                                    <h3 class="text-2xl font-bold text-gray-900 dark:text-white flex items-center">
                                        <span class="mr-3">ğŸ§ </span>
                                        ä¸‰ç»´æ€ç»´ç”Ÿæˆå™¨
                                    </h3>
                                    <p class="text-sm text-gray-500 dark:text-gray-400">å¤šè§’åº¦åä½œæ€ç»´ï¼Œè®©AIä»ç»“æ„åŒ–ã€è§£æ„æ€§ã€æ•´åˆæ€§ä¸‰ä¸ªç»´åº¦æ·±åº¦æ€è€ƒ</p>
                                </div>
                                <button onclick="closeTrinityGenerator()" class="text-gray-400 hover:text-gray-600 dark:hover:text-gray-300">
                                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                                    </svg>
                                </button>
                            </div>
                            
                            <!-- ä¸‰ç»´æ€ç»´ä»‹ç» -->
                            <div class="bg-gradient-to-r from-purple-50 via-pink-50 to-orange-50 dark:from-purple-900/20 dark:via-pink-900/20 dark:to-orange-900/20 rounded-lg p-6 mb-8">
                                <h4 class="text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center">
                                    <span class="mr-2">ğŸ¯</span>
                                    ä¸‰ç»´æ€ç»´åä½œç³»ç»Ÿ
                                </h4>
                                <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                                    <div class="text-center p-4 bg-white dark:bg-gray-700 rounded-lg">
                                        <div class="text-3xl mb-2">ğŸ—ï¸</div>
                                        <div class="font-medium text-purple-600 dark:text-purple-400 mb-2">ç»“æ„æ€ç»´</div>
                                        <div class="text-sm text-gray-600 dark:text-gray-400">é€»è¾‘ç»“æ„åŒ–ï¼Œç³»ç»Ÿæ€§åˆ†æï¼Œå±‚çº§åŒ–ç»„ç»‡</div>
                                    </div>
                                    <div class="text-center p-4 bg-white dark:bg-gray-700 rounded-lg">
                                        <div class="text-3xl mb-2">ğŸ’¥</div>
                                        <div class="font-medium text-pink-600 dark:text-pink-400 mb-2">è§£æ„æ€ç»´</div>
                                        <div class="text-sm text-gray-600 dark:text-gray-400">æ‰“ç ´å¸¸è§„ï¼Œåå‘æ€è€ƒï¼Œåˆ›æ–°çªç ´</div>
                                    </div>
                                    <div class="text-center p-4 bg-white dark:bg-gray-700 rounded-lg">
                                        <div class="text-3xl mb-2">ğŸ”—</div>
                                        <div class="font-medium text-orange-600 dark:text-orange-400 mb-2">æ•´åˆæ€ç»´</div>
                                        <div class="text-sm text-gray-600 dark:text-gray-400">èåˆè¡¨è¾¾ï¼Œå¹³è¡¡åè°ƒï¼Œæ¸…æ™°å‘ˆç°</div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- ä»»åŠ¡è¾“å…¥åŒº -->
                            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8">
                                <div class="space-y-6">
                                    <div class="bg-white dark:bg-gray-700 rounded-lg p-6 border border-gray-200 dark:border-gray-600">
                                        <h4 class="font-semibold text-gray-900 dark:text-white mb-4 flex items-center">
                                            <span class="mr-2">ğŸ“</span>
                                            è¾“å…¥ä½ çš„ä»»åŠ¡éœ€æ±‚
                                        </h4>
                                        <textarea 
                                            id="trinityTaskInput" 
                                            placeholder="æè¿°ä½ æƒ³å®Œæˆçš„ä»»åŠ¡ï¼Œä¾‹å¦‚ï¼š
â€¢ åˆ¶å®šæ–°äº§å“çš„è¥é”€ç­–ç•¥
â€¢ åˆ†æç”¨æˆ·æµå¤±é—®é¢˜çš„è§£å†³æ–¹æ¡ˆ
â€¢ è®¾è®¡å›¢é˜Ÿåä½œæµç¨‹
â€¢ é‡æ–°å®šä¹‰å“ç‰Œä»·å€¼ä¸»å¼ 
ç³»ç»Ÿä¼šè‡ªåŠ¨ä»ä¸‰ä¸ªæ€ç»´ç»´åº¦è¿›è¡Œåä½œåˆ†æ..."
                                            class="w-full h-40 p-4 text-base bg-gray-50 dark:bg-gray-600 border border-gray-300 dark:border-gray-500 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 text-gray-900 dark:text-white resize-none"
                                        ></textarea>
                                        
                                        <div class="mt-4">
                                            <h5 class="text-sm font-medium text-gray-700 dark:text-gray-300 mb-3">ä»»åŠ¡å±æ€§æ ‡ç­¾</h5>
                                            <div class="flex flex-wrap gap-2">
                                                <button onclick="toggleTaskTag('creative')" id="tag-creative" class="task-tag px-3 py-1 text-sm bg-gray-100 dark:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-full hover:bg-purple-100 dark:hover:bg-purple-800 transition-all duration-200">ğŸ¨ åˆ›æ–°ç±»</button>
                                                <button onclick="toggleTaskTag('analytical')" id="tag-analytical" class="task-tag px-3 py-1 text-sm bg-gray-100 dark:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-full hover:bg-purple-100 dark:hover:bg-purple-800 transition-all duration-200">ğŸ“Š åˆ†æç±»</button>
                                                <button onclick="toggleTaskTag('strategic')" id="tag-strategic" class="task-tag px-3 py-1 text-sm bg-gray-100 dark:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-full hover:bg-purple-100 dark:hover:bg-purple-800 transition-all duration-200">ğŸ¯ æˆ˜ç•¥ç±»</button>
                                                <button onclick="toggleTaskTag('complex')" id="tag-complex" class="task-tag px-3 py-1 text-sm bg-gray-100 dark:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-full hover:bg-purple-100 dark:hover:bg-purple-800 transition-all duration-200">ğŸ”„ å¤æ‚ç±»</button>
                                            </div>
                                        </div>
                                        
                                        <button onclick="startTrinityGeneration()" class="mt-6 w-full px-6 py-3 bg-gradient-to-r from-purple-500 via-pink-500 to-orange-500 text-white rounded-lg font-medium hover:from-purple-600 hover:via-pink-600 hover:to-orange-600 transition-all duration-200">
                                            ğŸš€ å¯åŠ¨ä¸‰ç»´æ€ç»´åä½œ
                                        </button>
                                    </div>
                                </div>
                                
                                <div class="space-y-6">
                                    <div class="bg-white dark:bg-gray-700 rounded-lg p-6 border border-gray-200 dark:border-gray-600">
                                        <h4 class="font-semibold text-gray-900 dark:text-white mb-4 flex items-center">
                                            <span class="mr-2">âš™ï¸</span>
                                            æ™ºèƒ½è°ƒåº¦é…ç½®
                                        </h4>
                                        
                                        <div class="space-y-4">
                                            <div>
                                                <label class="text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block">æ€ç»´æ¨¡å¼æƒé‡åˆ†é…</label>
                                                <div class="space-y-3">
                                                    <div class="flex items-center justify-between">
                                                        <span class="text-sm text-gray-600 dark:text-gray-400">ğŸ—ï¸ ç»“æ„æ€ç»´</span>
                                                        <input type="range" id="structureWeight" min="0" max="100" value="33" class="w-24" onchange="updateWeights()">
                                                        <span class="text-sm font-medium text-gray-900 dark:text-white w-12" id="structureValue">33%</span>
                                                    </div>
                                                    <div class="flex items-center justify-between">
                                                        <span class="text-sm text-gray-600 dark:text-gray-400">ğŸ’¥ è§£æ„æ€ç»´</span>
                                                        <input type="range" id="deconstructWeight" min="0" max="100" value="33" class="w-24" onchange="updateWeights()">
                                                        <span class="text-sm font-medium text-gray-900 dark:text-white w-12" id="deconstructValue">33%</span>
                                                    </div>
                                                    <div class="flex items-center justify-between">
                                                        <span class="text-sm text-gray-600 dark:text-gray-400">ğŸ”— æ•´åˆæ€ç»´</span>
                                                        <input type="range" id="integrateWeight" min="0" max="100" value="34" class="w-24" onchange="updateWeights()">
                                                        <span class="text-sm font-medium text-gray-900 dark:text-white w-12" id="integrateValue">34%</span>
                                                    </div>
                                                </div>
                                            </div>
                                            
                                            <div>
                                                <label class="text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block">åä½œæ¨¡å¼</label>
                                                <select id="collaborationMode" class="w-full p-2 text-sm bg-gray-50 dark:bg-gray-600 border border-gray-300 dark:border-gray-500 rounded text-gray-900 dark:text-white">
                                                    <option value="sequential">ğŸ”„ é¡ºåºåä½œï¼ˆç»“æ„â†’è§£æ„â†’æ•´åˆï¼‰</option>
                                                    <option value="parallel">âš¡ å¹¶è¡Œåä½œï¼ˆä¸‰ç»´åŒæ—¶æ€è€ƒï¼‰</option>
                                                    <option value="iterative">ğŸ” è¿­ä»£åä½œï¼ˆå¾ªç¯ä¼˜åŒ–ï¼‰</option>
                                                </select>
                                            </div>
                                            
                                            <div>
                                                <label class="text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block">è¾“å‡ºæ·±åº¦</label>
                                                <select id="outputDepth" class="w-full p-2 text-sm bg-gray-50 dark:bg-gray-600 border border-gray-300 dark:border-gray-500 rounded text-gray-900 dark:text-white">
                                                    <option value="outline">ğŸ“‹ æ¡†æ¶æ¦‚è¦</option>
                                                    <option value="detailed">ğŸ“ è¯¦ç»†åˆ†æ</option>
                                                    <option value="comprehensive">ğŸ“š å…¨é¢æ·±å…¥</option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- ä¸‰ç»´æ€ç»´åä½œè¿‡ç¨‹å±•ç¤º -->
                            <div id="trinityProcess" class="space-y-6 hidden">
                                <div class="bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-lg p-6">
                                    <h4 class="font-semibold text-blue-900 dark:text-blue-300 mb-4 flex items-center">
                                        <span class="mr-2">ğŸ”„</span>
                                        ä¸‰ç»´æ€ç»´åä½œè¿‡ç¨‹
                                    </h4>
                                    <div id="processSteps" class="space-y-4">
                                        <!-- åŠ¨æ€ç”Ÿæˆåä½œæ­¥éª¤ -->
                                    </div>
                                </div>
                                
                                <!-- æœ€ç»ˆç”Ÿæˆçš„æç¤ºè¯ -->
                                <div id="finalPrompt" class="bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 rounded-lg p-6 hidden">
                                    <h4 class="font-semibold text-green-900 dark:text-green-300 mb-4 flex items-center">
                                        <span class="mr-2">âœ¨</span>
                                        ä¸‰ç»´åä½œç”Ÿæˆçš„æç¤ºè¯
                                    </h4>
                                    <div id="generatedPrompt" class="bg-white dark:bg-gray-800 rounded-lg p-4 border">
                                        <!-- ç”Ÿæˆçš„æç¤ºè¯å†…å®¹ -->
                                    </div>
                                    <div class="flex justify-center space-x-4 mt-6">
                                        <button onclick="copyTrinityPrompt()" class="px-6 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-all duration-200">
                                            ğŸ“‹ å¤åˆ¶æç¤ºè¯
                                        </button>
                                        <button onclick="optimizeTrinityPrompt()" class="px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-all duration-200">
                                            ğŸ”„ é‡æ–°åä½œ
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- æç¤ºè¯é…æ–¹è§£æå™¨æ¨¡æ€æ¡† -->
                <div id="analyzerModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
                    <div class="bg-white dark:bg-gray-800 rounded-xl shadow-2xl max-w-6xl w-full mx-4 max-h-[90vh] overflow-y-auto">
                        <div class="p-6">
                            <div class="flex justify-between items-start mb-6">
                                <div>
                                    <h3 class="text-2xl font-bold text-gray-900 dark:text-white flex items-center">
                                        <span class="mr-3">ğŸ”</span>
                                        æç¤ºè¯é…æ–¹è§£æå™¨
                                    </h3>
                                    <p class="text-sm text-gray-500 dark:text-gray-400">é€†å‘å·¥ç¨‹ä¼˜ç§€æç¤ºè¯ï¼Œè¯†åˆ«ç»„åˆé…æ–¹ï¼Œå¯å‘ä¸¾ä¸€åä¸‰</p>
                                </div>
                                <button onclick="closeAnalyzer()" class="text-gray-400 hover:text-gray-600 dark:hover:text-gray-300">
                                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                                    </svg>
                                </button>
                            </div>
                            
                            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                                <!-- å·¦ä¾§ï¼šè¾“å…¥åŒºåŸŸ -->
                                <div class="space-y-6">
                                    <div class="bg-gradient-to-r from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20 rounded-lg p-6">
                                        <h4 class="font-semibold text-gray-900 dark:text-white mb-4 flex items-center">
                                            <span class="mr-2">ğŸ“</span>
                                            è¾“å…¥å¾…åˆ†æçš„æç¤ºè¯
                                        </h4>
                                        <textarea 
                                            id="promptInput" 
                                            placeholder="è¯·è¾“å…¥æ‚¨æƒ³åˆ†æçš„æç¤ºè¯ï¼Œä¾‹å¦‚ï¼š
ä½ æ˜¯ä¸€ä½èµ„æ·±çš„äº§å“ç»ç†ï¼Œæ‹¥æœ‰10å¹´çš„äº’è”ç½‘äº§å“ç»éªŒã€‚è¯·ä¸ºæˆ‘ä»¬çš„åœ¨çº¿æ•™è‚²å¹³å°åˆ†æç”¨æˆ·æµå¤±é—®é¢˜ã€‚
è¦æ±‚ï¼š
1. ä»ç”¨æˆ·ä½“éªŒã€äº§å“åŠŸèƒ½ã€ç«äº‰ç¯å¢ƒä¸‰ä¸ªç»´åº¦åˆ†æ
2. æ¯ä¸ªç»´åº¦æä¾›å…·ä½“çš„æ•°æ®æ”¯æ’‘å’Œæ¡ˆä¾‹
3. è¾“å‡ºæ ¼å¼ï¼šé—®é¢˜åˆ†æâ†’åŸå› æŒ–æ˜â†’æ”¹è¿›å»ºè®®
4. ç¡®ä¿å»ºè®®å…·æœ‰å¯æ“ä½œæ€§å’Œä¼˜å…ˆçº§æ’åº
è¯·ä»¥SWOTåˆ†ææ¡†æ¶ä¸ºåŸºç¡€ï¼ŒåŒæ—¶è€ƒè™‘ç”¨æˆ·ç”Ÿå‘½å‘¨æœŸçš„ä¸åŒé˜¶æ®µã€‚"
                                            class="w-full h-64 p-4 text-base bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 text-gray-900 dark:text-white resize-none"
                                        ></textarea>
                                        
                                        <div class="mt-4 flex justify-between items-center">
                                            <div class="flex space-x-2">
                                                <button onclick="loadExample(1)" class="px-3 py-1 text-xs bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300 rounded hover:bg-purple-200 dark:hover:bg-purple-800/50">
                                                    ğŸ‡¨ğŸ‡³ äº§å“åˆ†æ
                                                </button>
                                                <button onclick="loadExample(2)" class="px-3 py-1 text-xs bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300 rounded hover:bg-purple-200 dark:hover:bg-purple-800/50">
                                                    ğŸ‡ºğŸ‡¸ Marketing
                                                </button>
                                                <button onclick="loadExample(3)" class="px-3 py-1 text-xs bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300 rounded hover:bg-purple-200 dark:hover:bg-purple-800/50">
                                                    ğŸ‡¯ğŸ‡µ å•†å“æˆ¦ç•¥
                                                </button>
                                            </div>
                                            <button onclick="analyzePrompt()" class="px-6 py-2 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-lg font-medium hover:from-purple-600 hover:to-pink-600 transition-all duration-200">
                                                ğŸ”¬ å¼€å§‹è§£æ
                                            </button>
                                        </div>
                                    </div>
                                    
                                    <!-- ä¼˜åŒ–å»ºè®®åŒºåŸŸ -->
                                    <div id="optimizationSuggestions" class="bg-blue-50 dark:bg-blue-900/20 rounded-lg p-6 hidden">
                                        <h4 class="font-semibold text-blue-900 dark:text-blue-300 mb-4 flex items-center">
                                            <span class="mr-2">ğŸ’¡</span>
                                            æ™ºèƒ½ä¼˜åŒ–å»ºè®®
                                        </h4>
                                        <div id="suggestionContent">
                                            <!-- å»ºè®®å†…å®¹ç”±JavaScriptç”Ÿæˆ -->
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- å³ä¾§ï¼šåˆ†æç»“æœ -->
                                <div class="space-y-6">
                                    <!-- é…æ–¹è¯†åˆ«ç»“æœ -->
                                    <div id="analysisResult" class="bg-green-50 dark:bg-green-900/20 rounded-lg p-6 hidden">
                                        <h4 class="font-semibold text-green-900 dark:text-green-300 mb-4 flex items-center">
                                            <span class="mr-2">ğŸ§¬</span>
                                            é…æ–¹æˆåˆ†è¯†åˆ«
                                        </h4>
                                        <div id="ingredientsList">
                                            <!-- æˆåˆ†åˆ—è¡¨ç”±JavaScriptç”Ÿæˆ -->
                                        </div>
                                    </div>
                                    
                                    <!-- æ•ˆæœé¢„æµ‹ -->
                                    <div id="effectPrediction" class="bg-yellow-50 dark:bg-yellow-900/20 rounded-lg p-6 hidden">
                                        <h4 class="font-semibold text-yellow-900 dark:text-yellow-300 mb-4 flex items-center">
                                            <span class="mr-2">ğŸ“Š</span>
                                            æ•ˆæœè¯„ä¼°åˆ†æ
                                        </h4>
                                        <div id="predictionContent">
                                            <!-- æ•ˆæœåˆ†æå†…å®¹ç”±JavaScriptç”Ÿæˆ -->
                                        </div>
                                    </div>
                                    
                                    <!-- ä¸¾ä¸€åä¸‰å»ºè®® -->
                                    <div id="inspirationSuggestions" class="bg-orange-50 dark:bg-orange-900/20 rounded-lg p-6 hidden">
                                        <h4 class="font-semibold text-orange-900 dark:text-orange-300 mb-4 flex items-center">
                                            <span class="mr-2">ğŸš€</span>
                                            ä¸¾ä¸€åä¸‰å¯å‘
                                        </h4>
                                        <div id="inspirationContent">
                                            <!-- å¯å‘å†…å®¹ç”±JavaScriptç”Ÿæˆ -->
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script>
        // æç¤ºè¯æ–¹æ³•æ•°æ®åº“ï¼ˆMECEç»ˆæç‰ˆ + æ–°å…´æ–¹æ³•æ•´åˆï¼‰
        const methodsDatabase = {
            "ç»“æ„æ€§æ“ä½œ": {
                icon: "ğŸ—ï¸",
                description: "æ”¹å˜æç¤ºè¯çš„ç»„ç»‡æ¶æ„å’Œé€»è¾‘å…³ç³»",
                level: "basic",
                gradient: "category-gradient-1",
                methods: {
                    "è§£æ„é‡ç»„": {
                        "ç»“æ„é‡æ„": {
                            description: "æ‹†è§£å¤æ‚æç¤ºè¯å¹¶é‡æ–°ç»„è£…",
                            explanation: "å°±åƒæ‹†ç§¯æœ¨é‡æ–°æ­å»ºä¸€æ ·ï¼ŒæŠŠå¤æ‚çš„æç¤ºè¯æ‹†å¼€ï¼ŒæŒ‰æ›´æ¸…æ™°çš„é€»è¾‘é‡æ–°ç»„ç»‡ã€‚",
                            example: "åŸç‰ˆï¼š'å†™ä¸€ç¯‡å…³äºAIçš„æœ‰è¶£æ–‡ç« ç»™æ™®é€šè¯»è€…çœ‹ï¼Œè¦åŒ…å«æŠ€æœ¯åŸç†'\né‡æ„ï¼š'è§’è‰²ï¼šç§‘æ™®ä½œå®¶ â†’ ç›®æ ‡ï¼šæ™®é€šè¯»è€… â†’ ä¸»é¢˜ï¼šAIæŠ€æœ¯ â†’ è¦æ±‚ï¼šé€šä¿—æœ‰è¶£ â†’ å†…å®¹ï¼šåŸç†+åº”ç”¨'"
                        },
                        "å±‚çº§åˆ†è§£": {
                            description: "å¤§ä»»åŠ¡åˆ†è§£ä¸ºæ­¥éª¤åºåˆ—",
                            explanation: "åƒå‰¥æ´‹è‘±ä¸€æ ·ï¼ŒæŠŠå¤§ä»»åŠ¡ä¸€å±‚å±‚åˆ†è§£æˆå¯æ‰§è¡Œçš„å°æ­¥éª¤ã€‚",
                            example: "å¤§ä»»åŠ¡ï¼š'åˆ¶å®šè¥é”€ç­–ç•¥'\nåˆ†è§£ï¼š'æˆ˜ç•¥å±‚é¢ï¼šç¡®å®šç›®æ ‡å¸‚åœº â†’ æˆ˜æœ¯å±‚é¢ï¼šé€‰æ‹©æ¨å¹¿æ¸ é“ â†’ è¡ŒåŠ¨å±‚é¢ï¼šåˆ¶å®šå…·ä½“è®¡åˆ’ â†’ æ‰§è¡Œå±‚é¢ï¼šåˆ†é…èµ„æºæ—¶é—´'"
                        },
                        "Chain-of-Thoughtå‡çº§ç‰ˆ": {
                            description: "Tree/Graph/Table-of-Thoughtç­‰å¤šåˆ†æ”¯æ€è€ƒè·¯å¾„",
                            explanation: "ä¸åªæ˜¯çº¿æ€§æ€è€ƒé“¾ï¼Œè€Œæ˜¯æ ‘çŠ¶ã€å›¾çŠ¶ã€è¡¨æ ¼çŠ¶çš„å¤šç»´æ€è€ƒç»“æ„ã€‚",
                            example: "Tree-of-Thoughtï¼š'ä»Aè§’åº¦åˆ†æâ†’åˆ†æ”¯1ï¼šæŠ€æœ¯å±‚é¢ï¼Œåˆ†æ”¯2ï¼šå•†ä¸šå±‚é¢ï¼Œåˆ†æ”¯3ï¼šç”¨æˆ·å±‚é¢â†’æ¯ä¸ªåˆ†æ”¯å†ç»†åˆ†â†’æœ€ç»ˆæ±‡æ€»æœ€ä¼˜è·¯å¾„'"
                        },
                        "ReActæ¨¡å¼": {
                            description: "Reasoning + Actionçš„ç»“åˆæç¤ºï¼Œæ¯è½®æ€è€ƒåé‡‡å–è¡ŒåŠ¨",
                            explanation: "åƒç§‘å­¦å®¶åšå®éªŒä¸€æ ·ï¼Œæ€è€ƒâ†’è¡ŒåŠ¨â†’è§‚å¯Ÿâ†’å†æ€è€ƒâ†’å†è¡ŒåŠ¨ã€‚",
                            example: "Thought 1: éœ€è¦åˆ†æç”¨æˆ·éœ€æ±‚ â†’ Action 1: æ”¶é›†ç”¨æˆ·æ•°æ® â†’ Observation 1: å‘ç°ç—›ç‚¹ â†’ Thought 2: è®¾è®¡è§£å†³æ–¹æ¡ˆ..."
                        },
                        "æ¨¡å—åŒ–è®¾è®¡": {
                            description: "å°†æç¤ºè¯åšæˆå¯å¤ç”¨æ¨¡å—",
                            explanation: "åƒä¹é«˜ç§¯æœ¨ä¸€æ ·ï¼ŒæŠŠå¸¸ç”¨çš„éƒ¨åˆ†åšæˆæ ‡å‡†æ¨¡å—ï¼Œéœ€è¦æ—¶å°±æ‹¿æ¥ç»„è£…ã€‚",
                            example: "è§’è‰²æ¨¡å—ï¼š'ä½ æ˜¯[ä¸“ä¸šé¢†åŸŸ]ä¸“å®¶' + ä»»åŠ¡æ¨¡å—ï¼š'è¯·åˆ†æ[å…·ä½“é—®é¢˜]' + æ ¼å¼æ¨¡å—ï¼š'æŒ‰1.2.3.æ ¼å¼è¾“å‡º' + è´¨é‡æ¨¡å—ï¼š'ç¡®ä¿å‡†ç¡®å®¢è§‚'"
                        },
                        "Prompt FunctionåŒ–": {
                            description: "å°†æç¤ºè¯æ¨¡å—å‡½æ•°åŒ–ï¼Œå¯å¤ç”¨ã€ç»„åˆã€å‚æ•°åŒ–è°ƒç”¨",
                            explanation: "åƒå†™ä»£ç ä¸€æ ·æ„å»ºæç¤ºé€»è¾‘ï¼Œæ¯ä¸ªæ¨¡å—éƒ½æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå¯ä»¥å¤ç”¨å’Œç»„åˆã€‚",
                            example: "summarize(input, style='bullet_points', length=200)\nâ†“\n'è¯·å°†ä»¥ä¸‹å†…å®¹æ€»ç»“ä¸ºè¦ç‚¹å½¢å¼ï¼Œæ§åˆ¶åœ¨200å­—å†…ï¼š[input]'"
                        },
                        "é€’å½’ç»“æ„æç¤º": {
                            description: "æç¤ºä½“å¯è‡ªè°ƒç”¨å¹¶æ ¹æ®ä¸Šæ¬¡ç”Ÿæˆç»“æœè°ƒæ•´å½“å‰è¡Œä¸º",
                            explanation: "åƒå‡½æ•°è°ƒç”¨è‡ªå·±ä¸€æ ·ï¼Œæç¤ºè¯å¯ä»¥åŸºäºå‰ä¸€è½®çš„ç»“æœç»§ç»­æ·±åŒ–ã€‚",
                            example: "ç¬¬ä¸€è½®ï¼šç”Ÿæˆåˆæ­¥åˆ†æ â†’ ç¬¬äºŒè½®ï¼šåŸºäºåˆæ­¥ç»“æœæ·±å…¥åˆ†æ â†’ ç¬¬ä¸‰è½®ï¼šåŸºäºæ·±å…¥åˆ†ææå‡ºå»ºè®®"
                        },
                        "åŸå­åŒ–æ‹†åˆ†": {
                            description: "æ‹†åˆ°æœ€å°ä¸å¯åˆ†å•å…ƒ",
                            explanation: "åƒåŒ–å­¦åˆ†è§£ä¸€æ ·ï¼ŒæŠŠå¤æ‚æŒ‡ä»¤æ‹†åˆ†åˆ°æœ€åŸºæœ¬çš„ã€ä¸èƒ½å†åˆ†çš„æŒ‡ä»¤å•å…ƒã€‚",
                            example: "å¤æ‚æŒ‡ä»¤ï¼š'åˆ†æå¹¶è¯„ä»·è¿™ä¸ªæ–¹æ¡ˆ'\nåŸå­åŒ–ï¼š'ç¬¬ä¸€æ­¥ï¼šç†è§£æ–¹æ¡ˆå†…å®¹ â†’ ç¬¬äºŒæ­¥ï¼šåˆ—å‡ºä¼˜ç‚¹ â†’ ç¬¬ä¸‰æ­¥ï¼šæ‰¾å‡ºç¼ºç‚¹ â†’ ç¬¬å››æ­¥ï¼šç»™å‡ºæ”¹è¿›å»ºè®®'"
                        },
                        "æ¥å£æ ‡å‡†åŒ–": {
                            description: "å®šä¹‰æ¨¡å—é—´è¿æ¥è§„èŒƒ",
                            explanation: "åƒç”µè„‘æ¥å£ä¸€æ ·ï¼Œå®šä¹‰ä¸åŒæ¨¡å—ä¹‹é—´å¦‚ä½•è¿æ¥å’Œä¼ é€’ä¿¡æ¯çš„æ ‡å‡†ã€‚",
                            example: "è¾“å…¥æ¥å£ï¼š'å‰ç½®æ¡ä»¶ï¼š[å¿…éœ€ä¿¡æ¯]' + å¤„ç†æ¥å£ï¼š'å¤„ç†æ–¹å¼ï¼š[æ–¹æ³•åç§°]' + è¾“å‡ºæ¥å£ï¼š'è¾“å‡ºæ ¼å¼ï¼š[æ ‡å‡†æ ¼å¼]'"
                        }
                    },
                    "æ¡†æ¶åº”ç”¨": {
                        "æ¨¡æ¿åŒ–": {
                            description: "åˆ›å»ºå¡«ç©ºå¼æç¤ºè¯æ¨¡æ¿",
                            explanation: "åƒå¡«è¡¨æ ¼ä¸€æ ·ï¼ŒæŠŠæç¤ºè¯åšæˆæ¨¡æ¿ï¼Œåªéœ€è¦å¡«å…¥å…·ä½“å†…å®¹å°±èƒ½ä½¿ç”¨ã€‚",
                            example: "é€šç”¨æ¨¡æ¿ï¼š'ä½œä¸º[è§’è‰²]ï¼Œè¯·ä¸º[ç›®æ ‡ç”¨æˆ·]å®Œæˆ[å…·ä½“ä»»åŠ¡]ï¼Œè¦æ±‚[è´¨é‡æ ‡å‡†]ï¼Œè¾“å‡º[æ ¼å¼è¦æ±‚]'\nå®ä¾‹ï¼š'ä½œä¸ºäº§å“ç»ç†ï¼Œè¯·ä¸ºå¼€å‘å›¢é˜Ÿå®Œæˆéœ€æ±‚åˆ†æï¼Œè¦æ±‚é€»è¾‘æ¸…æ™°ï¼Œè¾“å‡ºç»“æ„åŒ–æ–‡æ¡£'"
                        },
                        "æ¡†æ¶å¥—ç”¨": {
                            description: "ä½¿ç”¨SWOTã€5W1Hç­‰æˆç†Ÿæ¡†æ¶",
                            explanation: "å€Ÿç”¨å·²ç»è¢«éªŒè¯æœ‰æ•ˆçš„æ€ç»´æ¡†æ¶ï¼Œè®©AIæŒ‰ç…§è¿™äº›æˆç†Ÿçš„æ–¹æ³•æ¥æ€è€ƒã€‚",
                            example: "PDCAå¾ªç¯ï¼š'Planè®¡åˆ’ï¼šåˆ¶å®šç›®æ ‡å’Œæ–¹æ¡ˆ â†’ Doæ‰§è¡Œï¼šå®æ–½å…·ä½“è¡ŒåŠ¨ â†’ Checkæ£€æŸ¥ï¼šè¯„ä¼°æ‰§è¡Œæ•ˆæœ â†’ Actæ”¹è¿›ï¼šä¼˜åŒ–å’Œè°ƒæ•´'"
                        },
                        "æ€ç»´å¯¼å›¾åŒ–": {
                            description: "æ ‘çŠ¶ç»“æ„ç»„ç»‡ä¿¡æ¯",
                            explanation: "åƒç”»å®¶æ—è°±ä¸€æ ·ï¼ŒæŠŠä¿¡æ¯æŒ‰ç…§å±‚çº§å…³ç³»æ’åˆ—ï¼Œä¸»é¢˜â†’åˆ†æ”¯â†’ç»†èŠ‚ã€‚",
                            example: "ä¸­å¿ƒï¼šäº§å“ç­–ç•¥\nâ”œâ”€ å¸‚åœºåˆ†æ\nâ”‚  â”œâ”€ ç›®æ ‡ç”¨æˆ·\nâ”‚  â”œâ”€ ç«äº‰å¯¹æ‰‹\nâ”‚  â””â”€ å¸‚åœºè¶‹åŠ¿\nâ”œâ”€ äº§å“å®šä½\nâ””â”€ æ¨å¹¿ç­–ç•¥"
                        },
                        "çŸ©é˜µåŒ–ç»„ç»‡": {
                            description: "äºŒç»´è¡¨æ ¼ç»“æ„åŒ–",
                            explanation: "åƒExcelè¡¨æ ¼ä¸€æ ·ï¼Œç”¨è¡Œåˆ—äº¤å‰çš„æ–¹å¼ç»„ç»‡ä¿¡æ¯ï¼Œä¾¿äºæ¯”è¾ƒå’Œåˆ†æã€‚",
                            example: "åŠŸèƒ½éœ€æ±‚çŸ©é˜µï¼š\n          | é‡è¦æ€§ | ç´§æ€¥æ€§ | å®ç°éš¾åº¦ | èµ„æºéœ€æ±‚\nåŠŸèƒ½A     |   é«˜   |   é«˜   |    ä½    |    ä¸­\nåŠŸèƒ½B     |   ä¸­   |   ä½   |    é«˜    |    é«˜"
                        },
                        "æµç¨‹å›¾è®¾è®¡": {
                            description: "ç”¨æµç¨‹é€»è¾‘ä¸²è”",
                            explanation: "åƒç”»æµç¨‹å›¾ä¸€æ ·ï¼Œç”¨ç®­å¤´å’Œæ¡†æ¡†æŠŠå¤„ç†æ­¥éª¤ä¸²è”èµ·æ¥ã€‚",
                            example: "å¼€å§‹ â†’ è¾“å…¥é—®é¢˜ â†’ åˆ¤æ–­ç±»å‹ â†’ [å¦‚æœAç±»å‹]å¤„ç†A â†’ [å¦‚æœBç±»å‹]å¤„ç†B â†’ æ•´åˆç»“æœ â†’ è¾“å‡ºç­”æ¡ˆ â†’ ç»“æŸ"
                        }
                    },
                    "é€»è¾‘ç¼–æ’": {
                        "é“¾å¼æ€è€ƒ": {
                            description: "è®¾è®¡æ¨ç†æ­¥éª¤é“¾æ¡",
                            explanation: "åƒå¤šç±³è¯ºéª¨ç‰Œä¸€æ ·ï¼Œä¸€æ­¥æ¨å¯¼å‡ºä¸‹ä¸€æ­¥ï¼Œç¯ç¯ç›¸æ‰£ã€‚",
                            example: "æ¨ç†é“¾ï¼š'å› ä¸ºå¸‚åœºéœ€æ±‚å¢é•¿ â†’ æ‰€ä»¥éœ€è¦æ‰©å¤§äº§èƒ½ â†’ å› æ­¤éœ€è¦å¢åŠ æŠ•èµ„ â†’ æ‰€ä»¥è¦å¯»æ‰¾èµ„é‡‘æ¥æº â†’ æœ€ç»ˆé€‰æ‹©èèµ„æ–¹æ¡ˆ'"
                        },
                        "æ¡ä»¶åˆ†æ”¯": {
                            description: "if-thenè§„åˆ™è®¾ç½®",
                            explanation: "åƒç¨‹åºçš„if-elseè¯­å¥ä¸€æ ·ï¼Œæ ¹æ®ä¸åŒæ¡ä»¶æ‰§è¡Œä¸åŒçš„å¤„ç†é€»è¾‘ã€‚",
                            example: "æ¡ä»¶åˆ¤æ–­ï¼š'å¦‚æœç”¨æˆ·æ˜¯æ–°æ‰‹ â†’ æä¾›åŸºç¡€æ•™ç¨‹ï¼›å¦‚æœç”¨æˆ·æœ‰ç»éªŒ â†’ æä¾›é«˜çº§åŠŸèƒ½ï¼›å¦‚æœç”¨æˆ·æ˜¯ä¸“å®¶ â†’ æä¾›å®šåˆ¶åŒ–é€‰é¡¹'"
                        },
                        "é€’å½’æ·±åŒ–": {
                            description: "å¯¹ç»“æœå†æ¬¡æ·±å…¥æŒ–æ˜",
                            explanation: "åƒä¿„ç½—æ–¯å¥—å¨ƒä¸€æ ·ï¼Œä¸€å±‚å±‚æ·±å…¥ï¼Œæ¯æ¬¡éƒ½åœ¨å‰ä¸€æ¬¡çš„åŸºç¡€ä¸Šè¿›ä¸€æ­¥æŒ–æ˜ã€‚",
                            example: "é€’å½’åˆ†æï¼š'è¡¨é¢é—®é¢˜ï¼šç”¨æˆ·æµå¤± â†’ æ·±å±‚é—®é¢˜ï¼šç”¨æˆ·ä½“éªŒå·® â†’ æ ¹æœ¬é—®é¢˜ï¼šäº§å“åŠŸèƒ½ä¸åŒ¹é…éœ€æ±‚ â†’ æœ¬è´¨é—®é¢˜ï¼šå¸‚åœºè°ƒç ”ä¸è¶³'"
                        },
                        "å¾ªç¯è¿­ä»£": {
                            description: "è®¾ç½®é‡å¤æ‰§è¡Œé€»è¾‘",
                            explanation: "åƒæ´—è¡£æœºçš„æ´—æ¶¤ç¨‹åºä¸€æ ·ï¼Œé‡å¤æ‰§è¡ŒæŸä¸ªè¿‡ç¨‹ç›´åˆ°è¾¾åˆ°æ»¡æ„çš„ç»“æœã€‚",
                            example: "è¿­ä»£ä¼˜åŒ–ï¼š'ç”Ÿæˆåˆç‰ˆæ–¹æ¡ˆ â†’ è¯„ä¼°æ•ˆæœ â†’ å‘ç°é—®é¢˜ â†’ æ”¹è¿›æ–¹æ¡ˆ â†’ é‡å¤ç›´åˆ°æ»¡æ„ â†’ è¾“å‡ºæœ€ç»ˆæ–¹æ¡ˆ'"
                        },
                        "å¹¶è¡Œå¤„ç†": {
                            description: "åŒæ—¶å¤„ç†å¤šä¸ªåˆ†æ”¯",
                            explanation: "åƒå¤šçº¿ç¨‹å¤„ç†ä¸€æ ·ï¼ŒåŒæ—¶ä»å¤šä¸ªè§’åº¦æˆ–ç»´åº¦æ¥åˆ†æé—®é¢˜ã€‚",
                            example: "å¹¶è¡Œåˆ†æï¼š'åŒæ—¶ä»æŠ€æœ¯å¯è¡Œæ€§ã€å•†ä¸šä»·å€¼ã€ç”¨æˆ·éœ€æ±‚ã€èµ„æºæŠ•å…¥å››ä¸ªç»´åº¦è¯„ä¼°è¿™ä¸ªé¡¹ç›®'"
                        }
                    }
                }
            },
            "å†…å®¹æ€§æ“ä½œ": {
                icon: "ğŸ’¬",
                description: "æ”¹å˜æç¤ºè¯çš„ä¿¡æ¯å†…å®¹å’Œè¡¨è¾¾æ–¹å¼",
                level: "basic",
                gradient: "category-gradient-2",
                methods: {
                    "ä¿¡æ¯è½¬æ¢": {
                        "å¯†åº¦æ§åˆ¶": {
                            description: "è°ƒæ•´ä¿¡æ¯æµ“ç¼©ç¨‹åº¦",
                            explanation: "åƒè°ƒèŠ‚å’–å•¡æµ“åº¦ä¸€æ ·ï¼Œæ§åˆ¶ä¿¡æ¯çš„å¯†é›†ç¨‹åº¦ï¼Œè¯¥è¯¦ç»†æ—¶è¯¦ç»†ï¼Œè¯¥ç®€æ´æ—¶ç®€æ´ã€‚",
                            example: "é«˜å¯†åº¦ï¼š'ç”¨50å­—æ¦‚æ‹¬æ ¸å¿ƒè¦ç‚¹'\nä¸­å¯†åº¦ï¼š'ç”¨300å­—è¯¦ç»†è¯´æ˜'\nä½å¯†åº¦ï¼š'ç”¨1000å­—æ·±å…¥é˜è¿°ï¼ŒåŒ…å«èƒŒæ™¯ã€è¿‡ç¨‹ã€æ¡ˆä¾‹'"
                        },
                        "ç²’åº¦è°ƒèŠ‚": {
                            description: "æ§åˆ¶ç»†èŠ‚å±‚æ¬¡",
                            explanation: "åƒè°ƒèŠ‚æ˜¾å¾®é•œå€æ•°ä¸€æ ·ï¼Œæ§åˆ¶è§‚å¯Ÿé—®é¢˜çš„ç²¾ç»†ç¨‹åº¦ã€‚",
                            example: "å®è§‚ï¼š'ä»è¡Œä¸šè¶‹åŠ¿è§’åº¦åˆ†æ'\nä¸­è§‚ï¼š'ä»ä¼ä¸šæˆ˜ç•¥è§’åº¦åˆ†æ'\nå¾®è§‚ï¼š'ä»å…·ä½“åŠŸèƒ½è§’åº¦åˆ†æ'"
                        },
                        "è®¤çŸ¥è´Ÿè½½è°ƒèŠ‚": {
                            description: "åˆ†å±‚æ§åˆ¶å¤æ‚åº¦",
                            explanation: "åƒæ¸¸æˆè®¾è®¡å…³å¡éš¾åº¦ä¸€æ ·ï¼ŒæŒ‰ç…§ç†è§£èƒ½åŠ›åˆ†å±‚å±•ç¤ºä¿¡æ¯ã€‚",
                            example: "å…¥é—¨ç‰ˆï¼š'ç”¨ä¸€å¥è¯è¯´æ˜æ ¸å¿ƒæ¦‚å¿µ'\nè¿›é˜¶ç‰ˆï¼š'ç”¨ä¸‰ä¸ªè¦ç‚¹å±•å¼€è¯´æ˜'\nä¸“ä¸šç‰ˆï¼š'æä¾›å®Œæ•´çš„æŠ€æœ¯ç»†èŠ‚å’Œç†è®ºä¾æ®'"
                        },
                        "æŠ½è±¡åº¦å˜æ¢": {
                            description: "å…·ä½“â†”æŠ½è±¡è½¬æ¢",
                            explanation: "åƒç”µæ¢¯ä¸€æ ·ï¼Œåœ¨å…·ä½“æ¡ˆä¾‹å’ŒæŠ½è±¡åŸç†ä¹‹é—´ä¸Šä¸‹ç§»åŠ¨ã€‚",
                            example: "å…·ä½“â†’æŠ½è±¡ï¼š'ä»è‹¹æœæ‰‹æœºçš„æˆåŠŸ â†’ æ€»ç»“å‡ºäº§å“è®¾è®¡çš„é€šç”¨åŸç†'\næŠ½è±¡â†’å…·ä½“ï¼š'å°†è®¾è®¡æ€ç»´ç†è®º â†’ åº”ç”¨åˆ°å…·ä½“çš„APPè®¾è®¡ä¸­'"
                        },
                        "ä¸“ä¸šåº¦è°ƒèŠ‚": {
                            description: "é€šä¿—â†”ä¸“ä¸šè½¬æ¢",
                            explanation: "åƒè°ƒèŠ‚è¯­è¨€é¢‘é“ä¸€æ ·ï¼Œåœ¨ä¸“ä¸šæœ¯è¯­å’Œé€šä¿—è¡¨è¾¾ä¹‹é—´åˆ‡æ¢ã€‚",
                            example: "é€šä¿—ç‰ˆï¼š'ç”¨å¤§ç™½è¯è§£é‡ŠåŒºå—é“¾'\nä¸“ä¸šç‰ˆï¼š'ç”¨å­¦æœ¯è¯­è¨€åˆ†æåˆ†å¸ƒå¼è´¦æœ¬æŠ€æœ¯çš„å¯†ç å­¦åŸºç¡€'"
                        }
                    },
                    "è¯­ä¹‰æ˜ å°„": {
                        "ç±»æ¯”æ˜ å°„": {
                            description: "ç”¨ç†Ÿæ‚‰äº‹ç‰©è§£é‡Šé™Œç”Ÿæ¦‚å¿µ",
                            explanation: "åƒç¿»è¯‘å®˜ä¸€æ ·ï¼Œç”¨å¤§å®¶éƒ½æ‡‚çš„äº‹ç‰©æ¥è§£é‡Šå¤æ‚çš„æ–°æ¦‚å¿µã€‚",
                            example: "'ç”¨åšèœçš„è¿‡ç¨‹æ¥è§£é‡Šè½¯ä»¶å¼€å‘ï¼šå‡†å¤‡é£Ÿæ=éœ€æ±‚åˆ†æï¼Œåˆ¶å®šèœè°±=ç³»ç»Ÿè®¾è®¡ï¼Œç‚’èœè¿‡ç¨‹=ç¼–ç å®ç°ï¼Œå“å°è°ƒå‘³=æµ‹è¯•ä¼˜åŒ–'"
                        },
                        "éšå–»æ„å»º": {
                            description: "åˆ›é€ æ¯”å–»ä½“ç³»",
                            explanation: "ä¸åªæ˜¯ä¸€ä¸ªæ¯”å–»ï¼Œè€Œæ˜¯æ„å»ºä¸€æ•´å¥—ç›¸äº’å…³è”çš„æ¯”å–»ç³»ç»Ÿã€‚",
                            example: "ä¼ä¸šç”Ÿæ€ç³»ç»Ÿéšå–»ï¼šCEO=ç‹®ç‹ï¼Œç®¡ç†å±‚=é£Ÿç‰©é“¾é¡¶ç«¯ï¼Œå‘˜å·¥=å„ç§åŠ¨ç‰©ï¼Œå¸‚åœº=æ –æ¯åœ°ï¼Œç«äº‰=ç”Ÿå­˜æ–—äº‰ï¼Œåˆ›æ–°=è¿›åŒ–é€‚åº”"
                        },
                        "ç¬¦å·ç³»ç»Ÿè½¬æ¢": {
                            description: "ä¸åŒè¡¨è¾¾å½¢å¼é—´è½¬æ¢",
                            explanation: "åƒå¤šè¯­è¨€ç¿»è¯‘ä¸€æ ·ï¼ŒæŠŠåŒæ ·çš„ä¿¡æ¯ç”¨ä¸åŒçš„'è¯­è¨€'è¡¨è¾¾å‡ºæ¥ã€‚",
                            example: "'æŠŠæ•°æ®è¡¨æ ¼è½¬æ¢æˆæ•…äº‹å™è¿°ï¼šæ•°å­—å˜æˆæƒ…èŠ‚ï¼Œè¶‹åŠ¿å˜æˆæ•…äº‹å‘å±•ï¼Œå¼‚å¸¸å˜æˆè½¬æŠ˜ç‚¹'"
                        },
                        "æ¦‚å¿µæ¡¥æ¥": {
                            description: "å»ºç«‹æ¦‚å¿µé—´è”ç³»",
                            explanation: "åƒå»ºæ¡¥ä¸€æ ·ï¼Œåœ¨æ–°æ—§æ¦‚å¿µä¹‹é—´å»ºç«‹è¿æ¥ï¼Œå¸®åŠ©ç†è§£ã€‚",
                            example: "'å°†äººå·¥æ™ºèƒ½æ¦‚å¿µä¸å¤§è„‘ç¥ç»ç½‘ç»œè”ç³»ï¼šç¥ç»å…ƒ=èŠ‚ç‚¹ï¼Œçªè§¦=è¿æ¥æƒé‡ï¼Œå­¦ä¹ =æƒé‡è°ƒæ•´'"
                        },
                        "åŸŸé—´è¿ç§»": {
                            description: "è·¨çŸ¥è¯†é¢†åŸŸè½¬æ¢",
                            explanation: "åƒæŠŠä¸€ä¸ªé¢†åŸŸçš„æˆåŠŸç»éªŒç§»æ¤åˆ°å¦ä¸€ä¸ªé¢†åŸŸã€‚",
                            example: "'å°†å†›äº‹æˆ˜ç•¥åŸç†åº”ç”¨åˆ°å•†ä¸šç«äº‰ï¼šå…µåŠ›=èµ„æºï¼Œæˆ˜åœº=å¸‚åœºï¼Œæƒ…æŠ¥=å¸‚åœºè°ƒç ”ï¼Œæˆ˜æœ¯=è¥é”€ç­–ç•¥'"
                        }
                    },
                    "è¡¨è¾¾ä¼˜åŒ–": {
                        "è¯­è¨€é£æ ¼ç¼–ç ": {
                            description: "æŒ‡å®šç‰¹å®šä½œå®¶æˆ–æµæ´¾é£æ ¼",
                            explanation: "åƒæ¨¡ä»¿åäººè¯´è¯ä¸€æ ·ï¼Œè®©AIå­¦ä¹ ç‰¹å®šçš„å†™ä½œé£æ ¼ã€‚",
                            example: "'ç”¨æµ·æ˜å¨çš„ç®€æ´é£æ ¼å†™æŠ€æœ¯æ–‡æ¡£ï¼šçŸ­å¥ï¼Œç›´æ¥ï¼Œé¿å…ä¿®é¥°è¯'\n'ç”¨ä¹”å¸ƒæ–¯çš„æ¼”è®²é£æ ¼ä»‹ç»äº§å“ï¼šæ¿€æƒ…ï¼Œç®€æ´ï¼Œé‡ç‚¹çªå‡º'"
                        },
                        "ä¿®è¾æ‰‹æ³•åº”ç”¨": {
                            description: "è¿ç”¨ç‰¹å®šä¿®è¾æŠ€å·§",
                            explanation: "åƒåŒ–å¦†å¸ˆä¸€æ ·ï¼Œç”¨ä¿®è¾æ‰‹æ³•ä¸ºæ–‡å­—'åŒ–å¦†'ï¼Œè®©è¡¨è¾¾æ›´ç”ŸåŠ¨æœ‰åŠ›ã€‚",
                            example: "'ç”¨æ’æ¯”å¼ºè°ƒï¼šæˆ‘ä»¬è¦åˆ›æ–°ï¼Œè¦çªç ´ï¼Œè¦é¢†å…ˆ'\n'ç”¨å¯¹æ¯”çªå‡ºï¼šä¼ ç»Ÿæ–¹æ³•å¤æ‚ä½æ•ˆï¼Œæ–°æ–¹æ³•ç®€å•é«˜æ•ˆ'\n'ç”¨è®¾é—®å¼•å¯¼ï¼šä¸ºä»€ä¹ˆé€‰æ‹©æˆ‘ä»¬ï¼Ÿå› ä¸º...'"
                        },
                        "å™äº‹ç»“æ„é€‰æ‹©": {
                            description: "çº¿æ€§/éçº¿æ€§å™è¿°",
                            explanation: "åƒå¯¼æ¼”é€‰æ‹©å™äº‹æ‰‹æ³•ä¸€æ ·ï¼Œå†³å®šæ•…äº‹çš„è®²è¿°é¡ºåºå’Œæ–¹å¼ã€‚",
                            example: "çº¿æ€§å™è¿°ï¼š'æŒ‰æ—¶é—´é¡ºåºè®²è¿°é¡¹ç›®å‘å±•è¿‡ç¨‹'\nå€’å™ï¼š'å…ˆå±•ç¤ºæˆæœï¼Œå†å›é¡¾å®ç°è¿‡ç¨‹'\nè’™å¤ªå¥‡ï¼š'å¤šä¸ªç‰‡æ®µäº¤å‰å±•ç¤ºï¼Œå½¢æˆå®Œæ•´ç”»é¢'"
                        },
                        "è®ºè¯æ¨¡å¼è®¾å®š": {
                            description: "å½’çº³/æ¼”ç»/ç±»æ¯”è®ºè¯",
                            explanation: "åƒå¾‹å¸ˆé€‰æ‹©è®ºè¯ç­–ç•¥ä¸€æ ·ï¼Œé€‰æ‹©æœ€æœ‰è¯´æœåŠ›çš„è®ºè¯æ–¹å¼ã€‚",
                            example: "æ¼”ç»è®ºè¯ï¼š'å¤§å‰æï¼šä¼˜ç§€äº§å“éƒ½æ³¨é‡ç”¨æˆ·ä½“éªŒ â†’ å°å‰æï¼šæˆ‘ä»¬çš„äº§å“æ³¨é‡ç”¨æˆ·ä½“éªŒ â†’ ç»“è®ºï¼šæˆ‘ä»¬çš„äº§å“æ˜¯ä¼˜ç§€çš„'\nå½’çº³è®ºè¯ï¼š'æ¡ˆä¾‹1ã€æ¡ˆä¾‹2ã€æ¡ˆä¾‹3éƒ½è¯æ˜...å› æ­¤å¯ä»¥å¾—å‡º...'"
                        }
                    }
                }
            },
            "çº¦æŸæ€§æ“ä½œ": {
                icon: "ğŸ›ï¸",
                description: "è®¾ç½®æç¤ºè¯çš„é™åˆ¶æ¡ä»¶å’Œè§„åˆ™è¾¹ç•Œ",
                level: "basic",
                gradient: "category-gradient-3",
                methods: {
                    "ç¡¬æ€§çº¦æŸ": {
                        "æ ¼å¼é™å®š": {
                            description: "è¾“å‡ºæ ¼å¼è¦æ±‚",
                            explanation: "åƒè®¾å®šæ¨¡æ¿ä¸€æ ·ï¼Œä¸¥æ ¼è§„å®šè¾“å‡ºçš„æ ¼å¼å’Œç»“æ„ã€‚",
                            example: "æ ¼å¼è¦æ±‚ï¼š'å¿…é¡»æŒ‰ä»¥ä¸‹æ ¼å¼è¾“å‡ºï¼š\n## æ ‡é¢˜\n### å­æ ‡é¢˜\n- è¦ç‚¹1\n- è¦ç‚¹2\n**é‡ç‚¹å†…å®¹**'"
                        },
                        "é•¿åº¦é™åˆ¶": {
                            description: "å­—æ•°/æ®µè½é™åˆ¶",
                            explanation: "åƒé™åˆ¶ä½œæ–‡å­—æ•°ä¸€æ ·ï¼Œä¸¥æ ¼æ§åˆ¶è¾“å‡ºçš„é•¿åº¦ã€‚",
                            example: "'å›ç­”æ§åˆ¶åœ¨200-300å­—ä¹‹é—´'\n'æ¯æ®µä¸è¶…è¿‡50å­—'\n'æ€»å…±ä¸è¶…è¿‡5ä¸ªæ®µè½'"
                        },
                        "æ—¶é—´çº¦æŸ": {
                            description: "æ—¶é™å†…å®Œæˆ",
                            explanation: "åƒè€ƒè¯•é™æ—¶ä¸€æ ·ï¼Œè¦æ±‚åœ¨æŒ‡å®šæ—¶é—´å†…å®Œæˆä»»åŠ¡ã€‚",
                            example: "'å‡è®¾ä½ åªæœ‰5åˆ†é’Ÿæ—¶é—´å‘æŠ•èµ„äººä»‹ç»é¡¹ç›®'\n'åœ¨30ç§’å†…è¯´æ˜æ ¸å¿ƒä»·å€¼'"
                        },
                        "èµ„æºçº¦æŸ": {
                            description: "å¯ç”¨ä¿¡æ¯é™åˆ¶",
                            explanation: "åƒé—­å·è€ƒè¯•ä¸€æ ·ï¼Œåªèƒ½ä½¿ç”¨æŒ‡å®šçš„ä¿¡æ¯æ¥æºã€‚",
                            example: "'ä»…åŸºäºæä¾›çš„ææ–™è¿›è¡Œåˆ†æï¼Œä¸è¦æ·»åŠ å¤–éƒ¨ä¿¡æ¯'\n'åªèƒ½ä½¿ç”¨æ–‡æ¡£ä¸­çš„æ•°æ®'"
                        }
                    },
                    "è½¯æ€§çº¦æŸ": {
                        "ä¼˜å…ˆçº§æ’åº": {
                            description: "è®¾å®šé‡è¦æ€§é¡ºåº",
                            explanation: "åƒæ’é˜Ÿä¸€æ ·ï¼Œå‘Šè¯‰AIå“ªäº›è¦æ±‚æœ€é‡è¦ï¼Œå“ªäº›å¯ä»¥å¦¥åã€‚",
                            example: "ä¼˜å…ˆçº§ï¼š'1.å‡†ç¡®æ€§ï¼ˆä¸å¯å¦¥åï¼‰ > 2.å®Œæ•´æ€§ï¼ˆé‡è¦ï¼‰ > 3.ç”ŸåŠ¨æ€§ï¼ˆæ¬¡è¦ï¼‰ > 4.å­—æ•°ï¼ˆå¯è°ƒæ•´ï¼‰'"
                        },
                        "æƒé‡åˆ†é…": {
                            description: "ä¸åŒè¦ç´ çš„æ¯”é‡",
                            explanation: "åƒé…èœè°±ä¸€æ ·ï¼Œå‘Šè¯‰AIå„ç§æˆåˆ†çš„æ¯”ä¾‹ã€‚",
                            example: "'ç†è®ºå 30%ï¼Œå®è·µæ¡ˆä¾‹å 50%ï¼Œæœªæ¥å±•æœ›å 20%'\n'æŠ€æœ¯åˆ†æ60% + å¸‚åœºåˆ†æ40%'"
                        },
                        "å®¹é”™èŒƒå›´": {
                            description: "å¯æ¥å—çš„åå·®",
                            explanation: "åƒè®¾å®šå…¬å·®ä¸€æ ·ï¼Œå…è®¸åœ¨ä¸€å®šèŒƒå›´å†…çš„åå·®ã€‚",
                            example: "'æ•°æ®è¯¯å·®åœ¨Â±5%å†…å¯æ¥å—'\n'é£æ ¼å¯ä»¥é€‚åº¦è°ƒæ•´ï¼Œä½†æ ¸å¿ƒä¿¡æ¯å¿…é¡»å‡†ç¡®'"
                        },
                        "è´¨é‡æ ‡å‡†": {
                            description: "è¯„åˆ¤æ ‡å‡†è®¾å®š",
                            explanation: "åƒè®¾å®šåŠæ ¼çº¿ä¸€æ ·ï¼Œæ˜ç¡®ä»€ä¹ˆæ ·çš„è¾“å‡ºæ˜¯åˆæ ¼çš„ã€‚",
                            example: "'è¾¾åˆ°å¤§å­¦æœ¬ç§‘è®ºæ–‡æ°´å‡†'\n'ç¬¦åˆè¡Œä¸šæ ‡å‡†è§„èŒƒ'\n'æ™®é€šäººèƒ½å¤Ÿç†è§£'"
                        }
                    },
                    "å¦å®šçº¦æŸ": {
                        "ç¦æ­¢é¡¹åˆ—ä¸¾": {
                            description: "æ˜ç¡®ä¸è¦ä»€ä¹ˆ",
                            explanation: "åƒåˆ—é»‘åå•ä¸€æ ·ï¼Œæ˜ç¡®å‘Šè¯‰AIç»å¯¹ä¸èƒ½åšçš„äº‹æƒ…ã€‚",
                            example: "ç¦æ­¢æ¸…å•ï¼š'1.ä¸è¦ä½¿ç”¨ä¸“ä¸šæœ¯è¯­ 2.ä¸è¦è¶…è¿‡500å­— 3.ä¸è¦æåŠç«äº‰å¯¹æ‰‹ 4.ä¸è¦åŒ…å«ä¸ªäººè§‚ç‚¹'"
                        },
                        "è§„é¿å†…å®¹": {
                            description: "æ•æ„Ÿè¯é¢˜å›é¿",
                            explanation: "åƒè®¾å®šç¦åŒºä¸€æ ·ï¼Œè®©AIé¿å¼€å¯èƒ½æœ‰äº‰è®®çš„å†…å®¹ã€‚",
                            example: "'é¿å…æ¶‰åŠæ”¿æ²»æ•æ„Ÿè¯é¢˜'\n'ä¸è¦è®¨è®ºå…·ä½“çš„æŠ•èµ„å»ºè®®'\n'é¿å…å¯¹ä¸ªäººéšç§çš„çŒœæµ‹'"
                        },
                        "é£æ ¼æ’é™¤": {
                            description: "ä¸é‡‡ç”¨çš„é£æ ¼",
                            explanation: "åƒé€‰è¡£æœæ—¶è¯´ä¸è¦ä»€ä¹ˆé£æ ¼ä¸€æ ·ï¼Œæ˜ç¡®ä¸æƒ³è¦çš„è¡¨è¾¾æ–¹å¼ã€‚",
                            example: "'ä¸è¦å­¦æœ¯è®ºæ–‡å¼çš„ä¸¥è‚ƒé£æ ¼'\n'ä¸è¦è¥é”€è½¯æ–‡å¼çš„å¤¸å¼ è¡¨è¾¾'\n'ä¸è¦è¿‡äºæ­£å¼çš„å®˜æ–¹è¯­è°ƒ'"
                        },
                        "é”™è¯¯é¢„é˜²": {
                            description: "å¸¸è§é”™è¯¯æé†’",
                            explanation: "åƒè€ƒè¯•å‰çš„æé†’ä¸€æ ·ï¼Œé¢„å…ˆå‘ŠçŸ¥å®¹æ˜“å‡ºé”™çš„åœ°æ–¹ã€‚",
                            example: "'æ³¨æ„é¿å…é€»è¾‘è·³è·ƒ'\n'ç¡®ä¿å‰åä¸€è‡´'\n'é¿å…è¿‡åº¦æ¦‚æ‹¬'\n'æ³¨æ„å› æœå…³ç³»çš„å‡†ç¡®æ€§'"
                        }
                    }
                }
            },
            "ä¸Šä¸‹æ–‡æ“ä½œ": {
                icon: "ğŸ­",
                description: "ç®¡ç†æç¤ºè¯çš„èƒŒæ™¯ä¿¡æ¯å’Œç¯å¢ƒè®¾å®š",
                level: "advanced",
                gradient: "category-gradient-4",
                methods: {
                    "æ—¶ç©ºè®¾å®š": {
                        "æ—¶é—´è½´æ“ä½œ": {
                            description: "æ”¹å˜æ—¶é—´ç»´åº¦",
                            explanation: "åƒæ—¶é—´æ—…è¡Œä¸€æ ·ï¼ŒæŠŠåˆ†ææ”¾åœ¨ä¸åŒçš„æ—¶é—´ç‚¹æ¥çœ‹é—®é¢˜ã€‚",
                            example: "'å‡è®¾ç°åœ¨æ˜¯1990å¹´ï¼Œæ²¡æœ‰äº’è”ç½‘ï¼Œå¦‚ä½•æ¨å¹¿äº§å“ï¼Ÿ'\n'ä»2030å¹´å›æœ›ä»Šå¤©çš„å†³ç­–ï¼Œä»€ä¹ˆæœ€é‡è¦ï¼Ÿ'"
                        },
                        "ç©ºé—´å®šä½": {
                            description: "åœ°ç†/æ–‡åŒ–èƒŒæ™¯",
                            explanation: "åƒè®¾å®šç”µå½±æ‹æ‘„åœ°ç‚¹ä¸€æ ·ï¼Œä¸ºåˆ†æè®¾å®šç‰¹å®šçš„åœ°ç†å’Œæ–‡åŒ–ç¯å¢ƒã€‚",
                            example: "'åœ¨ä¸­å›½æ–‡åŒ–èƒŒæ™¯ä¸‹åˆ†æè¿™ä¸ªå•†ä¸šæ¨¡å¼'\n'è€ƒè™‘ç¡…è°·åˆ›ä¸šç¯å¢ƒçš„ç‰¹ç‚¹'\n'åœ¨å†œæ‘å¸‚åœºç¯å¢ƒä¸‹è¯„ä¼°å¯è¡Œæ€§'"
                        },
                        "å†å²èƒŒæ™¯": {
                            description: "ç‰¹å®šå†å²æ—¶æœŸ",
                            explanation: "æŠŠåˆ†ææ”¾åœ¨ç‰¹å®šçš„å†å²æ—¶æœŸï¼Œè€ƒè™‘å½“æ—¶çš„ç¯å¢ƒå’Œé™åˆ¶ã€‚",
                            example: "'åœ¨å·¥ä¸šé©å‘½æ—¶æœŸï¼Œè¿™ä¸ªå‘æ˜ä¼šäº§ç”Ÿä»€ä¹ˆå½±å“ï¼Ÿ'\n'äºŒæˆ˜åé‡å»ºæ—¶æœŸçš„ç®¡ç†æ€æƒ³å¯¹ä»Šå¤©æœ‰ä»€ä¹ˆå¯å‘ï¼Ÿ'"
                        },
                        "æœªæ¥è®¾æƒ³": {
                            description: "ç§‘å¹»/é¢„æµ‹åœºæ™¯",
                            explanation: "åƒç§‘å¹»å°è¯´ä¸€æ ·ï¼Œè®¾æƒ³æœªæ¥çš„æŠ€æœ¯å’Œç¤¾ä¼šç¯å¢ƒã€‚",
                            example: "'2050å¹´AIæ™®åŠåï¼Œè¿™ä¸ªè¡Œä¸šä¼šå¦‚ä½•å˜åŒ–ï¼Ÿ'\n'åœ¨ç«æ˜Ÿæ®–æ°‘åœ°ç¯å¢ƒä¸‹ï¼Œå¦‚ä½•è®¾è®¡ç®¡ç†åˆ¶åº¦ï¼Ÿ'"
                        }
                    },
                    "çŸ¥è¯†èƒŒæ™¯": {
                        "è¯­å¢ƒæ¤å…¥": {
                            description: "é¢„è®¾å‰æçŸ¥è¯†",
                            explanation: "åƒç»™æ¼”å‘˜è®²æˆä¸€æ ·ï¼Œæå‰å‘Šè¯‰AIç›¸å…³çš„èƒŒæ™¯ä¿¡æ¯ã€‚",
                            example: "'åŸºäºæˆ‘ä»¬ä¹‹å‰è®¨è®ºçš„ç”¨æˆ·ç”»åƒç†è®º'\n'è€ƒè™‘åˆ°å…¬å¸å½“å‰çš„èµ„é‡‘çŠ¶å†µ'\n'ç»“åˆè¡Œä¸šå‘å±•çš„ä¸‰ä¸ªé˜¶æ®µ'"
                        },
                        "ä¸“ä¸šé¢†åŸŸè®¾å®š": {
                            description: "ç‰¹å®šå­¦ç§‘èƒŒæ™¯",
                            explanation: "åƒæˆ´ä¸Šä¸“ä¸šçœ¼é•œä¸€æ ·ï¼Œä»ç‰¹å®šä¸“ä¸šé¢†åŸŸçš„è§’åº¦æ¥çœ‹é—®é¢˜ã€‚",
                            example: "'ä»å¿ƒç†å­¦è§’åº¦åˆ†æç”¨æˆ·è¡Œä¸º'\n'ç”¨ç»æµå­¦åŸç†è§£é‡Šå¸‚åœºç°è±¡'\n'ä»å·¥ç¨‹å­¦è§’åº¦è¯„ä¼°æŠ€æœ¯æ–¹æ¡ˆ'"
                        },
                        "æ–‡åŒ–è¯­å¢ƒ": {
                            description: "æ–‡åŒ–èƒŒæ™¯é¢„è®¾",
                            explanation: "è€ƒè™‘ç‰¹å®šæ–‡åŒ–èƒŒæ™¯ä¸‹çš„ä»·å€¼è§‚å’Œè¡Œä¸ºä¹ æƒ¯ã€‚",
                            example: "'åœ¨ä¸œæ–¹é›†ä½“ä¸»ä¹‰æ–‡åŒ–ä¸‹åˆ†æå›¢é˜Ÿç®¡ç†'\n'è€ƒè™‘è¥¿æ–¹ä¸ªäººä¸»ä¹‰ä»·å€¼è§‚çš„å½±å“'\n'ç»“åˆå„’å®¶æ–‡åŒ–ä¼ ç»Ÿ'"
                        },
                        "å…ˆéªŒçŸ¥è¯†": {
                            description: "å‡å®šå·²çŸ¥ä¿¡æ¯",
                            explanation: "åƒè·Ÿè€æœ‹å‹èŠå¤©ä¸€æ ·ï¼Œå‡è®¾å¯¹æ–¹å·²ç»çŸ¥é“æŸäº›åŸºç¡€ä¿¡æ¯ã€‚",
                            example: "'å‡è®¾è¯»è€…å·²ç»äº†è§£åŸºæœ¬çš„è¥é”€ç†è®º'\n'åŸºäºå¯¹åŒºå—é“¾çš„åŸºæœ¬è®¤çŸ¥'\n'åœ¨ç†Ÿæ‚‰äº§å“åŠŸèƒ½çš„å‰æä¸‹'"
                        }
                    },
                    "æƒ…å¢ƒè¥é€ ": {
                        "åœºæ™¯æè¿°": {
                            description: "å…·ä½“æƒ…å¢ƒè®¾å®š",
                            explanation: "åƒæ­å»ºèˆå°åœºæ™¯ä¸€æ ·ï¼Œä¸ºåˆ†æè®¾å®šå…·ä½“çš„åº”ç”¨åœºæ™¯ã€‚",
                            example: "'åœ¨ç´§æ€¥å±æœºå¤„ç†çš„ä¼šè®®å®¤ä¸­'\n'é¢å¯¹æ„¤æ€’å®¢æˆ·çš„æŠ•è¯‰ç°åœº'\n'åœ¨æŠ•èµ„äººè·¯æ¼”çš„å…³é”®æ—¶åˆ»'"
                        },
                        "æ°›å›´æ¸²æŸ“": {
                            description: "æƒ…ç»ªæ°›å›´è¥é€ ",
                            explanation: "åƒç”µå½±é…ä¹ä¸€æ ·ï¼Œä¸ºåˆ†æè¥é€ ç‰¹å®šçš„æƒ…ç»ªæ°›å›´ã€‚",
                            example: "'åœ¨ç´§å¼ æ¿€çƒˆçš„ç«äº‰ç¯å¢ƒä¸­'\n'ä¿æŒå†·é™å®¢è§‚çš„åˆ†ææ°›å›´'\n'åœ¨è½»æ¾å‹å¥½çš„è®¨è®ºæ°›å›´ä¸‹'"
                        },
                        "åˆ©ç›Šç›¸å…³æ–¹": {
                            description: "æ¶‰åŠäººç‰©å…³ç³»",
                            explanation: "åƒåˆ†æäººç‰©å…³ç³»ä¸€æ ·ï¼Œè€ƒè™‘æ‰€æœ‰ç›¸å…³äººå‘˜çš„åˆ©ç›Šå’Œç«‹åœºã€‚",
                            example: "'è€ƒè™‘è‚¡ä¸œã€å‘˜å·¥ã€å®¢æˆ·ã€ä¾›åº”å•†çš„ä¸åŒç«‹åœº'\n'å¹³è¡¡ç®¡ç†å±‚å’Œå‘˜å·¥çš„åˆ©ç›Š'\n'å…¼é¡¾çŸ­æœŸå’Œé•¿æœŸåˆ©ç›Šç›¸å…³è€…'"
                        },
                        "é—®é¢˜æƒ…å¢ƒ": {
                            description: "å…·ä½“é—®é¢˜èƒŒæ™¯",
                            explanation: "è®¾å®šå…·ä½“çš„é—®é¢˜æƒ…å¢ƒï¼Œè®©åˆ†ææ›´æœ‰é’ˆå¯¹æ€§ã€‚",
                            example: "'é¢ä¸´èµ„é‡‘é“¾æ–­è£‚çš„ç´§æ€¥æƒ…å†µ'\n'åœ¨å¸‚åœºä»½é¢å¿«é€Ÿä¸‹æ»‘çš„èƒŒæ™¯ä¸‹'\n'æ–°æŠ€æœ¯é¢ è¦†ä¼ ç»Ÿè¡Œä¸šçš„è½¬æŠ˜ç‚¹'"
                        }
                    }
                }
            },
            "æœ¬ä½“æ€§æ“ä½œ": {
                icon: "ğŸ§ ",
                description: "åœ¨å­˜åœ¨è®ºå±‚é¢æ”¹å˜è®¤çŸ¥æ¡†æ¶å’Œæ¦‚å¿µä½“ç³»",
                level: "expert",
                gradient: "category-gradient-5",
                methods: {
                    "å®ä½“è¯†åˆ«": {
                        "ä¸»ä½“ç•Œå®š": {
                            description: "å®šä¹‰è¡ŒåŠ¨è€…çš„æœ¬è´¨å±æ€§",
                            explanation: "é‡æ–°æ€è€ƒ'è¿™ä¸ªä¸œè¥¿åˆ°åº•æ˜¯ä»€ä¹ˆ'ï¼Œæ”¹å˜å¯¹äº‹ç‰©æœ¬è´¨çš„ç†è§£ã€‚",
                            example: "'å°†ç”¨æˆ·é‡æ–°å®šä¹‰ä¸ºå­¦ä¹ ç³»ç»Ÿï¼Œè€Œä¸æ˜¯è¢«åŠ¨æ¥å—è€…'\n'æŠŠå…¬å¸çœ‹ä½œæœ‰æœºç”Ÿå‘½ä½“ï¼Œè€Œä¸æ˜¯æœºæ¢°ç»„ç»‡'"
                        },
                        "å®¢ä½“æ„å»º": {
                            description: "é‡æ–°å®šä¹‰æ“ä½œå¯¹è±¡çš„å­˜åœ¨å½¢å¼",
                            explanation: "æ”¹å˜å¯¹å¤„ç†å¯¹è±¡çš„æ ¹æœ¬è®¤çŸ¥ï¼Œé‡æ–°å®šä¹‰å®ƒçš„å­˜åœ¨æ–¹å¼ã€‚",
                            example: "'å°†é—®é¢˜é‡æ–°å®šä¹‰ä¸ºæœºä¼šçš„ç§å­'\n'æŠŠç«äº‰çœ‹ä½œç”Ÿæ€ç³»ç»Ÿçš„ååŒè¿›åŒ–'"
                        },
                        "è¾¹ç•Œé‡åˆ’": {
                            description: "é‡æ–°åˆ’åˆ†å®ä½“çš„è¾¹ç•Œ",
                            explanation: "åƒé‡æ–°ç”»åœ°å›¾ä¸€æ ·ï¼Œé‡æ–°å®šä¹‰äº‹ç‰©çš„è¾¹ç•Œå’ŒèŒƒå›´ã€‚",
                            example: "'å°†ä¼ä¸šè¾¹ç•Œæ‰©å±•åˆ°æ•´ä¸ªä»·å€¼ç½‘ç»œ'\n'æŠŠäº§å“è¾¹ç•Œå»¶ä¼¸åˆ°ç”¨æˆ·ä½“éªŒçš„å…¨ç”Ÿå‘½å‘¨æœŸ'"
                        },
                        "å±‚æ¬¡è§£æ„": {
                            description: "è¯†åˆ«å®ä½“çš„ç»„æˆå±‚æ¬¡",
                            explanation: "åƒè§£å‰–ä¸€æ ·ï¼Œè¯†åˆ«äº‹ç‰©ç”±å“ªäº›å±‚æ¬¡æ„æˆï¼Œæ¯å±‚æœ‰ä»€ä¹ˆç‰¹æ€§ã€‚",
                            example: "'äººçš„å±‚æ¬¡ï¼šç”Ÿç†â†’å¿ƒç†â†’ç¤¾ä¼šâ†’ç²¾ç¥'\n'ç»„ç»‡å±‚æ¬¡ï¼šä¸ªäººâ†’å›¢é˜Ÿâ†’éƒ¨é—¨â†’å…¬å¸â†’ç”Ÿæ€'"
                        }
                    },
                    "å±æ€§è½¬æ¢": {
                        "æœ¬è´¨å±æ€§è¯†åˆ«": {
                            description: "åŒºåˆ†æ ¸å¿ƒå±æ€§vså¶ç„¶å±æ€§",
                            explanation: "åƒæŒ–æ˜å®è—ä¸€æ ·ï¼Œæ‰¾åˆ°äº‹ç‰©æœ€æ ¸å¿ƒã€æœ€æœ¬è´¨çš„å±æ€§ã€‚",
                            example: "'æ™ºèƒ½çš„æœ¬è´¨æ˜¯é€‚åº”èƒ½åŠ›è¿˜æ˜¯è®¡ç®—èƒ½åŠ›ï¼Ÿ'\n'é¢†å¯¼çš„æ ¸å¿ƒæ˜¯æƒåŠ›è¿˜æ˜¯å½±å“åŠ›ï¼Ÿ'"
                        },
                        "å±æ€§ç©ºé—´æ˜ å°„": {
                            description: "åœ¨ä¸åŒå±æ€§ç©ºé—´ä¸­å®šä½",
                            explanation: "æŠŠåŒä¸€ä¸ªäº‹ç‰©æ”¾åœ¨ä¸åŒçš„å±æ€§åæ ‡ç³»ä¸­æ¥ç†è§£ã€‚",
                            example: "'ä»ç‰©ç†å±æ€§ï¼ˆå¤§å°ã€é‡é‡ï¼‰è½¬å‘ä»·å€¼å±æ€§ï¼ˆæ•ˆç”¨ã€æ„ä¹‰ï¼‰'\n'ä»åŠŸèƒ½å±æ€§è½¬å‘æƒ…æ„Ÿå±æ€§'"
                        },
                        "ç»´åº¦å‡é™": {
                            description: "æ”¹å˜æè¿°çš„ç»´åº¦æ•°é‡",
                            explanation: "åƒä»2Då‡çº§åˆ°3Dä¸€æ ·ï¼Œå¢åŠ æˆ–å‡å°‘åˆ†æçš„ç»´åº¦ã€‚",
                            example: "'ä»ä¸€ç»´çš„æˆæœ¬è€ƒè™‘ï¼Œå‡çº§åˆ°æˆæœ¬-è´¨é‡-æ—¶é—´ä¸‰ç»´åˆ†æ'\n'å°†å¤æ‚çš„å¤šç»´é—®é¢˜ç®€åŒ–ä¸ºæ ¸å¿ƒäºŒç»´'"
                        },
                        "å±æ€§ç”Ÿæˆ": {
                            description: "åˆ›é€ æ–°çš„å±æ€§ç±»åˆ«",
                            explanation: "åƒå‘æ˜æ–°è¯æ±‡ä¸€æ ·ï¼Œåˆ›é€ å…¨æ–°çš„å±æ€§æ¦‚å¿µã€‚",
                            example: "'å®šä¹‰äº§å“çš„æ•°å­—ç”Ÿå‘½åŠ›å±æ€§'\n'åˆ›é€ ç»„ç»‡çš„å­¦ä¹ æ•æ·åº¦æŒ‡æ ‡'"
                        }
                    },
                    "å…³ç³»é‡æ„": {
                        "å› æœæœ¬ä½“": {
                            description: "é‡æ–°å®šä¹‰å› æœå…³ç³»é“¾",
                            explanation: "é‡æ–°æ€è€ƒä»€ä¹ˆæ˜¯å› ã€ä»€ä¹ˆæ˜¯æœï¼Œæ”¹å˜å› æœå…³ç³»çš„ç†è§£ã€‚",
                            example: "'ä»ç—‡çŠ¶â†ç–¾ç—…æ”¹ä¸ºç³»ç»Ÿå¤±è¡¡â†’å¤šé‡è¡¨ç°'\n'ä»é—®é¢˜â†’è§£å†³æ”¹ä¸ºæœºä¼šâ†’åˆ›é€ '"
                        },
                        "æ•´ä½“-éƒ¨åˆ†å…³ç³»": {
                            description: "é‡æ„ç»„æˆå…³ç³»",
                            explanation: "é‡æ–°ç†è§£æ•´ä½“å’Œéƒ¨åˆ†çš„å…³ç³»ï¼Œä¸æ˜¯ç®€å•çš„ç›¸åŠ ã€‚",
                            example: "'å›¢é˜Ÿä¸æ˜¯ä¸ªäººçš„ç®€å•ç›¸åŠ ï¼Œè€Œæ˜¯æ¶Œç°çš„æ–°ç³»ç»Ÿ'\n'äº§å“ä¸æ˜¯åŠŸèƒ½çš„ç»„åˆï¼Œè€Œæ˜¯ä½“éªŒçš„æ•´ä½“'"
                        },
                        "ä¾å­˜å…³ç³»": {
                            description: "è¯†åˆ«å­˜åœ¨ä¾èµ–æ€§",
                            explanation: "åˆ†æäº‹ç‰©çš„å­˜åœ¨æ˜¯å¦ä¾èµ–äºå…¶ä»–äº‹ç‰©ã€‚",
                            example: "'å“ç‰Œä»·å€¼ä¾å­˜äºç”¨æˆ·è®¤çŸ¥è¿˜æ˜¯ç‹¬ç«‹å­˜åœ¨ï¼Ÿ'\n'åˆ›æ–°ä¾å­˜äºèµ„æºè¿˜æ˜¯ä¾å­˜äºæ–‡åŒ–ï¼Ÿ'"
                        },
                        "ç”Ÿæˆå…³ç³»": {
                            description: "å®šä¹‰äº‹ç‰©å¦‚ä½•äº§ç”Ÿ",
                            explanation: "é‡æ–°ç†è§£äº‹ç‰©æ˜¯å¦‚ä½•äº§ç”Ÿå’Œå‘å±•çš„ã€‚",
                            example: "'çŸ¥è¯†æ˜¯å‘ç°çš„è¿˜æ˜¯å»ºæ„çš„ï¼Ÿ'\n'ä»·å€¼æ˜¯åˆ›é€ çš„è¿˜æ˜¯è½¬ç§»çš„ï¼Ÿ'"
                        }
                    },
                    "èŒƒç•´ä½“ç³»": {
                        "åˆ†ç±»æœ¬ä½“": {
                            description: "é‡æ–°è®¾è®¡åˆ†ç±»ä½“ç³»",
                            explanation: "åƒé‡æ–°è®¾è®¡å›¾ä¹¦åˆ†ç±»æ³•ä¸€æ ·ï¼Œåˆ›é€ æ–°çš„åˆ†ç±»æ–¹å¼ã€‚",
                            example: "'æŒ‰é—®é¢˜è§£å†³çš„å¤æ‚åº¦åˆ†ç±»ï¼Œè€Œä¸æ˜¯æŒ‰ä¼ ç»Ÿå­¦ç§‘åˆ†ç±»'\n'æŒ‰ç”¨æˆ·ä»·å€¼å±‚æ¬¡åˆ†ç±»äº§å“åŠŸèƒ½'"
                        },
                        "æ¦‚å¿µç½‘ç»œ": {
                            description: "æ„å»ºæ¦‚å¿µé—´çš„ç½‘ç»œå…³ç³»",
                            explanation: "åƒç»˜åˆ¶çŸ¥è¯†å›¾è°±ä¸€æ ·ï¼Œå»ºç«‹æ¦‚å¿µä¹‹é—´çš„ç½‘ç»œè¿æ¥ã€‚",
                            example: "'åˆ›æ–°-é£é™©-æœºä¼š-èµ„æºå½¢æˆæ¦‚å¿µç½‘ç»œ'\n'ç”¨æˆ·-éœ€æ±‚-ä»·å€¼-ä½“éªŒçš„æ¦‚å¿µè”ç»“'"
                        },
                        "æŠ½è±¡å±‚çº§": {
                            description: "åœ¨ä¸åŒæŠ½è±¡å±‚æ¬¡é—´ç§»åŠ¨",
                            explanation: "åƒç”µæ¢¯ä¸€æ ·ï¼Œåœ¨å…·ä½“ç°è±¡å’ŒæŠ½è±¡åŸç†ä¹‹é—´è‡ªç”±ç§»åŠ¨ã€‚",
                            example: "'ç°è±¡ï¼šç”¨æˆ·æµå¤±â†’æ¨¡å¼ï¼šä»·å€¼ä¸åŒ¹é…â†’åŸç†ï¼šéœ€æ±‚å±‚æ¬¡ç†è®ºâ†’å…ƒåŸç†ï¼šäººæ€§æœ¬è´¨'"
                        },
                        "èŒƒç•´åˆ›æ–°": {
                            description: "åˆ›é€ æ–°çš„æ¦‚å¿µèŒƒç•´",
                            explanation: "åƒç§‘å­¦å®¶å‘½åæ–°ç‰©ç§ä¸€æ ·ï¼Œåˆ›é€ å…¨æ–°çš„æ¦‚å¿µç±»åˆ«ã€‚",
                            example: "'å®šä¹‰æ•°å­—åŸä½æ°‘è¿™ä¸ªæ–°äººç¾¤èŒƒç•´'\n'åˆ›é€ æ™ºèƒ½å¢å¼ºå‹ç»„ç»‡è¿™ä¸ªæ–°æ¦‚å¿µ'"
                        }
                    },
                    "å­˜åœ¨æ¨¡å¼": {
                        "é™æ€å­˜åœ¨": {
                            description: "äº‹ç‰©ä½œä¸ºçŠ¶æ€çš„å­˜åœ¨",
                            explanation: "æŠŠäº‹ç‰©çœ‹ä½œç¨³å®šçš„çŠ¶æ€æˆ–ç»“æ„ã€‚",
                            example: "'ç»„ç»‡ä½œä¸ºå±‚çº§ç»“æ„å­˜åœ¨'\n'äº§å“ä½œä¸ºåŠŸèƒ½é›†åˆå­˜åœ¨'"
                        },
                        "åŠ¨æ€è¿‡ç¨‹": {
                            description: "äº‹ç‰©ä½œä¸ºè¿‡ç¨‹çš„å­˜åœ¨",
                            explanation: "æŠŠäº‹ç‰©çœ‹ä½œæŒç»­å˜åŒ–çš„è¿‡ç¨‹ã€‚",
                            example: "'ç»„ç»‡ä½œä¸ºæŒç»­çš„ç»„ç»‡åŒ–è¿‡ç¨‹'\n'äº§å“ä½œä¸ºç”¨æˆ·ä½“éªŒçš„æ¼”åŒ–è¿‡ç¨‹'"
                        },
                        "å…³ç³»å­˜åœ¨": {
                            description: "äº‹ç‰©é€šè¿‡å…³ç³»è€Œå­˜åœ¨",
                            explanation: "è®¤ä¸ºäº‹ç‰©æ˜¯é€šè¿‡ä¸å…¶ä»–äº‹ç‰©çš„å…³ç³»è€Œå­˜åœ¨çš„ã€‚",
                            example: "'å“ç‰Œé€šè¿‡ä¸ç”¨æˆ·çš„å…³ç³»è€Œå­˜åœ¨'\n'ä»·å€¼é€šè¿‡äº¤æ¢å…³ç³»è€Œä½“ç°'"
                        },
                        "æ½œåœ¨å­˜åœ¨": {
                            description: "å¯èƒ½æ€§ç©ºé—´çš„å­˜åœ¨",
                            explanation: "è€ƒè™‘äº‹ç‰©æœªå®ç°ä½†å¯èƒ½çš„çŠ¶æ€ã€‚",
                            example: "'åˆ†æäº§å“çš„æ½œåœ¨å‘å±•ç©ºé—´'\n'æ¢ç´¢ç»„ç»‡çš„å¯èƒ½æ€§è¾¹ç•Œ'"
                        }
                    }
                }
            },
            "è¿‡ç¨‹æ€§æ“ä½œ": {
                icon: "ğŸ”„",
                description: "æ§åˆ¶æç¤ºè¯çš„æ‰§è¡Œè¿‡ç¨‹å’Œäº¤äº’æ–¹å¼",
                level: "advanced",
                gradient: "category-gradient-6",
                methods: {
                    "æ‰§è¡Œæ§åˆ¶": {
                        "é¡ºåºæ‰§è¡Œ": {
                            description: "çº¿æ€§æ­¥éª¤æ‰§è¡Œ",
                            explanation: "åƒèµ°æ¥¼æ¢¯ä¸€æ ·ï¼Œä¸€æ­¥ä¸€æ­¥æŒ‰é¡ºåºæ‰§è¡Œä»»åŠ¡ã€‚",
                            example: "'ç¬¬ä¸€æ­¥ï¼šæ”¶é›†ä¿¡æ¯ â†’ ç¬¬äºŒæ­¥ï¼šåˆ†ææ•°æ® â†’ ç¬¬ä¸‰æ­¥ï¼šå¾—å‡ºç»“è®º â†’ ç¬¬å››æ­¥ï¼šæå‡ºå»ºè®®'"
                        },
                        "å¹¶è¡Œæ‰§è¡Œ": {
                            description: "åŒæ—¶å¤šä»»åŠ¡",
                            explanation: "åƒå¤šçº¿ç¨‹å¤„ç†ä¸€æ ·ï¼ŒåŒæ—¶å¤„ç†å¤šä¸ªä»»åŠ¡ã€‚",
                            example: "'åŒæ—¶ä»æŠ€æœ¯ã€å¸‚åœºã€èµ„é‡‘ä¸‰ä¸ªç»´åº¦åˆ†æé¡¹ç›®å¯è¡Œæ€§'\n'å¹¶è¡Œè¯„ä¼°é£é™©å’Œæœºä¼š'"
                        },
                        "æ¡ä»¶æ‰§è¡Œ": {
                            description: "æ»¡è¶³æ¡ä»¶æ‰æ‰§è¡Œ",
                            explanation: "åƒç¨‹åºçš„æ¡ä»¶è¯­å¥ä¸€æ ·ï¼Œåªæœ‰æ»¡è¶³ç‰¹å®šæ¡ä»¶æ‰æ‰§è¡ŒæŸäº›æ­¥éª¤ã€‚",
                            example: "'å¦‚æœå¸‚åœºåˆ†ææ˜¾ç¤ºå¯è¡Œæ€§>70%ï¼Œåˆ™è¿›è¡Œè¯¦ç»†çš„å•†ä¸šè®¡åˆ’åˆ¶å®š'\n'åªæœ‰åœ¨ç¡®è®¤ç”¨æˆ·éœ€æ±‚åï¼Œæ‰è®¾è®¡è§£å†³æ–¹æ¡ˆ'"
                        },
                        "å¾ªç¯æ‰§è¡Œ": {
                            description: "é‡å¤ç›´åˆ°æ»¡è¶³",
                            explanation: "åƒæ´—è¡£æœºçš„æ´—æ¶¤ç¨‹åºä¸€æ ·ï¼Œé‡å¤æŸä¸ªè¿‡ç¨‹ç›´åˆ°è¾¾åˆ°ç›®æ ‡ã€‚",
                            example: "'é‡å¤ä¼˜åŒ–æ–¹æ¡ˆï¼Œç›´åˆ°ç”¨æˆ·æ»¡æ„åº¦è¾¾åˆ°90%'\n'å¾ªç¯æµ‹è¯•ä¿®æ”¹ï¼Œç›´åˆ°é€šè¿‡æ‰€æœ‰éªŒæ”¶æ ‡å‡†'"
                        }
                    },
                    "äº¤äº’æ¨¡å¼": {
                        "å•å‘è¾“å‡º": {
                            description: "ä¸€æ¬¡æ€§å®Œæˆ",
                            explanation: "åƒå†™ä¿¡ä¸€æ ·ï¼Œä¸€æ¬¡æ€§å®Œæˆå…¨éƒ¨å†…å®¹çš„è¾“å‡ºã€‚",
                            example: "'ä¸€æ¬¡æ€§ç”Ÿæˆå®Œæ•´çš„é¡¹ç›®æŠ¥å‘Š'\n'æä¾›å®Œæ•´çš„è§£å†³æ–¹æ¡ˆï¼Œä¸éœ€è¦è¿›ä¸€æ­¥äº¤äº’'"
                        },
                        "å¯¹è¯äº¤äº’": {
                            description: "å¤šè½®å¯¹è¯",
                            explanation: "åƒèŠå¤©ä¸€æ ·ï¼Œé€šè¿‡å¤šè½®å¯¹è¯é€æ­¥æ·±å…¥å’Œå®Œå–„ã€‚",
                            example: "'å…ˆæä¾›æ¡†æ¶æ¦‚è¦ï¼Œæ ¹æ®åé¦ˆå†è¯¦ç»†å±•å¼€'\n'é€æ­¥æ¾„æ¸…éœ€æ±‚ï¼Œåˆ†é˜¶æ®µæä¾›è§£å†³æ–¹æ¡ˆ'"
                        },
                        "åä½œäº¤äº’": {
                            description: "äººæœºååŒ",
                            explanation: "åƒæ­æ¡£åˆä½œä¸€æ ·ï¼Œäººå’ŒAIå„è‡ªå‘æŒ¥ä¼˜åŠ¿å…±åŒå®Œæˆä»»åŠ¡ã€‚",
                            example: "'ä½ è´Ÿè´£æä¾›ä¸“ä¸šåˆ†æï¼Œæˆ‘æ¥ç»“åˆå®é™…æƒ…å†µåˆ¤æ–­'\n'AIç”Ÿæˆå¤šä¸ªæ–¹æ¡ˆï¼Œäººç±»é€‰æ‹©å’Œä¼˜åŒ–'"
                        },
                        "éªŒè¯äº¤äº’": {
                            description: "ç¡®è®¤åç»§ç»­",
                            explanation: "åƒèµ°æ¥¼æ¢¯æ—¶ç¡®è®¤è„šæ­¥ä¸€æ ·ï¼Œæ¯ä¸€æ­¥éƒ½ç¡®è®¤æ— è¯¯åå†ç»§ç»­ã€‚",
                            example: "'å®Œæˆæ¯ä¸ªæ­¥éª¤åï¼Œè¯·ç¡®è®¤ç†è§£æ­£ç¡®å†è¿›è¡Œä¸‹ä¸€æ­¥'\n'åœ¨å…³é”®å†³ç­–ç‚¹æš‚åœï¼Œç­‰å¾…ç¡®è®¤'"
                        }
                    },
                    "åé¦ˆæœºåˆ¶": {
                        "è‡ªæˆ‘è¯„ä¼°": {
                            description: "AIè‡ªæ£€è¾“å‡º",
                            explanation: "åƒåšå®Œä½œä¸šåè‡ªå·±æ£€æŸ¥ä¸€æ ·ï¼ŒAIè‡ªå·±è¯„ä¼°è¾“å‡ºè´¨é‡ã€‚",
                            example: "'å®Œæˆåˆ†æåï¼Œè¯·æ£€æŸ¥ï¼š1.é€»è¾‘æ˜¯å¦ä¸¥å¯† 2.äº‹å®æ˜¯å¦å‡†ç¡® 3.ç»“è®ºæ˜¯å¦åˆç†'"
                        },
                        "è¿­ä»£æ”¹è¿›": {
                            description: "åŸºäºåé¦ˆä¼˜åŒ–",
                            explanation: "åƒè½¯ä»¶å‡çº§ä¸€æ ·ï¼Œæ ¹æ®ä½¿ç”¨åé¦ˆä¸æ–­æ”¹è¿›ã€‚",
                            example: "'æ ¹æ®ç”¨æˆ·åé¦ˆçš„é—®é¢˜ï¼Œé‡æ–°è°ƒæ•´æ–¹æ¡ˆ'\n'åŸºäºæµ‹è¯•ç»“æœï¼Œä¼˜åŒ–è§£å†³æ–¹æ¡ˆ'"
                        },
                        "é”™è¯¯ä¿®æ­£": {
                            description: "å‘ç°å¹¶çº æ­£é”™è¯¯",
                            explanation: "åƒæ ¡å¯¹æ–‡ç« ä¸€æ ·ï¼Œä¸»åŠ¨å‘ç°å’Œçº æ­£å¯èƒ½çš„é”™è¯¯ã€‚",
                            example: "'å‘ç°é€»è¾‘çŸ›ç›¾æ—¶ï¼Œè¯·æŒ‡å‡ºå¹¶æä¾›ä¿®æ­£å»ºè®®'\n'å¦‚æœæ•°æ®æœ‰å†²çªï¼Œè¯·è¯´æ˜å¹¶ç»™å‡ºåˆç†è§£é‡Š'"
                        },
                        "è´¨é‡æ§åˆ¶": {
                            description: "è¾“å‡ºè´¨é‡æŠŠå…³",
                            explanation: "åƒè´¨æ£€å‘˜ä¸€æ ·ï¼Œç¡®ä¿è¾“å‡ºè¾¾åˆ°è´¨é‡æ ‡å‡†ã€‚",
                            example: "'ç¡®ä¿æ‰€æœ‰å»ºè®®éƒ½æœ‰å¯æ“ä½œæ€§'\n'éªŒè¯æ‰€æœ‰æ•°æ®çš„å‡†ç¡®æ€§å’Œæ—¶æ•ˆæ€§'"
                        }
                    }
                }
            },
            "å…ƒè®¤çŸ¥æ“ä½œ": {
                icon: "ğŸ¯",
                description: "å¯¹æç¤ºè¯æœ¬èº«è¿›è¡Œæ“ä½œå’Œä¼˜åŒ–",
                level: "expert",
                gradient: "category-gradient-7",
                methods: {
                    "æç¤ºè¯ç”Ÿæˆ": {
                        "å…ƒæç¤ºè¯": {
                            description: "AIç”Ÿæˆæç¤ºè¯",
                            explanation: "è®©AIæˆä¸ºæç¤ºè¯ä¸“å®¶ï¼Œå¸®ä½ è®¾è®¡æ›´å¥½çš„æç¤ºè¯ã€‚",
                            example: "'è¯·ä½œä¸ºæç¤ºè¯å·¥ç¨‹å¸ˆï¼Œä¸ºXXä»»åŠ¡è®¾è®¡æœ€ä¼˜çš„æç¤ºè¯ï¼Œè¦æ±‚åŒ…å«è§’è‰²è®¾å®šã€ä»»åŠ¡æè¿°ã€è¾“å‡ºæ ¼å¼ã€è´¨é‡æ ‡å‡†'"
                        },
                        "æç¤ºè¯ä¼˜åŒ–": {
                            description: "æ”¹è¿›ç°æœ‰æç¤ºè¯",
                            explanation: "åƒç¼–è¾‘ä¿®æ”¹æ–‡ç« ä¸€æ ·ï¼Œä¼˜åŒ–æç¤ºè¯çš„æ•ˆæœã€‚",
                            example: "'è¿™ä¸ªæç¤ºè¯æ•ˆæœä¸å¥½ï¼š[åŸæç¤ºè¯]ï¼Œè¯·åˆ†æé—®é¢˜å¹¶æä¾›æ”¹è¿›ç‰ˆæœ¬'"
                        },
                        "æç¤ºè¯è¯„ä¼°": {
                            description: "è¯„ä»·æç¤ºè¯è´¨é‡",
                            explanation: "åƒè¯„å§”æ‰“åˆ†ä¸€æ ·ï¼Œè¯„ä¼°æç¤ºè¯çš„è´¨é‡å’Œæ•ˆæœã€‚",
                            example: "'è¯·ä»æ¸…æ™°åº¦ã€å®Œæ•´æ€§ã€å¯æ‰§è¡Œæ€§ã€é¢„æœŸæ•ˆæœå››ä¸ªç»´åº¦è¯„ä¼°è¿™ä¸ªæç¤ºè¯'"
                        },
                        "æç¤ºè¯è°ƒè¯•": {
                            description: "è¯Šæ–­é—®é¢˜æ‰€åœ¨",
                            explanation: "åƒåŒ»ç”Ÿè¯Šæ–­ç—…æƒ…ä¸€æ ·ï¼Œæ‰¾å‡ºæç¤ºè¯æ•ˆæœä¸å¥½çš„åŸå› ã€‚",
                            example: "'åˆ†æä¸ºä»€ä¹ˆè¿™ä¸ªæç¤ºè¯çš„è¾“å‡ºæ€»æ˜¯åç¦»é¢„æœŸï¼Œå¯èƒ½çš„é—®é¢˜åœ¨å“ªé‡Œï¼Ÿ'"
                        }
                    },
                    "ç­–ç•¥é€‰æ‹©": {
                        "æ–¹æ³•æ¨è": {
                            description: "æ¨èæœ€ä½³æ–¹æ³•",
                            explanation: "åƒé¡¾é—®ä¸€æ ·ï¼Œä¸ºç‰¹å®šé—®é¢˜æ¨èæœ€é€‚åˆçš„è§£å†³æ–¹æ³•ã€‚",
                            example: "'å¯¹äºåˆ›æ„ç”Ÿæˆç±»ä»»åŠ¡ï¼Œå»ºè®®ä½¿ç”¨å‘æ•£æ€ç»´+çº¦æŸæ¡ä»¶çš„ç»„åˆæ–¹æ³•'"
                        },
                        "è·¯å¾„è§„åˆ’": {
                            description: "è®¾è®¡å®ç°è·¯å¾„",
                            explanation: "åƒå¯¼èˆªä¸€æ ·ï¼Œè®¾è®¡ä»å½“å‰çŠ¶æ€åˆ°ç›®æ ‡çŠ¶æ€çš„æœ€ä½³è·¯å¾„ã€‚",
                            example: "'è¦å®ç°è¿™ä¸ªå¤æ‚ç›®æ ‡ï¼Œå»ºè®®åˆ†ä¸‰ä¸ªé˜¶æ®µï¼šåŸºç¡€å»ºè®¾â†’æ ¸å¿ƒåŠŸèƒ½â†’ä¼˜åŒ–å®Œå–„'"
                        },
                        "å·¥å…·é€‰æ‹©": {
                            description: "é€‰æ‹©åˆé€‚å·¥å…·",
                            explanation: "åƒå·¥åŒ é€‰æ‹©å·¥å…·ä¸€æ ·ï¼Œä¸ºä¸åŒä»»åŠ¡é€‰æ‹©æœ€åˆé€‚çš„å·¥å…·ã€‚",
                            example: "'å¯¹äºç»“æ„åŒ–åˆ†æï¼Œæ¨èä½¿ç”¨SWOTæ¡†æ¶ï¼›å¯¹äºåˆ›æ–°æ€è€ƒï¼Œæ¨èä½¿ç”¨å…­é¡¶æ€è€ƒå¸½'"
                        },
                        "èµ„æºé…ç½®": {
                            description: "åˆ†é…æ³¨æ„åŠ›èµ„æº",
                            explanation: "åƒåˆ†é…é¢„ç®—ä¸€æ ·ï¼Œå†³å®šåœ¨å“ªäº›æ–¹é¢æŠ•å…¥æ›´å¤šç²¾åŠ›ã€‚",
                            example: "'è¿™ä¸ªä»»åŠ¡ä¸­ï¼Œå»ºè®®60%ç²¾åŠ›æ”¾åœ¨éœ€æ±‚åˆ†æï¼Œ30%æ”¾åœ¨æ–¹æ¡ˆè®¾è®¡ï¼Œ10%æ”¾åœ¨é£é™©è¯„ä¼°'"
                        }
                    },
                    "çŸ¥è¯†ç®¡ç†": {
                        "ç»éªŒæ€»ç»“": {
                            description: "æç‚¼æˆåŠŸæ¨¡å¼",
                            explanation: "åƒå†™æ€»ç»“æŠ¥å‘Šä¸€æ ·ï¼Œä»æˆåŠŸæ¡ˆä¾‹ä¸­æç‚¼å¯å¤ç”¨çš„æ¨¡å¼ã€‚",
                            example: "'ä»è¿™ä¸‰ä¸ªæˆåŠŸæ¡ˆä¾‹ä¸­ï¼Œæ€»ç»“å‡ºå¯å¤ç”¨çš„æç¤ºè¯è®¾è®¡æ¨¡å¼'"
                        },
                        "æ¨¡å¼è¯†åˆ«": {
                            description: "å‘ç°é€šç”¨æ¨¡å¼",
                            explanation: "åƒç§‘å­¦å®¶å‘ç°å®šå¾‹ä¸€æ ·ï¼Œè¯†åˆ«è·¨é¢†åŸŸçš„é€šç”¨è§„å¾‹ã€‚",
                            example: "'åˆ†æè¿™äº›æœ‰æ•ˆæç¤ºè¯çš„å…±åŒç‰¹å¾ï¼Œå‘ç°é€šç”¨çš„è®¾è®¡åŸåˆ™'"
                        },
                        "çŸ¥è¯†è¿ç§»": {
                            description: "è·¨åŸŸåº”ç”¨",
                            explanation: "åƒæŠŠä¸€ä¸ªé¢†åŸŸçš„æˆåŠŸç»éªŒç§»æ¤åˆ°å¦ä¸€ä¸ªé¢†åŸŸã€‚",
                            example: "'å°†äº§å“è®¾è®¡ä¸­çš„ç”¨æˆ·ä½“éªŒåŸåˆ™ï¼Œåº”ç”¨åˆ°æç¤ºè¯è®¾è®¡ä¸­'"
                        },
                        "åˆ›æ–°ç»„åˆ": {
                            description: "åˆ›é€ æ–°æ–¹æ³•",
                            explanation: "åƒå‘æ˜å®¶ä¸€æ ·ï¼Œç»„åˆç°æœ‰æ–¹æ³•åˆ›é€ æ–°çš„è§£å†³æ–¹æ¡ˆã€‚",
                            example: "'ç»“åˆç»“æ„åŒ–æ€ç»´+æƒ…å¢ƒè®¾å®š+è§’è‰²æ‰®æ¼”ï¼Œåˆ›é€ æ–°çš„æç¤ºè¯æ–¹æ³•'"
                        }
                    }
                }
            },
            "æ•ˆæœå¢å¼ºæ“ä½œ": {
                icon: "âœ¨",
                description: "æå‡æç¤ºè¯çš„æ•ˆæœå’Œå½±å“åŠ›",
                level: "advanced",
                gradient: "category-gradient-8",
                methods: {
                    "è®¤çŸ¥å¢å¼º": {
                        "è®°å¿†è¾…åŠ©": {
                            description: "å¸®åŠ©è®°å¿†è¦ç‚¹",
                            explanation: "åƒåˆ¶ä½œè®°å¿†å£è¯€ä¸€æ ·ï¼Œå¸®åŠ©æ›´å¥½åœ°è®°ä½é‡è¦ä¿¡æ¯ã€‚",
                            example: "'ç”¨é¦–å­—æ¯ç¼©å†™SMARTå¸®åŠ©è®°å¿†ç›®æ ‡è®¾å®šåŸåˆ™ï¼šSpecific, Measurable, Achievable, Relevant, Time-bound'"
                        },
                        "ç†è§£ä¿ƒè¿›": {
                            description: "æå‡ç†è§£æ·±åº¦",
                            explanation: "åƒè€å¸ˆè®²è¯¾ä¸€æ ·ï¼Œå±‚å±‚é€’è¿›åŠ æ·±ç†è§£ã€‚",
                            example: "'å…ˆè§£é‡Šæ¦‚å¿µï¼Œå†ä¸¾ä¾‹è¯´æ˜ï¼Œç„¶ååˆ†æåŸç†ï¼Œæœ€åç»ƒä¹ åº”ç”¨'"
                        },
                        "è”æƒ³æ¿€å‘": {
                            description: "æ¿€å‘åˆ›æ„è”æƒ³",
                            explanation: "åƒå¤´è„‘é£æš´ä¸€æ ·ï¼Œæ¿€å‘æ›´å¤šçš„åˆ›æ„å’Œè”æƒ³ã€‚",
                            example: "'ä»è¿™ä¸ªæƒ³æ³•å‡ºå‘ï¼Œè¿˜èƒ½è”æƒ³åˆ°å“ªäº›ç›¸å…³çš„åˆ›æ„ï¼Ÿè¯•ç€çªç ´å¸¸è§„æ€ç»´'"
                        },
                        "æ´å¯Ÿæ·±åŒ–": {
                            description: "æ·±å±‚æ´å¯ŸæŒ–æ˜",
                            explanation: "åƒè€ƒå¤å­¦å®¶ä¸€æ ·ï¼ŒæŒ–æ˜è¡¨é¢ç°è±¡èƒŒåçš„æ·±å±‚è§„å¾‹ã€‚",
                            example: "'é€è¿‡ç”¨æˆ·è¡Œä¸ºçš„è¡¨é¢ç°è±¡ï¼Œåˆ†æèƒŒåçš„å¿ƒç†åŠ¨æœºå’Œä»·å€¼éœ€æ±‚'"
                        }
                    },
                    "æƒ…æ„Ÿå¢å¼º": {
                        "å…±é¸£è¥é€ ": {
                            description: "æƒ…æ„Ÿå…±é¸£è®¾è®¡",
                            explanation: "åƒä¼˜ç§€çš„æ¼”è®²è€…ä¸€æ ·ï¼Œä¸å¬ä¼—å»ºç«‹æƒ…æ„Ÿè¿æ¥ã€‚",
                            example: "'ç”¨çœŸå®çš„ç”¨æˆ·æ•…äº‹å¼•èµ·å…±é¸£ï¼Œè®©æŠ½è±¡çš„æ•°æ®å˜å¾—æœ‰æ¸©åº¦'"
                        },
                        "åŠ¨æœºæ¿€å‘": {
                            description: "æ¿€å‘è¡ŒåŠ¨åŠ¨åŠ›",
                            explanation: "åƒæ•™ç»ƒä¸€æ ·ï¼Œæ¿€åŠ±äººä»¬é‡‡å–è¡ŒåŠ¨ã€‚",
                            example: "'ä¸åªæ˜¯åˆ†æé—®é¢˜ï¼Œæ›´è¦å±•ç¤ºè§£å†³é—®é¢˜åçš„ç¾å¥½å‰æ™¯ï¼Œæ¿€å‘è¡ŒåŠ¨æ„æ„¿'"
                        },
                        "ä¿¡ä»»å»ºç«‹": {
                            description: "å¢å¼ºå¯ä¿¡åº¦",
                            explanation: "åƒä¸“å®¶é¡¾é—®ä¸€æ ·ï¼Œå»ºç«‹ä¸“ä¸šå¯ä¿¡çš„å½¢è±¡ã€‚",
                            example: "'æä¾›å…·ä½“çš„æ•°æ®æ”¯æ’‘ï¼Œå¼•ç”¨æƒå¨æ¥æºï¼Œå±•ç¤ºé€»è¾‘æ¨ç†è¿‡ç¨‹'"
                        },
                        "è¶£å‘³æ³¨å…¥": {
                            description: "å¢åŠ è¶£å‘³æ€§",
                            explanation: "åƒå¨±ä¹èŠ‚ç›®ä¸€æ ·ï¼Œè®©ä¸¥è‚ƒçš„å†…å®¹å˜å¾—ç”ŸåŠ¨æœ‰è¶£ã€‚",
                            example: "'ç”¨ç”ŸåŠ¨çš„æ¯”å–»ã€æœ‰è¶£çš„æ¡ˆä¾‹ã€é€‚å½“çš„å¹½é»˜è®©æ¯ç‡¥çš„å†…å®¹ç”ŸåŠ¨èµ·æ¥'"
                        }
                    },
                    "å®ç”¨å¢å¼º": {
                        "å¯æ“ä½œæ€§": {
                            description: "å…·ä½“è¡ŒåŠ¨æŒ‡å—",
                            explanation: "åƒæ“ä½œæ‰‹å†Œä¸€æ ·ï¼Œæä¾›å…·ä½“å¯æ‰§è¡Œçš„æ­¥éª¤ã€‚",
                            example: "'ä¸åªè¯´è¦æ”¹è¿›ç”¨æˆ·ä½“éªŒï¼Œè€Œæ˜¯å…·ä½“è¯´æ˜ï¼š1.æ”¶é›†ç”¨æˆ·åé¦ˆ 2.åˆ†æç—›ç‚¹ 3.åˆ¶å®šæ”¹è¿›æ–¹æ¡ˆ 4.æµ‹è¯•éªŒè¯'"
                        },
                        "é€‚åº”æ€§": {
                            description: "çµæ´»åº”å˜èƒ½åŠ›",
                            explanation: "åƒå˜è‰²é¾™ä¸€æ ·ï¼Œèƒ½å¤Ÿé€‚åº”ä¸åŒçš„æƒ…å†µå’Œéœ€æ±‚ã€‚",
                            example: "'æä¾›åŸºç¡€ç‰ˆã€è¿›é˜¶ç‰ˆã€å®šåˆ¶ç‰ˆä¸‰å¥—æ–¹æ¡ˆï¼Œé€‚åº”ä¸åŒçš„èµ„æºå’Œéœ€æ±‚æƒ…å†µ'"
                        },
                        "å¯éªŒè¯æ€§": {
                            description: "ç»“æœå¯éªŒè¯",
                            explanation: "åƒç§‘å­¦å®éªŒä¸€æ ·ï¼Œè®¾ç½®å¯ä»¥éªŒè¯ç»“æœçš„æ ‡å‡†ã€‚",
                            example: "'è®¾å®šæ˜ç¡®çš„æˆåŠŸæŒ‡æ ‡ï¼šç”¨æˆ·æ»¡æ„åº¦æå‡20%ï¼Œå“åº”æ—¶é—´ç¼©çŸ­50%'"
                        },
                        "å¯å¤åˆ¶æ€§": {
                            description: "æ–¹æ³•å¯å¤åˆ¶",
                            explanation: "åƒåˆ¶ä½œæ¨¡æ¿ä¸€æ ·ï¼Œè®©æˆåŠŸç»éªŒå¯ä»¥å¤åˆ¶æ¨å¹¿ã€‚",
                            example: "'å°†æˆåŠŸæ–¹æ³•æ ‡å‡†åŒ–ä¸ºå¯å¤åˆ¶çš„æµç¨‹æ¨¡æ¿ï¼ŒåŒ…å«è¯¦ç»†çš„æ“ä½œæ­¥éª¤å’Œæ³¨æ„äº‹é¡¹'"
                        }
                    }
                }
            }
        };
        // æ“ä½œå±‚æ¬¡å®šä¹‰
        const levelConfig = {
            basic: { name: "ğŸŸ¢ åŸºç¡€å±‚", color: "level-basic", description: "ç»“æ„æ€§+å†…å®¹æ€§+çº¦æŸæ€§æ“ä½œ" },
            advanced: { name: "ğŸŸ¡ è¿›é˜¶å±‚", color: "level-advanced", description: "ä¸Šä¸‹æ–‡+è¿‡ç¨‹æ€§+æ•ˆæœå¢å¼ºæ“ä½œ" },
            expert: { name: "ğŸ”´ é«˜çº§å±‚", color: "level-expert", description: "æœ¬ä½“æ€§+å…ƒè®¤çŸ¥æ“ä½œ" }
        };
        let currentCategory = "ç»“æ„æ€§æ“ä½œ";
        let searchResults = [];
        // åˆå§‹åŒ–é¡µé¢
        function initializePage() {
            renderCategoryNav();
            renderCategoryIntro(currentCategory);
            renderMethods(currentCategory);
            setupSearch();
        }
        // æ¸²æŸ“åˆ†ç±»å¯¼èˆª
        function renderCategoryNav() {
            const nav = document.getElementById('categoryNav');
            nav.innerHTML = '';
            
            Object.keys(methodsDatabase).forEach((category, index) => {
                const categoryData = methodsDatabase[category];
                const levelInfo = levelConfig[categoryData.level];
                
                const button = document.createElement('button');
                button.className = `w-full text-left px-4 py-3 rounded-lg transition-all duration-200 ${
                    category === currentCategory 
                        ? 'bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300 font-medium' 
                        : 'text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700'
                }`;
                button.innerHTML = `
                    <div class="flex items-center justify-between">
                        <div class="flex items-center">
                            <span class="text-lg mr-3">${categoryData.icon}</span>
                            <span class="text-sm font-medium">${category}</span>
                        </div>
                        <span class="level-badge ${levelInfo.color} text-xs">${levelInfo.name.slice(2)}</span>
                    </div>
                `;
                button.onclick = () => selectCategory(category);
                nav.appendChild(button);
            });
        }
        // é€‰æ‹©åˆ†ç±»
        function selectCategory(category) {
            currentCategory = category;
            renderCategoryNav();
            renderCategoryIntro(category);
            renderMethods(category);
        }
        // æ¸²æŸ“åˆ†ç±»ä»‹ç»
        function renderCategoryIntro(category) {
            const intro = document.getElementById('categoryIntro');
            const data = methodsDatabase[category];
            const levelInfo = levelConfig[data.level];
            
            intro.innerHTML = `
                <div class="flex items-center mb-4">
                    <div class="w-16 h-16 ${data.gradient} rounded-xl flex items-center justify-center mr-4">
                        <span class="text-3xl">${data.icon}</span>
                    </div>
                    <div class="flex-1">
                        <div class="flex items-center gap-3 mb-2">
                            <h2 class="text-2xl font-bold text-gray-900 dark:text-white">${category}</h2>
                            <span class="level-badge ${levelInfo.color}">${levelInfo.name}</span>
                        </div>
                        <p class="text-gray-600 dark:text-gray-400">${data.description}</p>
                        <p class="text-sm text-gray-500 dark:text-gray-500 mt-1">${levelInfo.description}</p>
                    </div>
                </div>
                <div class="flex items-center justify-between text-sm text-gray-500 dark:text-gray-400">
                    <span>å…± ${Object.keys(data.methods).length} ä¸ªäºŒçº§åˆ†ç±»ï¼Œ${Object.values(data.methods).reduce((total, methods) => total + Object.keys(methods).length, 0)} ä¸ªå…·ä½“æ–¹æ³•</span>
                    <span class="text-blue-600 dark:text-blue-400">ç‚¹å‡»æ–¹æ³•å¡ç‰‡æŸ¥çœ‹è¯¦ç»†è¯´æ˜</span>
                </div>
            `;
        }
        // æ¸²æŸ“æ–¹æ³•åˆ—è¡¨
        function renderMethods(category) {
            const container = document.getElementById('methodsList');
            const data = methodsDatabase[category];
            container.innerHTML = '';
            Object.entries(data.methods).forEach(([subCategory, methods]) => {
                const section = document.createElement('div');
                section.className = 'bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden';
                
                section.innerHTML = `
                    <div class="px-6 py-4 bg-gray-50 dark:bg-gray-750 border-b border-gray-200 dark:border-gray-700">
                        <h3 class="text-lg font-semibold text-gray-900 dark:text-white">${subCategory}</h3>
                    </div>
                    <div class="p-6">
                        <div class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4">
                            ${Object.entries(methods).map(([methodName, methodData]) => `
                                <div class="method-card bg-gray-50 dark:bg-gray-700 rounded-lg p-4 cursor-pointer border border-gray-200 dark:border-gray-600 hover:border-blue-300 dark:hover:border-blue-600"
                                     onclick="showMethodDetail('${category}', '${subCategory}', '${methodName}')">
                                    <h4 class="font-medium text-gray-900 dark:text-white mb-2">${methodName}</h4>
                                    <p class="text-sm text-gray-600 dark:text-gray-400 line-clamp-2">${methodData.description}</p>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                `;
                container.appendChild(section);
            });
        }
        // æ˜¾ç¤ºæ–¹æ³•è¯¦æƒ…
        function showMethodDetail(category, subCategory, methodName) {
            const methodData = methodsDatabase[category].methods[subCategory][methodName];
            
            document.getElementById('modalTitle').textContent = methodName;
            document.getElementById('modalCategory').textContent = `${category} > ${subCategory}`;
            
            document.getElementById('modalContent').innerHTML = `
                <div class="space-y-6">
                    <div class="bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4">
                        <h4 class="font-semibold text-blue-900 dark:text-blue-300 mb-2">ğŸ“ æ–¹æ³•è¯´æ˜</h4>
                        <p class="text-blue-800 dark:text-blue-200">${methodData.description}</p>
                    </div>
                    
                    <div class="bg-green-50 dark:bg-green-900/20 rounded-lg p-4">
                        <h4 class="font-semibold text-green-900 dark:text-green-300 mb-2">ğŸ’¡ å¤§ç™½è¯è§£é‡Š</h4>
                        <p class="text-green-800 dark:text-green-200">${methodData.explanation}</p>
                    </div>
                    
                    <div class="bg-yellow-50 dark:bg-yellow-900/20 rounded-lg p-4">
                        <h4 class="font-semibold text-yellow-900 dark:text-yellow-300 mb-2">ğŸ¯ å…¸å‹ç¤ºä¾‹</h4>
                        <div class="text-yellow-800 dark:text-yellow-200 whitespace-pre-line font-mono text-sm bg-white dark:bg-gray-800 p-4 rounded border leading-relaxed">${methodData.example}</div>
                    </div>
                </div>
            `;
            
            document.getElementById('methodModal').classList.remove('hidden');
        }
        // å…³é—­æ¨¡æ€æ¡†
        function closeModal() {
            document.getElementById('methodModal').classList.add('hidden');
        }
        // è®¾ç½®æœç´¢åŠŸèƒ½
        function setupSearch() {
            const searchInput = document.getElementById('searchInput');
            searchInput.addEventListener('input', (e) => {
                const query = e.target.value.toLowerCase().trim();
                if (query) {
                    performSearch(query);
                } else {
                    renderMethods(currentCategory);
                }
            });
        }
        // æ‰§è¡Œæœç´¢
        function performSearch(query) {
            const results = [];
            
            Object.entries(methodsDatabase).forEach(([category, categoryData]) => {
                Object.entries(categoryData.methods).forEach(([subCategory, methods]) => {
                    Object.entries(methods).forEach(([methodName, methodData]) => {
                        const searchText = `${methodName} ${methodData.description} ${methodData.explanation} ${methodData.example}`.toLowerCase();
                        if (searchText.includes(query)) {
                            results.push({
                                category,
                                subCategory,
                                methodName,
                                methodData,
                                categoryData
                            });
                        }
                    });
                });
            });
            
            renderSearchResults(results, query);
        }
        // æ¸²æŸ“æœç´¢ç»“æœ
        function renderSearchResults(results, query) {
            const container = document.getElementById('methodsList');
            
            if (results.length === 0) {
                container.innerHTML = `
                    <div class="text-center py-12">
                        <div class="text-gray-400 text-6xl mb-4">ğŸ”</div>
                        <h3 class="text-lg font-medium text-gray-900 dark:text-white mb-2">æœªæ‰¾åˆ°ç›¸å…³æ–¹æ³•</h3>
                        <p class="text-gray-500 dark:text-gray-400">å°è¯•ä½¿ç”¨å…¶ä»–å…³é”®è¯æœç´¢</p>
                    </div>
                `;
                return;
            }
            container.innerHTML = `
                <div class="bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700">
                    <div class="px-6 py-4 bg-gray-50 dark:bg-gray-750 border-b border-gray-200 dark:border-gray-700">
                        <h3 class="text-lg font-semibold text-gray-900 dark:text-white">
                            æœç´¢ç»“æœ <span class="text-blue-600 dark:text-blue-400">"${query}"</span> 
                            <span class="text-sm font-normal text-gray-500 dark:text-gray-400">(${results.length} ä¸ªç»“æœ)</span>
                        </h3>
                    </div>
                    <div class="p-6">
                        <div class="space-y-4">
                            ${results.map(result => {
                                const levelInfo = levelConfig[result.categoryData.level];
                                return `
                                <div class="method-card bg-gray-50 dark:bg-gray-700 rounded-lg p-4 cursor-pointer border border-gray-200 dark:border-gray-600 hover:border-blue-300 dark:hover:border-blue-600"
                                     onclick="showMethodDetail('${result.category}', '${result.subCategory}', '${result.methodName}')">
                                    <div class="flex items-start justify-between">
                                        <div class="flex-1">
                                            <div class="flex items-center mb-2">
                                                <span class="text-lg mr-2">${result.categoryData.icon}</span>
                                                <h4 class="font-medium text-gray-900 dark:text-white">${result.methodName}</h4>
                                                <span class="level-badge ${levelInfo.color} ml-2">${levelInfo.name.slice(2)}</span>
                                            </div>
                                            <p class="text-sm text-gray-600 dark:text-gray-400 mb-2">${result.methodData.description}</p>
                                            <div class="text-xs text-gray-500 dark:text-gray-500">
                                                ${result.category} > ${result.subCategory}
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            `}).join('')}
                        </div>
                    </div>
                </div>
            `;
        }
        // è·å–è¯­è¨€åç§°
        function getLanguageName(langCode) {
            const languageNames = {
                zh: 'ä¸­æ–‡',
                en: 'English',
                ja: 'æ—¥æœ¬èª',
                ko: 'í•œêµ­ì–´',
                fr: 'FranÃ§ais',
                de: 'Deutsch',
                es: 'EspaÃ±ol'
            };
            return languageNames[langCode] || langCode;
        }
        // ä¼˜ç§€æç¤ºè¯ç¤ºä¾‹åº“ï¼ˆå¤šè¯­è¨€ï¼‰
        const excellentPrompts = {
            1: `ä½ æ˜¯ä¸€ä½èµ„æ·±çš„äº§å“ç»ç†ï¼Œæ‹¥æœ‰10å¹´çš„äº’è”ç½‘äº§å“ç»éªŒã€‚è¯·ä¸ºæˆ‘ä»¬çš„åœ¨çº¿æ•™è‚²å¹³å°åˆ†æç”¨æˆ·æµå¤±é—®é¢˜ã€‚
è¦æ±‚ï¼š
1. ä»ç”¨æˆ·ä½“éªŒã€äº§å“åŠŸèƒ½ã€ç«äº‰ç¯å¢ƒä¸‰ä¸ªç»´åº¦åˆ†æ
2. æ¯ä¸ªç»´åº¦æä¾›å…·ä½“çš„æ•°æ®æ”¯æ’‘å’Œæ¡ˆä¾‹
3. è¾“å‡ºæ ¼å¼ï¼šé—®é¢˜åˆ†æâ†’åŸå› æŒ–æ˜â†’æ”¹è¿›å»ºè®®
4. ç¡®ä¿å»ºè®®å…·æœ‰å¯æ“ä½œæ€§å’Œä¼˜å…ˆçº§æ’åº
è¯·ä»¥SWOTåˆ†ææ¡†æ¶ä¸ºåŸºç¡€ï¼ŒåŒæ—¶è€ƒè™‘ç”¨æˆ·ç”Ÿå‘½å‘¨æœŸçš„ä¸åŒé˜¶æ®µã€‚`,
            
            2: `Act as a senior marketing strategist with 15 years of experience in digital marketing. Please develop a comprehensive social media strategy for a new sustainable fashion brand.
Requirements:
1. Target audience: Environmentally conscious millennials and Gen Z
2. Budget: $50,000 for 6 months
3. Goals: Increase brand awareness by 40% and drive 25% sales growth
4. Platforms: Focus on Instagram, TikTok, and Pinterest
Deliverables:
- Content calendar with specific post types and frequency
- Influencer collaboration strategy
- Paid advertising recommendations with budget allocation
- KPIs and measurement framework
Please structure your response as: Situation Analysis â†’ Strategy Framework â†’ Tactical Execution â†’ Success Metrics.`,
            
            3: `ãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°ã®å°‚é–€å®¶ã¨ã—ã¦ã€æ–°ã—ã„AIæ­è¼‰ã®ã‚¹ãƒãƒ¼ãƒˆã‚¦ã‚©ãƒƒãƒã®å•†å“æˆ¦ç•¥ã‚’ç«‹æ¡ˆã—ã¦ãã ã•ã„ã€‚
èƒŒæ™¯æƒ…å ±ï¼š
- ã‚¿ãƒ¼ã‚²ãƒƒãƒˆï¼šå¥åº·å¿—å‘ã®30-50ä»£ãƒ“ã‚¸ãƒã‚¹ãƒ‘ãƒ¼ã‚½ãƒ³
- äºˆç®—ï¼šãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°è²»ç”¨1å„„å††ï¼ˆ1å¹´é–“ï¼‰
- ç«¶åˆï¼šApple Watchã€Fitbitã€Garmin
- ç‹¬è‡ªæ©Ÿèƒ½ï¼šã‚¹ãƒˆãƒ¬ã‚¹æ¤œçŸ¥ã¨ãƒ¡ãƒ³ã‚¿ãƒ«ãƒ˜ãƒ«ã‚¹ç®¡ç†
è¦æ±‚äº‹é …ï¼š
1. å¸‚å ´åˆ†æï¼ˆç«¶åˆæ¯”è¼ƒã‚’å«ã‚€ï¼‰
2. ãƒã‚¸ã‚·ãƒ§ãƒ‹ãƒ³ã‚°æˆ¦ç•¥
3. 4Pæˆ¦ç•¥ï¼ˆProduct, Price, Place, Promotionï¼‰
4. ãƒ­ãƒ¼ãƒ³ãƒè¨ˆç”»ï¼ˆ6ãƒ¶æœˆã®ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³ï¼‰
5. æˆåŠŸæŒ‡æ¨™ã¨KPIè¨­å®š
SWOTåˆ†æãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚’ä½¿ç”¨ã—ã¦ã€æ§‹é€ åŒ–ã•ã‚ŒãŸææ¡ˆæ›¸ã‚’ä½œæˆã—ã¦ãã ã•ã„ã€‚å„ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã«ã¯å…·ä½“çš„ãªæ•°å€¤ç›®æ¨™ã¨å®Ÿæ–½å¯èƒ½ãªã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒ—ãƒ©ãƒ³ã‚’å«ã‚ã‚‹ã“ã¨ã€‚`
        };
        // æç¤ºè¯é…æ–¹è§£æå™¨ç›¸å…³å‡½æ•°
        function showAnalyzer() {
            document.getElementById('analyzerModal').classList.remove('hidden');
        }
        function closeAnalyzer() {
            document.getElementById('analyzerModal').classList.add('hidden');
            // ä¿ç•™åˆ†æç»“æœï¼Œä¸é‡ç½®
        }
        function loadExample(exampleNum) {
            document.getElementById('promptInput').value = excellentPrompts[exampleNum];
        }
        async function analyzePrompt() {
            const promptText = document.getElementById('promptInput').value.trim();
            if (!promptText) {
                showCustomAlert('è¯·å…ˆè¾“å…¥è¦åˆ†æçš„æç¤ºè¯');
                return;
            }
            // éšè—ä¹‹å‰çš„ç»“æœ
            document.getElementById('analysisResult').classList.add('hidden');
            document.getElementById('effectPrediction').classList.add('hidden');
            document.getElementById('inspirationSuggestions').classList.add('hidden');
            document.getElementById('optimizationSuggestions').classList.add('hidden');
            
            // ç§»é™¤ä¹‹å‰çš„ä¸‹è½½æŒ‰é’®
            const existingBtn = document.getElementById('analyzerDownloadBtn');
            if (existingBtn) existingBtn.remove();
            // æ˜¾ç¤ºè¿›åº¦æ¡å¹¶å¼€å§‹åˆ†æ
            showProgressWithSteps('analysisProgress', [
                { text: 'æ£€æµ‹è¯­è¨€å’Œç»“æ„...', duration: 800 },
                { text: 'è¯†åˆ«æç¤ºè¯é…æ–¹...', duration: 1000 },
                { text: 'è°ƒç”¨AIæ·±åº¦åˆ†æ...', duration: 2000 },
                { text: 'ç”Ÿæˆä¼˜åŒ–å»ºè®®...', duration: 1200 },
                { text: 'åˆ†æå®Œæˆï¼', duration: 300 }
            ], async () => {
                try {
                    // æœ¬åœ°åˆ†ææç¤ºè¯é…æ–¹
                    const localAnalysis = analyzePromptComposition(promptText);
                    
                    // ä½¿ç”¨AIè¿›è¡Œæ·±åº¦åˆ†æ
                    const aiAnalysisPrompt = `ä½œä¸ºæç¤ºè¯å·¥ç¨‹ä¸“å®¶ï¼Œè¯·æ·±åº¦åˆ†æä»¥ä¸‹æç¤ºè¯ï¼š
${promptText}
è¯·ä»ä»¥ä¸‹ç»´åº¦è¿›è¡Œä¸“ä¸šåˆ†æï¼š
1. ç»“æ„å®Œæ•´æ€§ï¼šè§’è‰²è®¾å®šã€ä»»åŠ¡æè¿°ã€è¾“å‡ºè¦æ±‚ç­‰è¦ç´ æ˜¯å¦é½å…¨
2. é€»è¾‘ä¸¥å¯†æ€§ï¼šæŒ‡ä»¤é€»è¾‘æ˜¯å¦æ¸…æ™°ï¼Œæ˜¯å¦å­˜åœ¨æ­§ä¹‰æˆ–çŸ›ç›¾
3. å¯æ“ä½œæ€§ï¼šæŒ‡ä»¤æ˜¯å¦å…·ä½“å¯æ‰§è¡Œï¼ŒAIèƒ½å¦å‡†ç¡®ç†è§£å¹¶æ‰§è¡Œ
4. æ•ˆæœé¢„æµ‹ï¼šé¢„æµ‹è¿™ä¸ªæç¤ºè¯çš„å®é™…æ•ˆæœå’Œå¯èƒ½çš„é—®é¢˜
5. ä¼˜åŒ–å»ºè®®ï¼šæä¾›3-5ä¸ªå…·ä½“çš„æ”¹è¿›å»ºè®®
è¯·æä¾›ONLY JSONæ ¼å¼çš„åˆ†æç»“æœï¼Œæ ¼å¼å¦‚ä¸‹ï¼š
{
  "structureScore": 85,
  "logicScore": 90,
  "operabilityScore": 80,
  "overallScore": 85,
  "strengths": ["ä¼˜ç‚¹1", "ä¼˜ç‚¹2"],
  "weaknesses": ["é—®é¢˜1", "é—®é¢˜2"],
  "suggestions": ["å»ºè®®1", "å»ºè®®2", "å»ºè®®3"],
  "effectPrediction": "æ•ˆæœé¢„æµ‹æè¿°"
}`;
                    let aiAnalysis = null;
                    try {
                        const aiResult = await callAI(aiAnalysisPrompt, { temperature: 0.3, maxTokens: 1500 });
                        if (aiResult.success) {
                            // å°è¯•è§£æAIè¿”å›çš„JSON
                            const jsonMatch = aiResult.response.match(/\{[\s\S]*\}/);
                            if (jsonMatch) {
                                aiAnalysis = JSON.parse(jsonMatch[0]);
                            }
                        }
                    } catch (error) {
                        console.warn('AIåˆ†æå¤±è´¥ï¼Œä½¿ç”¨æœ¬åœ°åˆ†æ:', error);
                    }
                    
                    // åˆå¹¶æœ¬åœ°åˆ†æå’ŒAIåˆ†æ
                    const finalAnalysis = mergeAnalysisResults(localAnalysis, aiAnalysis);
                    
                    // ä¿å­˜åˆ°å†å²è®°å½•
                    saveToHistory('analyzer', promptText, finalAnalysis);
                    
                    // æ˜¾ç¤ºåˆ†æç»“æœ
                    displayAnalysisResults(finalAnalysis);
                    displayEffectPrediction(finalAnalysis);
                    displayInspirationSuggestions(finalAnalysis);
                    displayOptimizationSuggestions(finalAnalysis);
                    
                    // æ·»åŠ ä¸‹è½½æŒ‰é’®
                    setTimeout(() => {
                        addDownloadButton('analyzer', promptText, finalAnalysis);
                    }, 500);
                    
                } catch (error) {
                    console.error('åˆ†æè¿‡ç¨‹å‡ºé”™:', error);
                    showCustomAlert(`åˆ†æå¤±è´¥: ${error.message}`);
                    
                    // æ˜¾ç¤ºé”™è¯¯çŠ¶æ€å¹¶æä¾›é‡è¯•é€‰é¡¹
                    updateProgress('analysisProgress', 100, 'åˆ†æå¤±è´¥', 'error');
                }
            });
        }
        function mergeAnalysisResults(localAnalysis, aiAnalysis) {
            const merged = { ...localAnalysis };
            
            if (aiAnalysis) {
                // åˆå¹¶AIåˆ†æçš„è¯„åˆ†
                if (aiAnalysis.overallScore) {
                    merged.aiScore = aiAnalysis.overallScore;
                    merged.strengthScore.ai_evaluation = aiAnalysis.overallScore;
                }
                
                // åˆå¹¶AIçš„ä¼˜åŠ¿å’Œå¼±ç‚¹åˆ†æ
                if (aiAnalysis.strengths) {
                    merged.aiStrengths = aiAnalysis.strengths;
                }
                if (aiAnalysis.weaknesses) {
                    merged.aiWeaknesses = aiAnalysis.weaknesses;
                }
                if (aiAnalysis.suggestions) {
                    merged.aiSuggestions = aiAnalysis.suggestions;
                }
                if (aiAnalysis.effectPrediction) {
                    merged.aiEffectPrediction = aiAnalysis.effectPrediction;
                }
                
                // è°ƒæ•´æ€»åˆ†ï¼ŒèåˆAIè¯„åˆ†
                if (aiAnalysis.overallScore) {
                    merged.strengthScore.total = Math.round((merged.strengthScore.total + aiAnalysis.overallScore) / 2);
                }
            }
            
            return merged;
        }
        function createSimpleProgressBar() {
            const container = document.querySelector('#analyzerModal .grid');
            const progressDiv = document.createElement('div');
            progressDiv.id = 'analysisProgress';
            progressDiv.className = 'bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4 mb-4';
            progressDiv.innerHTML = `
                <div class="flex items-center mb-2">
                    <span class="mr-2">ğŸ”„</span>
                    <span class="font-medium text-blue-900 dark:text-blue-300">æ­£åœ¨åˆ†ææç¤ºè¯...</span>
                </div>
                <div class="w-full bg-blue-200 dark:bg-blue-700 rounded-full h-2">
                    <div id="progressBarFill" class="bg-blue-500 h-2 rounded-full transition-all duration-300" style="width: 0%"></div>
                </div>
                <div id="progressText" class="text-sm text-blue-700 dark:text-blue-300 mt-2">åˆå§‹åŒ–ä¸­...</div>
            `;
            container.insertBefore(progressDiv, container.firstChild);
        }
        function simulateAnalysisProgress(onComplete) {
            const steps = [
                { text: 'æ£€æµ‹è¯­è¨€å’Œç»“æ„...', width: 20 },
                { text: 'è¯†åˆ«æç¤ºè¯é…æ–¹...', width: 50 },
                { text: 'è¯„ä¼°æ•ˆæœé¢„æµ‹...', width: 75 },
                { text: 'ç”Ÿæˆä¼˜åŒ–å»ºè®®...', width: 90 },
                { text: 'åˆ†æå®Œæˆï¼', width: 100 }
            ];
            
            let currentStep = 0;
            
            function nextStep() {
                if (currentStep >= steps.length) {
                    setTimeout(onComplete, 500);
                    return;
                }
                
                const step = steps[currentStep];
                const progressBar = document.getElementById('progressBarFill');
                const progressText = document.getElementById('progressText');
                
                if (progressBar && progressText) {
                    progressBar.style.width = step.width + '%';
                    progressText.textContent = step.text;
                }
                
                currentStep++;
                setTimeout(nextStep, 800);
            }
            
            nextStep();
        }
        function removeProgressBar() {
            const progressDiv = document.getElementById('analysisProgress');
            if (progressDiv) {
                progressDiv.remove();
            }
        }
        function saveAnalysisToHistory(promptText, analysis) {
            if (!window.analysisHistory) {
                window.analysisHistory = [];
            }
            
            const record = {
                id: Date.now(),
                timestamp: new Date().toLocaleString('zh-CN'),
                prompt: promptText,
                analysis: analysis
            };
            
            window.analysisHistory.unshift(record);
            
            // ä¿æŒæœ€å¤š5æ¡è®°å½•
            if (window.analysisHistory.length > 5) {
                window.analysisHistory = window.analysisHistory.slice(0, 5);
            }
            
            updateHistoryDisplay();
        }
        function updateHistoryDisplay() {
            if (!window.analysisHistory || window.analysisHistory.length === 0) return;
            
            const container = document.querySelector('#analyzerModal .p-6');
            let historyDiv = document.getElementById('historySection');
            
            if (!historyDiv) {
                historyDiv = document.createElement('div');
                historyDiv.id = 'historySection';
                historyDiv.className = 'bg-gray-50 dark:bg-gray-700 rounded-lg p-4 mb-4';
                container.insertBefore(historyDiv, container.firstChild);
            }
            
            historyDiv.innerHTML = `
                <div class="flex items-center justify-between mb-3">
                    <h4 class="font-medium text-gray-900 dark:text-white">ğŸ“š åˆ†æå†å²</h4>
                    <button onclick="clearAnalysisHistory()" class="text-xs text-red-500 hover:text-red-700">æ¸…ç©º</button>
                </div>
                <div class="space-y-2 max-h-24 overflow-y-auto">
                    ${window.analysisHistory.map(record => `
                        <div class="flex items-center justify-between p-2 bg-white dark:bg-gray-600 rounded text-sm cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-500"
                             onclick="loadHistoryRecord(${record.id})">
                            <span class="flex-1 truncate">${record.prompt.substring(0, 30)}...</span>
                            <span class="text-xs text-gray-500">${record.timestamp.split(' ')[1]}</span>
                        </div>
                    `).join('')}
                </div>
            `;
        }
        function loadHistoryRecord(id) {
            const record = window.analysisHistory.find(r => r.id === id);
            if (!record) return;
            
            document.getElementById('promptInput').value = record.prompt;
            displayAnalysisResults(record.analysis);
            displayEffectPrediction(record.analysis);
            displayInspirationSuggestions(record.analysis);
            displayOptimizationSuggestions(record.analysis);
            addAnalyzerDownloadButton(record.prompt, record.analysis);
            
            showCustomAlert('å†å²è®°å½•å·²åŠ è½½ï¼');
        }
        function clearAnalysisHistory() {
            window.analysisHistory = [];
            const historyDiv = document.getElementById('historySection');
            if (historyDiv) {
                historyDiv.remove();
            }
        }
        function addAnalyzerDownloadButton(promptText, analysis) {
            // ç§»é™¤ä¹‹å‰çš„ä¸‹è½½æŒ‰é’®
            const existingBtn = document.getElementById('analyzerDownloadBtn');
            if (existingBtn) existingBtn.remove();
            
            // åœ¨ä¼˜åŒ–å»ºè®®åŒºåŸŸæ·»åŠ ä¸‹è½½æŒ‰é’®
            const container = document.getElementById('optimizationSuggestions');
            if (!container || container.classList.contains('hidden')) return;
            
            const downloadBtn = document.createElement('div');
            downloadBtn.id = 'analyzerDownloadBtn';
            downloadBtn.className = 'mt-4 text-center';
            downloadBtn.innerHTML = `
                <button onclick="downloadAnalysisReport('${promptText.replace(/'/g, "\\'")}', '${JSON.stringify(analysis).replace(/'/g, "\\'")}')" 
                        class="px-6 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-all duration-200 inline-flex items-center">
                    <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                    </svg>
                    ä¸‹è½½åˆ†ææŠ¥å‘Š
                </button>
            `;
            container.appendChild(downloadBtn);
        }
        function downloadAnalysisReport(promptText, analysisJson) {
            try {
                const analysis = JSON.parse(analysisJson);
                const timestamp = new Date().toLocaleString('zh-CN');
                
                const reportContent = `# æç¤ºè¯é…æ–¹è§£ææŠ¥å‘Š
ç”Ÿæˆæ—¶é—´ï¼š${timestamp}
## åŸå§‹æç¤ºè¯
\`\`\`
${promptText}
\`\`\`
## åˆ†æç»“æœ
### è¯†åˆ«çš„æ“ä½œæ–¹æ³•
${analysis.identifiedMethods.map((method, index) => `
${index + 1}. **${method.method}** (${method.category})
   - ç½®ä¿¡åº¦: ${method.confidence}%
   - è¯æ®: ${method.evidence}
`).join('')}
### è´¨é‡è¯„åˆ†
- æ€»åˆ†: ${analysis.strengthScore.total}/100
- è¯¦ç»†åˆ†è§£: ${Object.entries(analysis.strengthScore.breakdown).map(([item, score]) => `${item}: ${score}åˆ†`).join(', ')}
### å¤æ‚åº¦åˆ†æ
- æ¶‰åŠåˆ†ç±»: ${analysis.categories.length}ä¸ª
- æ–¹æ³•æ•°é‡: ${analysis.complexity}ä¸ª
- æç¤ºè¯é•¿åº¦: ${analysis.promptLength}å­—ç¬¦
---
*æœ¬æŠ¥å‘Šç”±æç¤ºè¯é…æ–¹è§£æå™¨è‡ªåŠ¨ç”Ÿæˆ*`;
                const blob = new Blob([reportContent], { type: 'text/markdown;charset=utf-8' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = `æç¤ºè¯åˆ†ææŠ¥å‘Š_${new Date().toISOString().slice(0, 10)}.md`;
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                URL.revokeObjectURL(url);
                
                showCustomAlert('æŠ¥å‘Šä¸‹è½½æˆåŠŸï¼');
            } catch (error) {
                showCustomAlert('ä¸‹è½½å¤±è´¥ï¼Œè¯·é‡è¯•');
            }
        }
        // å¤šè¯­è¨€å…³é”®è¯åº“
        const multiLangKeywords = {
            role_setting: {
                zh: ['ä½ æ˜¯', 'æ‰®æ¼”', 'ä½œä¸º', 'å‡è®¾ä½ æ˜¯', 'è¯·ä»¥', 'èº«ä»½'],
                en: ['you are', 'act as', 'assume you are', 'pretend to be', 'as a', 'role of', 'imagine you are'],
                ja: ['ã‚ãªãŸã¯', 'ã¨ã—ã¦', 'å½¹å‰²', 'ã®ç«‹å ´ã§', 'ã¨ã„ã†è¨­å®š'],
                ko: ['ë‹¹ì‹ ì€', 'ì—­í• ì„', 'ë¡œì„œ', 'ê°€ì •í•˜ê³ '],
                fr: ['vous Ãªtes', 'en tant que', 'jouez le rÃ´le', 'supposons que vous Ãªtes'],
                de: ['sie sind', 'als', 'stellen sie sich vor', 'nehmen sie die rolle'],
                es: ['usted es', 'actÃºe como', 'asuma que es', 'imagine que es']
            },
            task_breakdown: {
                zh: ['è¦æ±‚ï¼š', 'æ­¥éª¤', 'ç¬¬ä¸€', 'ç¬¬äºŒ', '1.', '2.', '3.', 'é¦–å…ˆ', 'ç„¶å', 'æœ€å'],
                en: ['requirements:', 'steps', 'first', 'second', 'then', 'next', 'finally', '1.', '2.', '3.'],
                ja: ['è¦æ±‚ï¼š', 'ã‚¹ãƒ†ãƒƒãƒ—', 'æœ€åˆã«', 'æ¬¡ã«', 'æœ€å¾Œã«', '1.', '2.', '3.'],
                ko: ['ìš”êµ¬ì‚¬í•­:', 'ë‹¨ê³„', 'ì²«ì§¸', 'ë‘˜ì§¸', 'ì…‹ì§¸', 'ë¨¼ì €', 'ë‹¤ìŒ', 'ë§ˆì§€ë§‰'],
                fr: ['exigences:', 'Ã©tapes', 'premiÃ¨rement', 'deuxiÃ¨mement', 'ensuite', 'finalement'],
                de: ['anforderungen:', 'schritte', 'erstens', 'zweitens', 'dann', 'schlieÃŸlich'],
                es: ['requisitos:', 'pasos', 'primero', 'segundo', 'luego', 'finalmente']
            },
            format_constraint: {
                zh: ['æ ¼å¼', 'è¾“å‡º', 'æŒ‰ç…§', 'â†’', 'æ ¼å¼è¦æ±‚', 'ç»“æ„'],
                en: ['format', 'output', 'structure', 'according to', 'â†’', 'in the format'],
                ja: ['ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ', 'å‡ºåŠ›', 'å½¢å¼', 'æ§‹é€ ', 'â†’'],
                ko: ['í˜•ì‹', 'ì¶œë ¥', 'êµ¬ì¡°', 'â†’', 'í¬ë§·'],
                fr: ['format', 'sortie', 'structure', 'selon', 'â†’'],
                de: ['format', 'ausgabe', 'struktur', 'gemÃ¤ÃŸ', 'â†’'],
                es: ['formato', 'salida', 'estructura', 'segÃºn', 'â†’']
            },
            professional_level: {
                zh: ['ä¸“ä¸š', 'ç»éªŒ', 'èµ„æ·±', 'ä¸“å®¶', 'é«˜çº§', 'ç†Ÿç»ƒ'],
                en: ['professional', 'expert', 'experienced', 'senior', 'skilled', 'advanced'],
                ja: ['å°‚é–€', 'çµŒé¨“', 'ãƒ™ãƒ†ãƒ©ãƒ³', 'å°‚é–€å®¶', 'ä¸Šç´š', 'ç†Ÿç·´'],
                ko: ['ì „ë¬¸', 'ê²½í—˜', 'ìˆ™ë ¨ëœ', 'ì „ë¬¸ê°€', 'ê³ ê¸‰', 'ë² í…Œë‘'],
                fr: ['professionnel', 'expert', 'expÃ©rimentÃ©', 'senior', 'qualifiÃ©'],
                de: ['professionell', 'experte', 'erfahren', 'senior', 'qualifiziert'],
                es: ['profesional', 'experto', 'experimentado', 'senior', 'calificado']
            },
            concrete_examples: {
                zh: ['æ¡ˆä¾‹', 'ä¾‹å­', 'å…·ä½“', 'æ¯”å¦‚', 'ä¸¾ä¾‹', 'ç¤ºä¾‹'],
                en: ['case', 'example', 'specific', 'for instance', 'such as', 'concrete'],
                ja: ['äº‹ä¾‹', 'ä¾‹', 'å…·ä½“çš„', 'ãŸã¨ãˆã°', 'ä¾‹ãˆã°'],
                ko: ['ì‚¬ë¡€', 'ì˜ˆì‹œ', 'êµ¬ì²´ì ', 'ì˜ˆë¥¼ ë“¤ì–´', 'êµ¬ì²´ì ìœ¼ë¡œ'],
                fr: ['cas', 'exemple', 'spÃ©cifique', 'par exemple', 'concret'],
                de: ['fall', 'beispiel', 'spezifisch', 'zum beispiel', 'konkret'],
                es: ['caso', 'ejemplo', 'especÃ­fico', 'por ejemplo', 'concreto']
            },
            negative_constraints: {
                zh: ['ä¸è¦', 'é¿å…', 'ç¦æ­¢', 'ä¸èƒ½', 'ä¸å¯ä»¥', 'ä¸åº”è¯¥'],
                en: ['do not', 'avoid', 'don\'t', 'never', 'refrain from', 'exclude'],
                ja: ['ã—ã¦ã¯ã„ã‘ãªã„', 'é¿ã‘ã‚‹', 'ç¦æ­¢', 'ã—ãªã„ã§', 'ã ã‚'],
                ko: ['í•˜ì§€ ë§ˆ', 'í”¼í•˜ë‹¤', 'ê¸ˆì§€', 'ì•ˆ ëœë‹¤', 'í•˜ë©´ ì•ˆ ë¼'],
                fr: ['ne pas', 'Ã©viter', 'interdire', 'ne jamais', 's\'abstenir'],
                de: ['nicht', 'vermeiden', 'verbieten', 'niemals', 'unterlassen'],
                es: ['no', 'evitar', 'prohibir', 'nunca', 'abstenerse']
            },
            length_constraints: {
                zh: ['å­—æ•°', 'æ®µè½', 'æ§åˆ¶åœ¨', 'ä¸è¶…è¿‡', 'é™åˆ¶', 'å­—ç¬¦'],
                en: ['words', 'characters', 'limit', 'no more than', 'within', 'paragraphs'],
                ja: ['æ–‡å­—æ•°', 'æ®µè½', 'åˆ¶é™', 'ä»¥å†…', 'æ–‡å­—åˆ¶é™'],
                ko: ['ê¸€ì ìˆ˜', 'ë‹¨ë½', 'ì œí•œ', 'ì´ë‚´', 'ë¬¸ì ì œí•œ'],
                fr: ['mots', 'caractÃ¨res', 'limite', 'pas plus de', 'dans'],
                de: ['wÃ¶rter', 'zeichen', 'grenze', 'nicht mehr als', 'innerhalb'],
                es: ['palabras', 'caracteres', 'lÃ­mite', 'no mÃ¡s de', 'dentro']
            },
            background_context: {
                zh: ['èƒŒæ™¯', 'æƒ…å†µ', 'ç¯å¢ƒ', 'å‰æ', 'åŸºäº', 'è€ƒè™‘åˆ°'],
                en: ['background', 'context', 'situation', 'given', 'based on', 'considering'],
                ja: ['èƒŒæ™¯', 'çŠ¶æ³', 'ç’°å¢ƒ', 'å‰æ', 'ã‚’è¸ã¾ãˆã¦', 'è€ƒæ…®ã—ã¦'],
                ko: ['ë°°ê²½', 'ìƒí™©', 'í™˜ê²½', 'ì „ì œ', 'ë°”íƒ•ìœ¼ë¡œ', 'ê³ ë ¤í•˜ì—¬'],
                fr: ['contexte', 'situation', 'environnement', 'Ã©tant donnÃ©', 'basÃ© sur'],
                de: ['hintergrund', 'kontext', 'situation', 'gegeben', 'basierend auf'],
                es: ['antecedentes', 'contexto', 'situaciÃ³n', 'dado', 'basado en']
            },
            scenario_setting: {
                zh: ['å‡è®¾', 'åœºæ™¯', 'æƒ…å¢ƒ', 'åœ¨...ä¸­', 'è®¾æƒ³', 'æ¨¡æ‹Ÿ'],
                en: ['assume', 'scenario', 'situation', 'imagine', 'suppose', 'simulate'],
                ja: ['ä»®å®š', 'ã‚·ãƒŠãƒªã‚ª', 'çŠ¶æ³', 'æƒ³åƒ', 'ã¨ã™ã‚‹', 'ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ãƒˆ'],
                ko: ['ê°€ì •', 'ì‹œë‚˜ë¦¬ì˜¤', 'ìƒí™©', 'ìƒìƒ', 'ê°€ì •í•˜ë©´', 'ì‹œë®¬ë ˆì´ì…˜'],
                fr: ['supposer', 'scÃ©nario', 'situation', 'imaginer', 'simuler'],
                de: ['annehmen', 'szenario', 'situation', 'vorstellen', 'simulieren'],
                es: ['suponer', 'escenario', 'situaciÃ³n', 'imaginar', 'simular']
            },
            frameworks: {
                zh: ['swot', 'pdca', '5w1h', 'å¤´è„‘é£æš´', 'æ€ç»´å¯¼å›¾', 'é±¼éª¨å›¾'],
                en: ['swot', 'pdca', '5w1h', 'brainstorm', 'mind map', 'fishbone', 'smart goals'],
                ja: ['swot', 'pdca', '5w1h', 'ãƒ–ãƒ¬ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒŸãƒ³ã‚°', 'ãƒã‚¤ãƒ³ãƒ‰ãƒãƒƒãƒ—'],
                ko: ['swot', 'pdca', '5w1h', 'ë¸Œë ˆì¸ìŠ¤í† ë°', 'ë§ˆì¸ë“œë§µ'],
                fr: ['swot', 'pdca', '5w1h', 'brainstorming', 'carte mentale'],
                de: ['swot', 'pdca', '5w1h', 'brainstorming', 'mind map'],
                es: ['swot', 'pdca', '5w1h', 'lluvia de ideas', 'mapa mental']
            },
            engagement_enhancement: {
                zh: ['ç”ŸåŠ¨', 'æœ‰è¶£', 'å¸å¼•', 'å¼•äººå…¥èƒœ', 'è¶£å‘³', 'æ´»æ³¼'],
                en: ['engaging', 'interesting', 'compelling', 'captivating', 'vivid', 'lively'],
                ja: ['ç”Ÿãç”Ÿã', 'é¢ç™½ã„', 'é­…åŠ›çš„', 'èˆˆå‘³æ·±ã„', 'æ´»ç™º'],
                ko: ['ìƒìƒí•œ', 'í¥ë¯¸ë¡œìš´', 'ë§¤ë ¥ì ì¸', 'ì¬ë¯¸ìˆëŠ”', 'í™œë°œí•œ'],
                fr: ['engageant', 'intÃ©ressant', 'captivant', 'vivant', 'attrayant'],
                de: ['ansprechend', 'interessant', 'fesselnd', 'lebendig', 'attraktiv'],
                es: ['atractivo', 'interesante', 'cautivador', 'vÃ­vido', 'animado']
            },
            actionable: {
                zh: ['å¯æ“ä½œ', 'å…·ä½“æ­¥éª¤', 'è¡ŒåŠ¨', 'å®æ–½', 'æ‰§è¡Œ', 'è½åœ°'],
                en: ['actionable', 'specific steps', 'implementation', 'execute', 'practical'],
                ja: ['å®Ÿè¡Œå¯èƒ½', 'å…·ä½“çš„', 'ã‚¹ãƒ†ãƒƒãƒ—', 'å®Ÿæ–½', 'å®Ÿè·µ'],
                ko: ['ì‹¤í–‰ ê°€ëŠ¥í•œ', 'êµ¬ì²´ì  ë‹¨ê³„', 'ì‹¤í–‰', 'ì‹¤ì‹œ', 'ì‹¤ìš©ì '],
                fr: ['actionnable', 'Ã©tapes spÃ©cifiques', 'mise en Å“uvre', 'exÃ©cuter'],
                de: ['umsetzbar', 'spezifische schritte', 'umsetzung', 'ausfÃ¼hren'],
                es: ['accionable', 'pasos especÃ­ficos', 'implementaciÃ³n', 'ejecutar']
            }
        };
        // æ£€æµ‹æ–‡æœ¬è¯­è¨€
        function detectLanguage(text) {
            const langScores = {
                zh: 0, en: 0, ja: 0, ko: 0, fr: 0, de: 0, es: 0
            };
            // åŸºäºå­—ç¬¦ç‰¹å¾æ£€æµ‹
            const chineseChars = text.match(/[\u4e00-\u9fff]/g);
            const japaneseChars = text.match(/[\u3040-\u309f\u30a0-\u30ff]/g);
            const koreanChars = text.match(/[\uac00-\ud7af]/g);
            if (chineseChars) langScores.zh += chineseChars.length * 2;
            if (japaneseChars) langScores.ja += japaneseChars.length * 2;
            if (koreanChars) langScores.ko += koreanChars.length * 2;
            // åŸºäºå…³é”®è¯æ£€æµ‹
            Object.entries(multiLangKeywords).forEach(([category, languages]) => {
                Object.entries(languages).forEach(([lang, keywords]) => {
                    keywords.forEach(keyword => {
                        if (text.toLowerCase().includes(keyword.toLowerCase())) {
                            langScores[lang] += keyword.length;
                        }
                    });
                });
            });
            // è¿”å›å¾—åˆ†æœ€é«˜çš„è¯­è¨€ï¼Œå¦‚æœéƒ½å¾ˆä½å°±é»˜è®¤ä¸­æ–‡
            const maxScore = Math.max(...Object.values(langScores));
            if (maxScore === 0) return 'zh';
            
            return Object.keys(langScores).find(lang => langScores[lang] === maxScore);
        }
        // å¤šè¯­è¨€å…³é”®è¯æ£€æµ‹
        function containsKeywords(text, keywordCategory, detectedLang) {
            const keywords = multiLangKeywords[keywordCategory];
            if (!keywords) return false;
            // æ£€æŸ¥æ£€æµ‹åˆ°çš„è¯­è¨€å’Œè‹±è¯­ï¼ˆä½œä¸ºå¤‡é€‰ï¼‰
            const langsToCheck = [detectedLang];
            if (detectedLang !== 'en') langsToCheck.push('en');
            if (detectedLang !== 'zh') langsToCheck.push('zh');
            for (const lang of langsToCheck) {
                if (keywords[lang]) {
                    for (const keyword of keywords[lang]) {
                        if (text.toLowerCase().includes(keyword.toLowerCase())) {
                            return { found: true, keyword, language: lang };
                        }
                    }
                }
            }
            return { found: false };
        }
        function analyzePromptComposition(promptText) {
            const text = promptText.toLowerCase();
            const identifiedMethods = [];
            const strengthScore = { total: 0, breakdown: {} };
            
            // æ£€æµ‹è¯­è¨€
            const detectedLang = detectLanguage(promptText);
            // æ£€æµ‹ç»“æ„æ€§æ“ä½œ - è§’è‰²è®¾å®š
            const roleResult = containsKeywords(text, 'role_setting', detectedLang);
            if (roleResult.found) {
                identifiedMethods.push({
                    category: 'ç»“æ„æ€§æ“ä½œ',
                    subCategory: 'è§£æ„é‡ç»„',
                    method: 'æ¨¡å—åŒ–è®¾è®¡',
                    confidence: 90,
                    evidence: `ä½¿ç”¨äº†è§’è‰²è®¾å®šæ¨¡å— (${roleResult.language}: "${roleResult.keyword}")`
                });
                strengthScore.breakdown['è§’è‰²å®šä¹‰'] = 15;
            }
            // æ£€æµ‹ä»»åŠ¡åˆ†è§£
            const taskResult = containsKeywords(text, 'task_breakdown', detectedLang);
            if (taskResult.found) {
                identifiedMethods.push({
                    category: 'ç»“æ„æ€§æ“ä½œ',
                    subCategory: 'è§£æ„é‡ç»„',
                    method: 'å±‚çº§åˆ†è§£',
                    confidence: 85,
                    evidence: `å°†ä»»åŠ¡åˆ†è§£ä¸ºå¤šä¸ªæ­¥éª¤ (${taskResult.language}: "${taskResult.keyword}")`
                });
                strengthScore.breakdown['ä»»åŠ¡åˆ†è§£'] = 20;
            }
            if (text.includes('æ ¼å¼') || text.includes('è¾“å‡º') || text.includes('â†’')) {
                identifiedMethods.push({
                    category: 'çº¦æŸæ€§æ“ä½œ',
                    subCategory: 'ç¡¬æ€§çº¦æŸ',
                    method: 'æ ¼å¼é™å®š',
                    confidence: 80,
                    evidence: 'æ˜ç¡®æŒ‡å®šäº†è¾“å‡ºæ ¼å¼'
                });
                strengthScore.breakdown['æ ¼å¼è§„èŒƒ'] = 10;
            }
            // æ£€æµ‹å†…å®¹æ€§æ“ä½œ
            if (text.includes('ä¸“ä¸š') || text.includes('ç»éªŒ') || text.includes('èµ„æ·±')) {
                identifiedMethods.push({
                    category: 'å†…å®¹æ€§æ“ä½œ',
                    subCategory: 'ä¿¡æ¯è½¬æ¢',
                    method: 'ä¸“ä¸šåº¦è°ƒèŠ‚',
                    confidence: 75,
                    evidence: 'è®¾å®šäº†ä¸“ä¸šæ°´å‡†è¦æ±‚'
                });
                strengthScore.breakdown['ä¸“ä¸šæ°´å¹³'] = 15;
            }
            if (text.includes('æ¡ˆä¾‹') || text.includes('ä¾‹å­') || text.includes('å…·ä½“')) {
                identifiedMethods.push({
                    category: 'å†…å®¹æ€§æ“ä½œ',
                    subCategory: 'ä¿¡æ¯è½¬æ¢',
                    method: 'æŠ½è±¡åº¦å˜æ¢',
                    confidence: 70,
                    evidence: 'è¦æ±‚æä¾›å…·ä½“æ¡ˆä¾‹æ”¯æ’‘'
                });
                strengthScore.breakdown['å…·ä½“åŒ–'] = 10;
            }
            // æ£€æµ‹çº¦æŸæ€§æ“ä½œ
            if (text.includes('ä¸è¦') || text.includes('é¿å…') || text.includes('ç¦æ­¢')) {
                identifiedMethods.push({
                    category: 'çº¦æŸæ€§æ“ä½œ',
                    subCategory: 'å¦å®šçº¦æŸ',
                    method: 'ç¦æ­¢é¡¹åˆ—ä¸¾',
                    confidence: 85,
                    evidence: 'æ˜ç¡®äº†ç¦æ­¢äº‹é¡¹'
                });
                strengthScore.breakdown['è¾¹ç•Œæ§åˆ¶'] = 10;
            }
            if (text.includes('å­—æ•°') || text.includes('æ®µè½') || text.includes('æ§åˆ¶åœ¨')) {
                identifiedMethods.push({
                    category: 'çº¦æŸæ€§æ“ä½œ',
                    subCategory: 'ç¡¬æ€§çº¦æŸ',
                    method: 'é•¿åº¦é™åˆ¶',
                    confidence: 90,
                    evidence: 'è®¾ç½®äº†é•¿åº¦é™åˆ¶'
                });
                strengthScore.breakdown['é•¿åº¦æ§åˆ¶'] = 8;
            }
            // æ£€æµ‹ä¸Šä¸‹æ–‡æ“ä½œ
            if (text.includes('èƒŒæ™¯') || text.includes('æƒ…å†µ') || text.includes('ç¯å¢ƒ')) {
                identifiedMethods.push({
                    category: 'ä¸Šä¸‹æ–‡æ“ä½œ',
                    subCategory: 'çŸ¥è¯†èƒŒæ™¯',
                    method: 'è¯­å¢ƒæ¤å…¥',
                    confidence: 75,
                    evidence: 'æä¾›äº†èƒŒæ™¯ä¿¡æ¯'
                });
                strengthScore.breakdown['è¯­å¢ƒè®¾å®š'] = 12;
            }
            if (text.includes('å‡è®¾') || text.includes('åœºæ™¯') || text.includes('æƒ…å¢ƒ')) {
                identifiedMethods.push({
                    category: 'ä¸Šä¸‹æ–‡æ“ä½œ',
                    subCategory: 'æƒ…å¢ƒè¥é€ ',
                    method: 'åœºæ™¯æè¿°',
                    confidence: 80,
                    evidence: 'åˆ›å»ºäº†å…·ä½“åœºæ™¯'
                });
                strengthScore.breakdown['æƒ…å¢ƒè¥é€ '] = 15;
            }
            // æ£€æµ‹æ¡†æ¶åº”ç”¨
            const frameworks = ['swot', 'pdca', '5w1h', 'å¤´è„‘é£æš´', 'æ€ç»´å¯¼å›¾'];
            frameworks.forEach(framework => {
                if (text.includes(framework)) {
                    identifiedMethods.push({
                        category: 'ç»“æ„æ€§æ“ä½œ',
                        subCategory: 'æ¡†æ¶åº”ç”¨',
                        method: 'æ¡†æ¶å¥—ç”¨',
                        confidence: 95,
                        evidence: `ä½¿ç”¨äº†${framework.toUpperCase()}æ¡†æ¶`
                    });
                    strengthScore.breakdown['æ¡†æ¶è¿ç”¨'] = 20;
                }
            });
            // æ£€æµ‹æ•ˆæœå¢å¼ºæ“ä½œ
            if (text.includes('ç”ŸåŠ¨') || text.includes('æœ‰è¶£') || text.includes('å¸å¼•')) {
                identifiedMethods.push({
                    category: 'æ•ˆæœå¢å¼ºæ“ä½œ',
                    subCategory: 'æƒ…æ„Ÿå¢å¼º',
                    method: 'è¶£å‘³æ³¨å…¥',
                    confidence: 70,
                    evidence: 'è¦æ±‚å¢å¼ºè¶£å‘³æ€§'
                });
                strengthScore.breakdown['è¶£å‘³æ€§'] = 10;
            }
            if (text.includes('å¯æ“ä½œ') || text.includes('å…·ä½“æ­¥éª¤') || text.includes('è¡ŒåŠ¨')) {
                identifiedMethods.push({
                    category: 'æ•ˆæœå¢å¼ºæ“ä½œ',
                    subCategory: 'å®ç”¨å¢å¼º',
                    method: 'å¯æ“ä½œæ€§',
                    confidence: 85,
                    evidence: 'å¼ºè°ƒå¯æ“ä½œæ€§'
                });
                strengthScore.breakdown['å¯æ“ä½œæ€§'] = 15;
            }
            // è®¡ç®—æ€»åˆ†
            strengthScore.total = Object.values(strengthScore.breakdown).reduce((sum, score) => sum + score, 0);
            return {
                identifiedMethods,
                strengthScore,
                promptLength: promptText.length,
                complexity: identifiedMethods.length,
                categories: [...new Set(identifiedMethods.map(m => m.category))]
            };
        }
        function displayAnalysisResults(analysis) {
            const container = document.getElementById('ingredientsList');
            const categories = {};
            
            // æŒ‰åˆ†ç±»ç»„ç»‡æ–¹æ³•
            analysis.identifiedMethods.forEach(method => {
                if (!categories[method.category]) {
                    categories[method.category] = [];
                }
                categories[method.category].push(method);
            });
            let html = '';
            Object.entries(categories).forEach(([category, methods]) => {
                const categoryData = methodsDatabase[category];
                const levelInfo = levelConfig[categoryData?.level || 'basic'];
                
                html += `
                    <div class="mb-4">
                        <div class="flex items-center mb-2">
                            <span class="text-lg mr-2">${categoryData?.icon || 'ğŸ“‹'}</span>
                            <span class="font-medium text-green-900 dark:text-green-300">${category}</span>
                            <span class="level-badge ${levelInfo.color} ml-2 text-xs">${levelInfo.name.slice(2)}</span>
                        </div>
                        <div class="space-y-2 ml-6">
                            ${methods.map(method => `
                                <div class="bg-white dark:bg-gray-800 rounded-lg p-3 border border-green-200 dark:border-green-700">
                                    <div class="flex justify-between items-start">
                                        <div>
                                            <span class="font-medium text-gray-900 dark:text-white">${method.method}</span>
                                            <p class="text-sm text-gray-600 dark:text-gray-400 mt-1">${method.evidence}</p>
                                        </div>
                                        <div class="flex items-center">
                                            <div class="w-12 h-2 bg-gray-200 dark:bg-gray-600 rounded-full mr-2">
                                                <div class="h-full bg-green-500 rounded-full" style="width: ${method.confidence}%"></div>
                                            </div>
                                            <span class="text-xs text-gray-500">${method.confidence}%</span>
                                        </div>
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                `;
            });
            container.innerHTML = html;
            document.getElementById('analysisResult').classList.remove('hidden');
        }
        function displayEffectPrediction(analysis) {
            const container = document.getElementById('predictionContent');
            const score = analysis.strengthScore.total;
            let level, color, description;
            if (score >= 80) {
                level = 'ä¼˜ç§€';
                color = 'text-green-600';
                description = 'è¿™æ˜¯ä¸€ä¸ªç»“æ„å®Œæ•´ã€è¦ç´ é½å…¨çš„ä¼˜ç§€æç¤ºè¯';
            } else if (score >= 60) {
                level = 'è‰¯å¥½';
                color = 'text-blue-600';
                description = 'æç¤ºè¯è´¨é‡è‰¯å¥½ï¼Œè¿˜æœ‰è¿›ä¸€æ­¥ä¼˜åŒ–ç©ºé—´';
            } else if (score >= 40) {
                level = 'ä¸€èˆ¬';
                color = 'text-yellow-600';
                description = 'æç¤ºè¯åŸºæœ¬å¯ç”¨ï¼Œä½†ç¼ºå°‘ä¸€äº›å…³é”®è¦ç´ ';
            } else {
                level = 'éœ€æ”¹è¿›';
                color = 'text-red-600';
                description = 'æç¤ºè¯éœ€è¦å¤§å¹…æ”¹è¿›æ‰èƒ½è·å¾—ç†æƒ³æ•ˆæœ';
            }
            const html = `
                <div class="space-y-4">
                    <div class="bg-white dark:bg-gray-800 rounded-lg p-4 border border-yellow-200 dark:border-yellow-700">
                        <div class="flex justify-between items-center mb-3">
                            <h5 class="font-medium text-gray-900 dark:text-white">ç»¼åˆè´¨é‡è¯„åˆ†</h5>
                            <span class="text-2xl font-bold ${color}">${score}/100</span>
                        </div>
                        <div class="w-full h-3 bg-gray-200 dark:bg-gray-600 rounded-full mb-2">
                            <div class="h-full bg-gradient-to-r from-red-400 via-yellow-400 to-green-400 rounded-full" style="width: ${Math.min(score, 100)}%"></div>
                        </div>
                        <p class="text-sm ${color} font-medium">${level} - ${description}</p>
                    </div>
                    
                    <div class="bg-white dark:bg-gray-800 rounded-lg p-4 border border-yellow-200 dark:border-yellow-700">
                        <h5 class="font-medium text-gray-900 dark:text-white mb-3">è¯¦ç»†è¯„åˆ†åˆ†è§£</h5>
                        <div class="space-y-2">
                            ${Object.entries(analysis.strengthScore.breakdown).map(([item, score]) => `
                                <div class="flex justify-between items-center">
                                    <span class="text-sm text-gray-600 dark:text-gray-400">${item}</span>
                                    <div class="flex items-center">
                                        <div class="w-20 h-2 bg-gray-200 dark:bg-gray-600 rounded-full mr-2">
                                            <div class="h-full bg-blue-500 rounded-full" style="width: ${(score/20)*100}%"></div>
                                        </div>
                                        <span class="text-sm font-medium text-gray-900 dark:text-white">${score}</span>
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                    
                    <div class="bg-white dark:bg-gray-800 rounded-lg p-4 border border-yellow-200 dark:border-yellow-700">
                        <h5 class="font-medium text-gray-900 dark:text-white mb-3">å¤æ‚åº¦åˆ†æ</h5>
                        <div class="grid grid-cols-3 gap-4 text-center">
                            <div>
                                <div class="text-xl font-bold text-gray-900 dark:text-white">${analysis.categories.length}</div>
                                <div class="text-xs text-gray-500">æ¶‰åŠåˆ†ç±»</div>
                            </div>
                            <div>
                                <div class="text-xl font-bold text-gray-900 dark:text-white">${analysis.complexity}</div>
                                <div class="text-xs text-gray-500">æ–¹æ³•æ•°é‡</div>
                            </div>
                            <div>
                                <div class="text-xl font-bold text-gray-900 dark:text-white">${Math.round(analysis.promptLength/100)}</div>
                                <div class="text-xs text-gray-500">ç™¾å­—å¤æ‚åº¦</div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            container.innerHTML = html;
            document.getElementById('effectPrediction').classList.remove('hidden');
        }
        function displayInspirationSuggestions(analysis) {
            const container = document.getElementById('inspirationContent');
            const usedCategories = analysis.categories;
            const allCategories = Object.keys(methodsDatabase);
            const missingCategories = allCategories.filter(cat => !usedCategories.includes(cat));
            const inspirations = [];
            // åŸºäºå·²ç”¨æ–¹æ³•çš„ä¸¾ä¸€åä¸‰
            if (usedCategories.includes('ç»“æ„æ€§æ“ä½œ')) {
                inspirations.push({
                    type: 'å¢å¼ºç°æœ‰',
                    title: 'ç»“æ„æ€§æ“ä½œæ·±åŒ–',
                    suggestion: 'ä½ å·²ç»ç”¨äº†è§’è‰²è®¾å®šå’Œä»»åŠ¡åˆ†è§£ï¼Œå¯ä»¥å°è¯•æ·»åŠ "é€’å½’æ·±åŒ–"ï¼šè®©AIåœ¨æ¯ä¸ªåˆ†æç»´åº¦ä¸Šå†æ¬¡æ·±å…¥æŒ–æ˜ï¼Œå½¢æˆå¤šå±‚æ¬¡åˆ†æã€‚',
                    example: 'åœ¨æ¯ä¸ªç»´åº¦åˆ†æåï¼ŒåŠ å…¥ï¼š\n"è¯·å¯¹ä¸Šè¿°æ¯ä¸ªè¦ç‚¹è¿›ä¸€æ­¥æ·±å…¥åˆ†æå…¶æ ¹æœ¬åŸå› å’Œæ½œåœ¨å½±å“"'
                });
            }
            // åŸºäºç¼ºå¤±æ–¹æ³•çš„å»ºè®®
            if (!usedCategories.includes('æœ¬ä½“æ€§æ“ä½œ')) {
                inspirations.push({
                    type: 'æ·»åŠ æ–°ç»´åº¦',
                    title: 'æœ¬ä½“æ€§æ€ç»´å‡çº§',
                    suggestion: 'å°è¯•é‡æ–°å®šä¹‰é—®é¢˜çš„æœ¬è´¨ï¼šä¸æ˜¯"åˆ†æç”¨æˆ·æµå¤±"ï¼Œè€Œæ˜¯"é‡æ–°å®šä¹‰ç”¨æˆ·ä¸äº§å“çš„å…³ç³»"ï¼Œä»æ ¹æœ¬ä¸Šæ”¹å˜é—®é¢˜çš„è®¤çŸ¥æ¡†æ¶ã€‚',
                    example: 'åŠ å…¥ï¼š\n"è¯·é‡æ–°å®šä¹‰ç”¨æˆ·æµå¤±é—®é¢˜çš„æœ¬è´¨ï¼šç”¨æˆ·æµå¤±æ˜¯å…³ç³»æ–­è£‚è¿˜æ˜¯ä»·å€¼é”™é…ï¼ŸåŸºäºè¿™ä¸ªæ–°å®šä¹‰é‡æ–°åˆ†æã€‚"'
                });
            }
            if (!usedCategories.includes('è¿‡ç¨‹æ€§æ“ä½œ')) {
                inspirations.push({
                    type: 'æµç¨‹ä¼˜åŒ–',
                    title: 'è¿‡ç¨‹æ€§æ“ä½œå¼•å…¥',
                    suggestion: 'è®¾è®¡è¿­ä»£ä¼˜åŒ–æµç¨‹ï¼šè®©AIå…ˆç»™å‡ºåˆæ­¥åˆ†æï¼Œç„¶ååŸºäºåé¦ˆä¸æ–­ä¼˜åŒ–ï¼Œè€Œä¸æ˜¯ä¸€æ¬¡æ€§è¾“å‡ºã€‚',
                    example: 'åŠ å…¥ï¼š\n"è¯·å…ˆç»™å‡ºæ¡†æ¶æ€§åˆ†æï¼Œç„¶åæˆ‘ä¼šé’ˆå¯¹æ¯ä¸ªéƒ¨åˆ†æå‡ºé—®é¢˜ï¼Œä½ å†æ·±å…¥å±•å¼€å¯¹åº”éƒ¨åˆ†ã€‚"'
                });
            }
            // ç»„åˆåˆ›æ–°å»ºè®®
            inspirations.push({
                type: 'ç»„åˆåˆ›æ–°',
                title: 'è·¨ç±»åˆ«ç»„åˆ',
                suggestion: 'ç»“åˆ"æƒ…å¢ƒè¥é€ "+"æœ¬ä½“æ€§æ€ç»´"ï¼šå°†åˆ†ææ”¾åœ¨å…·ä½“çš„å±æœºåœºæ™¯ä¸­ï¼ŒåŒæ—¶é‡æ–°å®šä¹‰"å±æœº"çš„æœ¬è´¨å«ä¹‰ã€‚',
                example: 'æƒ…å¢ƒè®¾å®šï¼š\n"å‡è®¾ä½ æ˜¯åœ¨è‘£äº‹ä¼šç´§æ€¥ä¼šè®®ä¸Šï¼Œéœ€è¦åœ¨30åˆ†é’Ÿå†…ç»™å‡ºè§£å†³æ–¹æ¡ˆã€‚åŒæ—¶ï¼Œè¯·å°†ç”¨æˆ·æµå¤±é‡æ–°å®šä¹‰ä¸ºç”Ÿæ€ç³»ç»Ÿçš„è‡ªç„¶è°ƒèŠ‚è¿‡ç¨‹ã€‚"'
            });
            const html = `
                <div class="space-y-4">
                    ${inspirations.map((inspiration, index) => `
                        <div class="bg-white dark:bg-gray-800 rounded-lg p-4 border border-orange-200 dark:border-orange-700">
                            <div class="flex items-start space-x-3">
                                <div class="flex-shrink-0 w-8 h-8 bg-orange-100 dark:bg-orange-900/30 rounded-full flex items-center justify-center">
                                    <span class="text-orange-600 dark:text-orange-400 font-bold text-sm">${index + 1}</span>
                                </div>
                                <div class="flex-1">
                                    <div class="flex items-center space-x-2 mb-2">
                                        <span class="px-2 py-1 bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-300 text-xs rounded">${inspiration.type}</span>
                                        <h6 class="font-medium text-gray-900 dark:text-white">${inspiration.title}</h6>
                                    </div>
                                    <p class="text-sm text-gray-600 dark:text-gray-400 mb-3">${inspiration.suggestion}</p>
                                    <div class="bg-gray-50 dark:bg-gray-700 rounded-lg p-3">
                                        <div class="text-xs text-gray-500 dark:text-gray-400 mb-1">ğŸ’¡ å®è·µç¤ºä¾‹ï¼š</div>
                                        <code class="text-sm text-gray-800 dark:text-gray-200 whitespace-pre-line">${inspiration.example}</code>
                                    </div>
                                </div>
                            </div>
                        </div>
                    `).join('')}
                </div>
            `;
            container.innerHTML = html;
            document.getElementById('inspirationSuggestions').classList.remove('hidden');
        }
        function displayOptimizationSuggestions(analysis) {
            const container = document.getElementById('suggestionContent');
            const suggestions = [];
            // åŸºäºåˆ†æ•°ç»™å‡ºå»ºè®®
            if (analysis.strengthScore.total < 60) {
                suggestions.push({
                    priority: 'é«˜',
                    title: 'è¡¥å……å…³é”®è¦ç´ ',
                    content: 'å½“å‰æç¤ºè¯ç¼ºå°‘ä¸€äº›åŸºç¡€è¦ç´ ï¼Œå»ºè®®è¡¥å……ï¼šæ˜ç¡®çš„è§’è‰²å®šä¹‰ã€æ¸…æ™°çš„è¾“å‡ºæ ¼å¼è¦æ±‚ã€å…·ä½“çš„è´¨é‡æ ‡å‡†ã€‚'
                });
            }
            if (!analysis.strengthScore.breakdown['è¾¹ç•Œæ§åˆ¶']) {
                suggestions.push({
                    priority: 'ä¸­',
                    title: 'å¢åŠ çº¦æŸæ¡ä»¶',
                    content: 'å»ºè®®æ·»åŠ å¦å®šçº¦æŸï¼Œæ˜ç¡®å‘Šè¯‰AIä»€ä¹ˆä¸è¦åšï¼Œæ¯”å¦‚"ä¸è¦ä½¿ç”¨è¿‡äºå­¦æœ¯åŒ–çš„è¯­è¨€"æˆ–"é¿å…ç©ºæ´çš„å¥—è¯"ã€‚'
                });
            }
            if (analysis.promptLength < 200) {
                suggestions.push({
                    priority: 'ä¸­',
                    title: 'ä¸°å¯Œä¸Šä¸‹æ–‡ä¿¡æ¯',
                    content: 'æç¤ºè¯ç›¸å¯¹è¾ƒçŸ­ï¼Œå¯ä»¥æ·»åŠ æ›´å¤šèƒŒæ™¯ä¿¡æ¯å’Œå…·ä½“è¦æ±‚ï¼Œå¸®åŠ©AIæ›´å¥½åœ°ç†è§£ä»»åŠ¡åœºæ™¯ã€‚'
                });
            }
            if (analysis.categories.length < 3) {
                suggestions.push({
                    priority: 'ä½',
                    title: 'å¢åŠ æ“ä½œç»´åº¦',
                    content: 'å½“å‰ä¸»è¦ä½¿ç”¨äº†å°‘æ•°å‡ ä¸ªæ“ä½œç±»åˆ«ï¼Œå¯ä»¥å°è¯•å¼•å…¥æ›´å¤šç»´åº¦ï¼Œå¦‚æƒ…å¢ƒè¥é€ ã€æ•ˆæœå¢å¼ºç­‰ï¼Œä¸°å¯Œæç¤ºè¯çš„å±‚æ¬¡ã€‚'
                });
            }
            const html = `
                <div class="space-y-3">
                    ${suggestions.map(suggestion => `
                        <div class="bg-white dark:bg-gray-800 rounded-lg p-4 border border-blue-200 dark:border-blue-700">
                            <div class="flex items-start space-x-3">
                                <span class="px-2 py-1 text-xs rounded font-medium ${
                                    suggestion.priority === 'é«˜' ? 'bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-300' :
                                    suggestion.priority === 'ä¸­' ? 'bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-300' :
                                    'bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-300'
                                }">
                                    ${suggestion.priority}ä¼˜å…ˆçº§
                                </span>
                                <div class="flex-1">
                                    <h6 class="font-medium text-gray-900 dark:text-white mb-1">${suggestion.title}</h6>
                                    <p class="text-sm text-gray-600 dark:text-gray-400">${suggestion.content}</p>
                                </div>
                            </div>
                        </div>
                    `).join('')}
                </div>
            `;
            container.innerHTML = html;
            document.getElementById('optimizationSuggestions').classList.remove('hidden');
        }
        function showCustomAlert(message) {
            // åˆ›å»ºè‡ªå®šä¹‰å¼¹çª—
            const modal = document.createElement('div');
            modal.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50';
            modal.innerHTML = `
                <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg max-w-sm w-full mx-4">
                    <p class="text-gray-700 dark:text-gray-300 mb-4">${message}</p>
                    <div class="flex justify-end">
                        <button class="px-4 py-2 bg-blue-500 text-white hover:bg-blue-600 rounded" onclick="this.closest('.fixed').remove()">ç¡®å®š</button>
                    </div>
                </div>
            `;
            document.body.appendChild(modal);
        }
        // ==================== å†å²è®°å½•ç®¡ç†ç³»ç»Ÿ ====================
        let moduleHistory = {
            analyzer: [],
            smart: [],
            trinity: []
        };
        function saveToHistory(moduleType, input, result) {
            const timestamp = new Date().toISOString();
            const record = {
                id: Date.now(),
                timestamp,
                input,
                result,
                moduleType
            };
            
            moduleHistory[moduleType].unshift(record);
            
            // ä¿æŒæœ€å¤š10æ¡è®°å½•
            if (moduleHistory[moduleType].length > 10) {
                moduleHistory[moduleType] = moduleHistory[moduleType].slice(0, 10);
            }
            
            updateHistoryUI(moduleType);
        }
        function updateHistoryUI(moduleType) {
            const histories = moduleHistory[moduleType];
            if (histories.length === 0) return;
            
            const containerMaps = {
                analyzer: '#analyzerModal .p-6',
                smart: '#smartHelperModal .p-6',
                trinity: '#trinityModal .p-6'
            };
            
            const container = document.querySelector(containerMaps[moduleType]);
            if (!container) return;
            
            // æ£€æŸ¥æ˜¯å¦å·²æœ‰å†å²è®°å½•å®¹å™¨
            let historyContainer = container.querySelector('.history-container');
            if (!historyContainer) {
                historyContainer = document.createElement('div');
                historyContainer.className = 'history-container bg-gray-50 dark:bg-gray-900/50 rounded-lg p-4 mb-6';
                historyContainer.innerHTML = `
                    <div class="flex items-center justify-between mb-3">
                        <h4 class="font-semibold text-gray-900 dark:text-white flex items-center">
                            <span class="mr-2">ğŸ“š</span>
                            å†å²è®°å½•
                        </h4>
                        <button onclick="clearHistory('${moduleType}')" class="text-xs text-red-500 hover:text-red-700">
                            æ¸…ç©ºè®°å½•
                        </button>
                    </div>
                    <div class="history-list space-y-2 max-h-32 overflow-y-auto"></div>
                `;
                container.insertBefore(historyContainer, container.firstChild);
            }
            
            const historyList = historyContainer.querySelector('.history-list');
            historyList.innerHTML = histories.map((record, index) => {
                const shortInput = record.input.substring(0, 30) + (record.input.length > 30 ? '...' : '');
                const timeStr = new Date(record.timestamp).toLocaleTimeString('zh-CN', { hour: '2-digit', minute: '2-digit' });
                
                return `
                    <div class="flex items-center justify-between p-2 bg-white dark:bg-gray-800 rounded border cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700"
                         onclick="loadHistory('${moduleType}', ${record.id})">
                        <div class="flex-1">
                            <div class="text-sm font-medium text-gray-900 dark:text-white">${shortInput}</div>
                            <div class="text-xs text-gray-500">${timeStr}</div>
                        </div>
                        <button onclick="deleteHistory('${moduleType}', ${record.id}); event.stopPropagation();" 
                                class="text-xs text-red-400 hover:text-red-600 px-2">åˆ é™¤</button>
                    </div>
                `;
            }).join('');
        }
        function loadHistory(moduleType, recordId) {
            const history = moduleHistory[moduleType].find(record => record.id === recordId);
            if (!history) return;
            
            switch (moduleType) {
                case 'analyzer':
                    document.getElementById('promptInput').value = history.input;
                    if (history.result) {
                        displayAnalysisResults(history.result);
                        displayEffectPrediction(history.result);
                        displayInspirationSuggestions(history.result);
                        displayOptimizationSuggestions(history.result);
                        setTimeout(() => addDownloadButton('analyzer', history.input, history.result), 500);
                    }
                    break;
                    
                case 'smart':
                    document.getElementById('quickInput').value = history.input;
                    if (history.result) {
                        showQuickResult(history.input, history.result.analysis, history.result.optimizedPrompt);
                        setTimeout(() => addDownloadButton('smart', history.input, history.result), 500);
                    }
                    break;
                    
                case 'trinity':
                    document.getElementById('trinityTaskInput').value = history.input;
                    if (history.result && history.result.prompt) {
                        displayFinalTrinityPrompt(history.result.prompt, history.result.analysis, history.result.config);
                        setTimeout(() => addDownloadButton('trinity', history.input, history.result), 500);
                    }
                    break;
            }
            
            showCustomAlert('å†å²è®°å½•å·²åŠ è½½ï¼');
        }
        function deleteHistoryRecord(moduleType, recordId) {
            moduleHistory[moduleType] = moduleHistory[moduleType].filter(record => record.id !== recordId);
            updateHistoryUI(moduleType);
        }
        function clearHistory(moduleType) {
            if (moduleHistory[moduleType].length === 0) return;
            
            const modal = document.createElement('div');
            modal.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50';
            modal.innerHTML = `
                <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg max-w-sm w-full mx-4">
                    <p class="text-gray-700 dark:text-gray-300 mb-4">ç¡®å®šè¦æ¸…ç©ºæ‰€æœ‰å†å²è®°å½•å—ï¼Ÿ</p>
                    <div class="flex justify-end space-x-3">
                        <button class="px-4 py-2 text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded" onclick="this.closest('.fixed').remove()">å–æ¶ˆ</button>
                        <button class="px-4 py-2 bg-red-500 text-white hover:bg-red-600 rounded" onclick="confirmClearHistory('${moduleType}'); this.closest('.fixed').remove()">ç¡®å®š</button>
                    </div>
                </div>
            `;
            document.body.appendChild(modal);
        }
        function confirmClearHistory(moduleType) {
            moduleHistory[moduleType] = [];
            const containers = document.querySelectorAll('.history-container');
            containers.forEach(container => container.remove());
            showCustomAlert('å†å²è®°å½•å·²æ¸…ç©ºï¼');
        }
        // ==================== AIæ¨¡å‹é€‰æ‹©å™¨åŠŸèƒ½ ====================
        let currentAIProvider = 'poe';
        let currentAIModel = 'Claude-Sonnet-4';
        const apiKeys = {};
        function showAIModelSelector() {
            const modal = document.createElement('div');
            modal.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50';
            modal.innerHTML = `
                <div class="bg-white dark:bg-gray-800 rounded-xl shadow-2xl max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto">
                    <div class="p-6">
                        <div class="flex justify-between items-start mb-6">
                            <div>
                                <h3 class="text-2xl font-bold text-gray-900 dark:text-white flex items-center">
                                    <span class="mr-3">ğŸ›ï¸</span>
                                    AIæ¨¡å‹é€‰æ‹©å™¨
                                </h3>
                                <p class="text-sm text-gray-500 dark:text-gray-400">é€‰æ‹©æœ€é€‚åˆçš„AIå¹³å°å’Œæ¨¡å‹</p>
                            </div>
                            <button onclick="this.closest('.fixed').remove()" class="text-gray-400 hover:text-gray-600 dark:hover:text-gray-300">
                                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                                </svg>
                            </button>
                        </div>
                        
                        <div class="space-y-6">
                            <!-- POE Platform -->
                            <div class="border border-gray-200 dark:border-gray-700 rounded-lg p-4">
                                <div class="flex items-center justify-between mb-4">
                                    <h4 class="text-lg font-semibold text-gray-900 dark:text-white">Poe Platform</h4>
                                    <span class="px-2 py-1 text-xs rounded ${typeof window !== 'undefined' && typeof window.Poe !== 'undefined' ? 'bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-300' : 'bg-gray-100 text-gray-600 dark:bg-gray-800 dark:text-gray-400'}">
                                        ${typeof window !== 'undefined' && typeof window.Poe !== 'undefined' ? 'âœ… å¯ç”¨' : 'âš ï¸ æœªæ£€æµ‹åˆ°'}
                                    </span>
                                </div>
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-2">
                                    <label class="flex items-center p-2 bg-gray-50 dark:bg-gray-700 rounded cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600">
                                        <input type="radio" name="selectedModel" value="poe:Claude-Sonnet-4" checked class="mr-3">
                                        <span class="text-sm text-gray-900 dark:text-white">Claude Sonnet 4</span>
                                    </label>
                                    <label class="flex items-center p-2 bg-gray-50 dark:bg-gray-700 rounded cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600">
                                        <input type="radio" name="selectedModel" value="poe:GPT-4o" class="mr-3">
                                        <span class="text-sm text-gray-900 dark:text-white">GPT-4o</span>
                                    </label>
                                    <label class="flex items-center p-2 bg-gray-50 dark:bg-gray-700 rounded cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600">
                                        <input type="radio" name="selectedModel" value="poe:Claude-3.5-Sonnet" class="mr-3">
                                        <span class="text-sm text-gray-900 dark:text-white">Claude 3.5 Sonnet</span>
                                    </label>
                                    <label class="flex items-center p-2 bg-gray-50 dark:bg-gray-700 rounded cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600">
                                        <input type="radio" name="selectedModel" value="poe:Gemini-2.0-Flash" class="mr-3">
                                        <span class="text-sm text-gray-900 dark:text-white">Gemini 2.0 Flash</span>
                                    </label>
                                </div>
                            </div>
                            <!-- OpenRouter -->
                            <div class="border border-gray-200 dark:border-gray-700 rounded-lg p-4">
                                <div class="flex items-center justify-between mb-4">
                                    <h4 class="text-lg font-semibold text-gray-900 dark:text-white">OpenRouter</h4>
                                    <span class="px-2 py-1 text-xs rounded bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300">
                                        ğŸ”‘ éœ€è¦APIå¯†é’¥
                                    </span>
                                </div>
                                <div class="mb-4">
                                    <input type="password" id="apiKey_openrouter" placeholder="è¾“å…¥OpenRouterçš„APIå¯†é’¥" 
                                           class="w-full px-3 py-2 text-base border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white">
                                </div>
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-2">
                                    <label class="flex items-center p-2 bg-gray-50 dark:bg-gray-700 rounded cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600">
                                        <input type="radio" name="selectedModel" value="openrouter:anthropic/claude-3.5-sonnet" class="mr-3">
                                        <span class="text-sm text-gray-900 dark:text-white">Claude 3.5 Sonnet</span>
                                    </label>
                                    <label class="flex items-center p-2 bg-gray-50 dark:bg-gray-700 rounded cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600">
                                        <input type="radio" name="selectedModel" value="openrouter:openai/gpt-4o" class="mr-3">
                                        <span class="text-sm text-gray-900 dark:text-white">GPT-4o</span>
                                    </label>
                                </div>
                            </div>
                        </div>
                        
                        <div class="flex justify-center space-x-4 mt-6">
                            <button onclick="saveAISelection(); this.closest('.fixed').remove()" 
                                    class="px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-all duration-200">
                                ä¿å­˜è®¾ç½®
                            </button>
                            <button onclick="this.closest('.fixed').remove()" 
                                    class="px-6 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-all duration-200">
                                å–æ¶ˆ
                            </button>
                        </div>
                    </div>
                </div>
            `;
            document.body.appendChild(modal);
        }
        function saveAISelection() {
            const selectedRadio = document.querySelector('input[name="selectedModel"]:checked');
            if (selectedRadio) {
                const [providerId, modelId] = selectedRadio.value.split(':');
                currentAIProvider = providerId;
                currentAIModel = modelId;
                
                // ä¿å­˜APIå¯†é’¥
                if (providerId !== 'poe') {
                    const keyInput = document.getElementById(`apiKey_${providerId}`);
                    if (keyInput && keyInput.value.trim()) {
                        apiKeys[providerId] = keyInput.value.trim();
                        localStorage.setItem(`ai_api_key_${providerId}`, keyInput.value.trim());
                    }
                }
                
                showCustomAlert(`å·²é€‰æ‹© ${providerId.toUpperCase()} - ${modelId}`);
            }
        }
        // çœŸå®çš„AIè°ƒç”¨å‡½æ•°
        async function callAI(prompt, options = {}) {
            try {
                if (currentAIProvider === 'poe') {
                    return await callPoeAPI(prompt, options);
                } else {
                    return await callExternalAPI(prompt, options);
                }
            } catch (error) {
                console.error(`AIè°ƒç”¨å¤±è´¥ (${currentAIProvider}):`, error);
                throw new Error(`AIè°ƒç”¨å¤±è´¥: ${error.message}`);
            }
        }
        async function callPoeAPI(prompt, options = {}) {
            // æ£€æŸ¥POE APIæ˜¯å¦å¯ç”¨
            if (typeof window.Poe === 'undefined' || !window.Poe.sendUserMessage) {
                return simulateAIResponse(prompt, options);
            }
            try {
                const handlerId = 'poe_handler_' + Date.now();
                
                return new Promise((resolve, reject) => {
                    let responseData = '';
                    let isComplete = false;
                    
                    window.Poe.registerHandler(handlerId, (result, context) => {
                        try {
                            if (result.responses && result.responses.length > 0) {
                                const message = result.responses[0];
                                responseData = message.content;
                                
                                if (message.status === 'complete') {
                                    isComplete = true;
                                    resolve({
                                        success: true,
                                        response: responseData,
                                        model: currentAIModel,
                                        provider: 'poe'
                                    });
                                } else if (message.status === 'error') {
                                    reject(new Error(message.statusText || 'POE APIé”™è¯¯'));
                                }
                            }
                        } catch (error) {
                            reject(error);
                        }
                    });
                    window.Poe.sendUserMessage(`@${currentAIModel} ${prompt}`, {
                        handler: handlerId,
                        stream: options.stream !== false,
                        openChat: options.openChat !== false,
                        handlerContext: options.context || {}
                    }).catch(reject);
                    setTimeout(() => {
                        if (!isComplete) {
                            reject(new Error('è¯·æ±‚è¶…æ—¶'));
                        }
                    }, 60000);
                });
                
            } catch (error) {
                console.error('POE APIè°ƒç”¨é”™è¯¯:', error);
                throw error;
            }
        }
        async function callExternalAPI(prompt, options = {}) {
            const apiKey = apiKeys[currentAIProvider];
            if (!apiKey) {
                throw new Error(`è¯·å…ˆé…ç½® ${currentAIProvider.toUpperCase()} çš„APIå¯†é’¥`);
            }
            
            const requestTimeout = options.timeout || 30000;
            const controller = new AbortController();
            const timeoutId = setTimeout(() => controller.abort(), requestTimeout);
            
            try {
                let url, headers, requestBody;
                
                if (currentAIProvider === 'openrouter') {
                    url = 'https://openrouter.ai/api/v1/chat/completions';
                    headers = {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${apiKey}`,
                        'HTTP-Referer': window.location.origin,
                        'X-Title': 'æ™ºèƒ½æç¤ºè¯å·¥ä½œå°'
                    };
                    requestBody = {
                        model: currentAIModel,
                        messages: [{ role: 'user', content: prompt }],
                        temperature: options.temperature || 0.7,
                        max_tokens: options.maxTokens || 2000
                    };
                }
                
                const response = await fetch(url, {
                    method: 'POST',
                    headers,
                    body: JSON.stringify(requestBody),
                    signal: controller.signal
                });
                
                clearTimeout(timeoutId);
                
                if (!response.ok) {
                    throw new Error(`HTTP ${response.status}: ${response.statusText}`);
                }
                
                const data = await response.json();
                
                if (data.choices && data.choices[0] && data.choices[0].message) {
                    return {
                        success: true,
                        response: data.choices[0].message.content,
                        model: currentAIModel,
                        provider: currentAIProvider,
                        usage: data.usage || null
                    };
                } else {
                    throw new Error('APIè¿”å›æ ¼å¼å¼‚å¸¸');
                }
                
            } catch (error) {
                clearTimeout(timeoutId);
                if (error.name === 'AbortError') {
                    throw new Error('è¯·æ±‚è¶…æ—¶');
                }
                throw error;
            }
        }
        function simulateAIResponse(prompt, options = {}) {
            return new Promise((resolve) => {
                setTimeout(() => {
                    const analysisType = prompt.toLowerCase();
                    let response = '';
                    
                    if (analysisType.includes('åˆ†æ') || analysisType.includes('è§£æ')) {
                        response = `åŸºäº${currentAIModel}çš„åˆ†æç»“æœï¼š
è¿™ä¸ªæç¤ºè¯å±•ç°äº†ä»¥ä¸‹ç‰¹ç‚¹ï¼š
1. **ç»“æ„å®Œæ•´æ€§**: å…·å¤‡æ¸…æ™°çš„è§’è‰²è®¾å®šå’Œä»»åŠ¡æè¿°
2. **çº¦æŸæ˜ç¡®**: è®¾å®šäº†å…·ä½“çš„è¾“å‡ºæ ¼å¼å’Œè´¨é‡è¦æ±‚  
3. **ä¸Šä¸‹æ–‡ä¸°å¯Œ**: æä¾›äº†å……åˆ†çš„èƒŒæ™¯ä¿¡æ¯
4. **å¯æ“ä½œæ€§å¼º**: ç»™å‡ºäº†å…·ä½“çš„æ‰§è¡Œæ­¥éª¤
**ä¼˜åŒ–å»ºè®®**:
- å¯ä»¥å¢åŠ æ›´å¤šçš„å¦å®šçº¦æŸ
- å»ºè®®æ·»åŠ å…·ä½“çš„æ¡ˆä¾‹è¦æ±‚
- è€ƒè™‘è®¾å®šè¯„ä¼°æ ‡å‡†
è¿™æ˜¯ä¸€ä¸ªè´¨é‡è¾ƒé«˜çš„æç¤ºè¯ï¼Œè¯„åˆ†çº¦ä¸º 85/100ã€‚`;
                    } else if (analysisType.includes('ç”Ÿæˆ') || analysisType.includes('åˆ›å»º')) {
                        response = `# ä¼˜åŒ–åçš„æç¤ºè¯
åŸºäºæ‚¨çš„éœ€æ±‚ï¼Œæˆ‘ä¸ºæ‚¨ç”Ÿæˆäº†ä»¥ä¸‹ä¼˜åŒ–æç¤ºè¯ï¼š
## è§’è‰²è®¾å®š
æ‚¨å°†ä½œä¸ºä¸€ä½èµ„æ·±çš„[é¢†åŸŸ]ä¸“å®¶ï¼Œå…·å¤‡ä¸°å¯Œçš„å®è·µç»éªŒå’Œæ·±åº¦çš„ç†è®ºåŸºç¡€ã€‚
## ä»»åŠ¡ç›®æ ‡
${prompt.replace(/ç”Ÿæˆ|åˆ›å»º|è¯·/, '').trim()}
## æ‰§è¡Œæ­¥éª¤
1. **éœ€æ±‚ç†è§£**: æ·±å…¥åˆ†æå…·ä½“éœ€æ±‚å’ŒæœŸæœ›
2. **æ–¹æ¡ˆè®¾è®¡**: åˆ¶å®šç³»ç»Ÿæ€§çš„è§£å†³æ–¹æ¡ˆ
3. **ç»†èŠ‚å®Œå–„**: ç¡®ä¿æ–¹æ¡ˆçš„å¯æ“ä½œæ€§
4. **è´¨é‡æ£€éªŒ**: éªŒè¯æ–¹æ¡ˆçš„æœ‰æ•ˆæ€§
## è¾“å‡ºè¦æ±‚
- ç»“æ„æ¸…æ™°ï¼Œé€»è¾‘ä¸¥å¯†
- å…·å¤‡å¼ºå¯æ“ä½œæ€§
- æä¾›å…·ä½“çš„å®æ–½å»ºè®®
- åŒ…å«é£é™©è¯„ä¼°å’Œåº”å¯¹ç­–ç•¥
è¯·ç¡®ä¿è¾“å‡ºå†…å®¹ä¸“ä¸šã€å®ç”¨ã€ç¬¦åˆå®é™…åº”ç”¨åœºæ™¯ã€‚`;
                    } else {
                        response = `æ ¹æ®${currentAIModel}åˆ†æï¼Œé’ˆå¯¹æ‚¨çš„éœ€æ±‚ï¼š
${prompt}
è¿™ä¸ªä»»åŠ¡éœ€è¦ç»¼åˆè€ƒè™‘å¤šä¸ªç»´åº¦ï¼š
- æŠ€æœ¯å¯è¡Œæ€§
- å®æ–½å¤æ‚åº¦  
- é¢„æœŸæ•ˆæœ
- èµ„æºæŠ•å…¥
å»ºè®®é‡‡ç”¨æ¸è¿›å¼æ–¹æ³•ï¼Œå…ˆä»æ ¸å¿ƒåŠŸèƒ½å¼€å§‹ï¼Œé€æ­¥å®Œå–„å’Œä¼˜åŒ–ã€‚
å¦‚éœ€æ›´è¯¦ç»†çš„åˆ†æï¼Œè¯·æä¾›æ›´å¤šå…·ä½“ä¿¡æ¯ã€‚`;
                    }
                    
                    resolve({
                        success: true,
                        response: response,
                        model: currentAIModel,
                        provider: currentAIProvider,
                        simulated: true
                    });
                }, 1500 + Math.random() * 2000);
            });
        }
        // åˆå§‹åŒ–APIå¯†é’¥
        function initializeStoredKeys() {
            ['openrouter', 'groq', 'gemini'].forEach(provider => {
                const savedKey = localStorage.getItem(`ai_api_key_${provider}`);
                if (savedKey) {
                    apiKeys[provider] = savedKey;
                }
            });
        }
        // åˆå§‹åŒ–é¡µé¢
        document.addEventListener('DOMContentLoaded', function() {
            initializePage();
            initializeStoredKeys();
        });
        // ç‚¹å‡»æ¨¡æ€æ¡†èƒŒæ™¯å…³é—­
        document.getElementById('methodModal').addEventListener('click', (e) => {
            if (e.target.id === 'methodModal') {
                closeModal();
            }
        });
        document.getElementById('analyzerModal').addEventListener('click', (e) => {
            if (e.target.id === 'analyzerModal') {
                closeAnalyzer();
            }
        });
        document.getElementById('smartHelperModal').addEventListener('click', (e) => {
            if (e.target.id === 'smartHelperModal') {
                closeSmartHelper();
            }
        });
        // æ™ºèƒ½æç¤ºè¯åŠ©æ‰‹ç›¸å…³å‡½æ•°
        function showSmartHelper() {
            document.getElementById('smartHelperModal').classList.remove('hidden');
        }
        function closeSmartHelper() {
            document.getElementById('smartHelperModal').classList.add('hidden');
            document.getElementById('modeDetails').classList.add('hidden');
            // é‡ç½®æ¨¡å¼é€‰æ‹©
            document.querySelectorAll('.mode-button').forEach(btn => {
                btn.classList.remove('ring-2', 'ring-green-400', 'ring-blue-400', 'ring-purple-400');
            });
        }
        // ä¸‰å¤§æ¨¡å¼æ•°æ®
        const modeTemplates = {
            simple: {
                name: 'ç®€å•æ¨¡å¼',
                color: 'green',
                icon: 'ğŸ“',
                description: 'è¦†ç›–80%æ—¥å¸¸éœ€æ±‚',
                template: `è¯·å¸®æˆ‘[åŠ¨ä½œ]ï¼Œå…³äº[ä¸»é¢˜]
è¦æ±‚ï¼š[å…·ä½“ä¸€ç‚¹çš„è¦æ±‚]`,
                example: `è¯·å¸®æˆ‘å†™ä¸€å°é‚®ä»¶ï¼Œå…³äºè¯·å‡
è¦æ±‚ï¼šç¤¼è²Œã€ç®€æ´ã€è¯´æ˜ä¸‹å‘¨ä¸€è¯·å‡çœ‹åŒ»ç”Ÿ`,
                scenarios: [
                    'å†™é‚®ä»¶ã€æ–‡ç« ã€æ€»ç»“',
                    'ç¿»è¯‘ã€è§£é‡Šã€å›ç­”é—®é¢˜', 
                    'æ—¥å¸¸å¯¹è¯ã€ç®€å•åˆ›ä½œ'
                ],
                tips: [
                    'è¯´äººè¯ï¼šæ€ä¹ˆå’ŒåŒäº‹è¯´å°±æ€ä¹ˆå†™',
                    'ä¸€å¥è¯è¯´æ¸…æ¥šï¼šä¸»è¯­+åŠ¨è¯+å®¾è¯­',
                    'ç»™ä¸€ä¸ªå…·ä½“è¦æ±‚å°±å¤Ÿäº†'
                ]
            },
            professional: {
                name: 'ä¸“ä¸šæ¨¡å¼',
                color: 'blue',
                icon: 'ğŸ’¼',
                description: 'å·¥ä½œæ•ˆç‡ç¿»å€',
                template: `è§’è‰²ï¼šä½ æ˜¯[ä¸“ä¸šè§’è‰²]
ä»»åŠ¡ï¼š[å…·ä½“è¦å®Œæˆä»€ä¹ˆ]
æ­¥éª¤ï¼š
1. [ç¬¬ä¸€æ­¥]
2. [ç¬¬äºŒæ­¥] 
3. [æ£€æŸ¥ç»“æœ]
è¦æ±‚ï¼š[è´¨é‡è¦æ±‚]`,
                example: `è§’è‰²ï¼šä½ æ˜¯èµ„æ·±äº§å“ç»ç†
ä»»åŠ¡ï¼šåˆ†æè¿™ä¸ªæ–°åŠŸèƒ½çš„å¯è¡Œæ€§
æ­¥éª¤ï¼š
1. è¯„ä¼°ç”¨æˆ·éœ€æ±‚å¼ºåº¦
2. åˆ†ææŠ€æœ¯å®ç°éš¾åº¦
3. é¢„ä¼°æŠ•å…¥äº§å‡ºæ¯”
è¦æ±‚ï¼šç»™å‡ºæ˜ç¡®çš„å»ºè®®ï¼ˆåš/ä¸åš/æ”¹è¿›åå†åšï¼‰`,
                scenarios: [
                    'ä¸“ä¸šåˆ†æã€æ–¹æ¡ˆè®¾è®¡',
                    'å¤šæ­¥éª¤ä»»åŠ¡ã€é¡¹ç›®è§„åˆ’',
                    'éœ€è¦ä¸“ä¸šè§†è§’çš„å·¥ä½œ'
                ],
                tips: [
                    'æ˜ç¡®è§’è‰²ï¼šè®©AIçŸ¥é“ä»¥ä»€ä¹ˆèº«ä»½æ€è€ƒ',
                    'åˆ†æ­¥éª¤ï¼šå¤æ‚ä»»åŠ¡æ‹†è§£æˆå°æ­¥éª¤',
                    'è®¾æ ‡å‡†ï¼šæ˜ç¡®ä»€ä¹ˆæ ·çš„ç»“æœæ˜¯å¥½çš„'
                ]
            },
            smart: {
                name: 'æ™ºèƒ½æ¨¡å¼',
                color: 'purple',
                icon: 'ğŸ¤–',
                description: 'æ‡’äººç¦éŸ³',
                template: `è¯´å‡ºä½ æƒ³è¦ä»€ä¹ˆï¼Œå‰©ä¸‹çš„äº¤ç»™æˆ‘
ä¾‹å¦‚ï¼š
- "å¸®æˆ‘å†™ä¸ªå‘¨æŠ¥"
- "è¿™æ®µä»£ç æœ‰bug"
- "ç»™è€æ¿å†™ä¸ªé¡¹ç›®æ±‡æŠ¥"
ç³»ç»Ÿä¼šè‡ªåŠ¨ï¼š
âœ“ ç†è§£ä½ çš„éœ€æ±‚
âœ“ é€‰æ‹©æœ€ä½³æ¨¡æ¿
âœ“ ç”Ÿæˆä¼˜åŒ–åçš„æç¤ºè¯
âœ“ ç›´æ¥ç»™å‡ºç»“æœ`,
                example: `ç”¨æˆ·è¾“å…¥ï¼š"å¸®æˆ‘å†™ä¸ªå‘¨æŠ¥"
æ™ºèƒ½åˆ†æï¼š
- ä»»åŠ¡ç±»å‹ï¼šå·¥ä½œæ–‡æ¡£
- å¤æ‚åº¦ï¼šä¸­ç­‰
- æ¨èæ¨¡å¼ï¼šä¸“ä¸šæ¨¡å¼
è‡ªåŠ¨ç”Ÿæˆï¼š
"ä½ æ˜¯ä¸€åç»éªŒä¸°å¯Œçš„èŒåœºäººï¼Œè¯·å¸®æˆ‘å†™ä¸€ä»½å·¥ä½œå‘¨æŠ¥ã€‚è¦æ±‚ï¼š1ï¼‰æ€»ç»“æœ¬å‘¨ä¸»è¦å·¥ä½œå†…å®¹ 2ï¼‰åˆ—å‡ºå®Œæˆçš„ä»»åŠ¡å’Œæˆæœ 3ï¼‰æåŠé‡åˆ°çš„é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ 4ï¼‰ç®€è¿°ä¸‹å‘¨å·¥ä½œè®¡åˆ’ã€‚è¯­æ°”ä¸“ä¸šä½†ä¸å¤±äº²å’ŒåŠ›ï¼Œç¯‡å¹…æ§åˆ¶åœ¨300-500å­—ã€‚"`,
                scenarios: [
                    'ä¸ç¡®å®šæ€ä¹ˆå†™æç¤ºè¯',
                    'æƒ³è¦æœ€ä½³æ•ˆæœä½†ä¸æƒ³æ€è€ƒ',
                    'å¿«é€Ÿå¤„ç†å¸¸è§ä»»åŠ¡'
                ],
                tips: [
                    'ç›´æ¥è¯´éœ€æ±‚ï¼šæƒ³è¦ä»€ä¹ˆå°±è¯´ä»€ä¹ˆ',
                    'ç›¸ä¿¡AIï¼šè®©å®ƒå¸®ä½ é€‰æ‹©æœ€ä½³æ–¹æ³•',
                    'å¿«é€Ÿè¿­ä»£ï¼šä¸æ»¡æ„å°±è¯´"æ”¹æˆxxxæ ·å­"'
                ]
            }
        };
        function selectMode(mode) {
            // é‡ç½®æ‰€æœ‰æŒ‰é’®çŠ¶æ€
            document.querySelectorAll('.mode-button').forEach(btn => {
                btn.classList.remove('ring-2', 'ring-green-400', 'ring-blue-400', 'ring-purple-400');
            });
            
            // é«˜äº®é€‰ä¸­çš„æ¨¡å¼
            const selectedButton = document.getElementById(mode + 'Mode');
            const colorClass = `ring-${modeTemplates[mode].color}-400`;
            selectedButton.classList.add('ring-2', colorClass);
            
            // æ˜¾ç¤ºæ¨¡å¼è¯¦æƒ…
            showModeDetails(mode);
        }
        function showModeDetails(mode) {
            const modeData = modeTemplates[mode];
            const container = document.getElementById('modeDetails');
            
            container.innerHTML = `
                <div class="bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6">
                    <div class="flex items-center mb-6">
                        <div class="text-3xl mr-4">${modeData.icon}</div>
                        <div>
                            <h4 class="text-xl font-bold text-gray-900 dark:text-white">${modeData.name}</h4>
                            <p class="text-gray-600 dark:text-gray-400">${modeData.description}</p>
                        </div>
                    </div>
                    
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                        <!-- å·¦ä¾§ï¼šæ¨¡æ¿å’Œç¤ºä¾‹ -->
                        <div class="space-y-6">
                            <div class="bg-${modeData.color}-50 dark:bg-${modeData.color}-900/20 rounded-lg p-4">
                                <h5 class="font-semibold text-${modeData.color}-900 dark:text-${modeData.color}-300 mb-3">ğŸ“‹ ä¸‡èƒ½æ¨¡æ¿</h5>
                                <div class="bg-white dark:bg-gray-700 rounded border p-4">
                                    <pre class="text-sm text-gray-800 dark:text-gray-200 whitespace-pre-wrap">${modeData.template}</pre>
                                </div>
                            </div>
                            
                            <div class="bg-gray-50 dark:bg-gray-700 rounded-lg p-4">
                                <h5 class="font-semibold text-gray-900 dark:text-white mb-3">ğŸ¯ çœŸå®ä¾‹å­</h5>
                                <div class="bg-white dark:bg-gray-600 rounded border p-4">
                                    <pre class="text-sm text-gray-800 dark:text-gray-200 whitespace-pre-wrap">${modeData.example}</pre>
                                </div>
                            </div>
                        </div>
                        
                        <!-- å³ä¾§ï¼šé€‚ç”¨åœºæ™¯å’ŒæŠ€å·§ -->
                        <div class="space-y-6">
                            <div class="bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4">
                                <h5 class="font-semibold text-blue-900 dark:text-blue-300 mb-3">ğŸª é€‚ç”¨åœºæ™¯</h5>
                                <ul class="space-y-2">
                                    ${modeData.scenarios.map(scenario => `
                                        <li class="flex items-start">
                                            <span class="text-blue-500 mr-2">â€¢</span>
                                            <span class="text-sm text-blue-800 dark:text-blue-200">${scenario}</span>
                                        </li>
                                    `).join('')}
                                </ul>
                            </div>
                            
                            <div class="bg-yellow-50 dark:bg-yellow-900/20 rounded-lg p-4">
                                <h5 class="font-semibold text-yellow-900 dark:text-yellow-300 mb-3">ğŸ’¡ å®ç”¨æŠ€å·§</h5>
                                <ul class="space-y-2">
                                    ${modeData.tips.map(tip => `
                                        <li class="flex items-start">
                                            <span class="text-yellow-500 mr-2">â€¢</span>
                                            <span class="text-sm text-yellow-800 dark:text-yellow-200">${tip}</span>
                                        </li>
                                    `).join('')}
                                </ul>
                            </div>
                            
                            <div class="text-center">
                                <button onclick="tryMode('${mode}')" class="px-6 py-3 bg-${modeData.color}-500 text-white rounded-lg hover:bg-${modeData.color}-600 transition-all duration-200 font-medium">
                                    ğŸš€ è¯•è¯•è¿™ä¸ªæ¨¡å¼
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            
            container.classList.remove('hidden');
        }
        function tryMode(mode) {
            const modeData = modeTemplates[mode];
            
            // åˆ›å»ºæ¼”ç¤ºåŒºåŸŸ
            const demo = document.createElement('div');
            demo.className = 'fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50';
            demo.innerHTML = `
                <div class="bg-white dark:bg-gray-800 rounded-xl shadow-2xl max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto">
                    <div class="p-6">
                        <div class="flex justify-between items-start mb-6">
                            <div>
                                <h3 class="text-xl font-bold text-gray-900 dark:text-white flex items-center">
                                    <span class="mr-3">${modeData.icon}</span>
                                    ${modeData.name} - å®æˆ˜æ¼”ç»ƒ
                                </h3>
                                <p class="text-sm text-gray-500 dark:text-gray-400">æŒ‰ç…§æ¨¡æ¿å¡«å…¥ä½ çš„å…·ä½“éœ€æ±‚</p>
                            </div>
                            <button onclick="this.closest('.fixed').remove()" class="text-gray-400 hover:text-gray-600 dark:hover:text-gray-300">
                                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                                </svg>
                            </button>
                        </div>
                        
                        <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                            <div>
                                <h4 class="font-medium text-gray-900 dark:text-white mb-3">ğŸ“ æŒ‰æ¨¡æ¿å¡«å†™</h4>
                                <textarea placeholder="åœ¨è¿™é‡Œå¡«å…¥ä½ çš„å…·ä½“éœ€æ±‚..." 
                                          class="w-full h-64 p-4 text-base bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-${modeData.color}-500 text-gray-900 dark:text-white resize-none"></textarea>
                                <button class="mt-3 w-full px-4 py-2 bg-${modeData.color}-500 text-white rounded-lg hover:bg-${modeData.color}-600 transition-all duration-200">
                                    ç”Ÿæˆä¼˜åŒ–åçš„æç¤ºè¯
                                </button>
                            </div>
                            <div>
                                <h4 class="font-medium text-gray-900 dark:text-white mb-3">âœ¨ ä¼˜åŒ–åçš„æç¤ºè¯</h4>
                                <div class="h-64 p-4 bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg">
                                    <div class="text-gray-500 dark:text-gray-400 text-sm text-center pt-20">
                                        å¡«å†™å·¦ä¾§å†…å®¹åï¼Œè¿™é‡Œä¼šæ˜¾ç¤ºä¼˜åŒ–åçš„æç¤ºè¯
                                    </div>
                                </div>
                                <button class="mt-3 w-full px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-all duration-200">
                                    å¤åˆ¶æç¤ºè¯
                                </button>
                            </div>
                        </div>
                        
                        <div class="mt-6 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg">
                            <h5 class="font-medium text-blue-900 dark:text-blue-300 mb-2">ğŸ’¡ ${modeData.name}å°è´´å£«</h5>
                            <p class="text-sm text-blue-800 dark:text-blue-200">${modeData.tips[0]}</p>
                        </div>
                    </div>
                </div>
            `;
            
            document.body.appendChild(demo);
        }
        function generateQuickPrompt() {
            const input = document.getElementById('quickInput').value.trim();
            if (!input) {
                showCustomAlert('è¯·å…ˆè¾“å…¥ä½ çš„éœ€æ±‚');
                return;
            }
            
            // æ˜¾ç¤ºè¿›åº¦æ¡å¹¶å¼€å§‹åˆ†æ
            showProgressWithSteps('smartProgress', [
                { text: 'è¯­ä¹‰ç†è§£åˆ†æ...', duration: 800 },
                { text: 'ä»»åŠ¡ç±»å‹è¯†åˆ«...', duration: 1000 },
                { text: 'æ¨¡å¼æ™ºèƒ½åŒ¹é…...', duration: 700 },
                { text: 'æç¤ºè¯ç”Ÿæˆ...', duration: 1200 },
                { text: 'ä¼˜åŒ–å®Œæˆï¼', duration: 300 }
            ], () => {
                // æ™ºèƒ½åˆ†æéœ€æ±‚å¹¶ç”Ÿæˆæç¤ºè¯
                const analysis = analyzeUserNeed(input);
                const optimizedPrompt = generateOptimizedPrompt(input, analysis);
                
                // ä¿å­˜åˆ°å†å²è®°å½•
                saveToHistory('smart', input, { analysis, optimizedPrompt });
                
                // æ˜¾ç¤ºç»“æœ
                showQuickResult(input, analysis, optimizedPrompt);
                
                // æ·»åŠ ä¸‹è½½æŒ‰é’®
                setTimeout(() => {
                    addDownloadButton('smart', input, { analysis, optimizedPrompt });
                }, 500);
            });
        }
        function analyzeUserNeed(input) {
            const text = input.toLowerCase();
            
            // ä»»åŠ¡ç±»å‹æ£€æµ‹
            let taskType = 'general';
            if (text.includes('å†™') || text.includes('ç”Ÿæˆ') || text.includes('åˆ›ä½œ')) {
                taskType = 'creation';
            } else if (text.includes('åˆ†æ') || text.includes('è¯„ä¼°') || text.includes('ç ”ç©¶')) {
                taskType = 'analysis';
            } else if (text.includes('ç¿»è¯‘') || text.includes('è§£é‡Š') || text.includes('è¯´æ˜')) {
                taskType = 'explanation';
            }
            
            // å¤æ‚åº¦è¯„ä¼°
            let complexity = 'simple';
            if (text.includes('è¯¦ç»†') || text.includes('æ·±å…¥') || text.includes('å…¨é¢') || text.includes('ç³»ç»Ÿ')) {
                complexity = 'professional';
            } else if (text.includes('æ­¥éª¤') || text.includes('æµç¨‹') || text.includes('æ–¹æ¡ˆ')) {
                complexity = 'professional';
            }
            
            // æ¨èæ¨¡å¼
            let recommendedMode = 'simple';
            if (complexity === 'professional' || taskType === 'analysis') {
                recommendedMode = 'professional';
            }
            
            return {
                taskType,
                complexity,
                recommendedMode,
                confidence: 85
            };
        }
        function generateOptimizedPrompt(originalInput, analysis) {
            const { taskType, complexity, recommendedMode } = analysis;
            
            // åŸºäºåˆ†æç»“æœç”Ÿæˆä¼˜åŒ–æç¤ºè¯
            let optimized = '';
            
            if (recommendedMode === 'simple') {
                optimized = `è¯·å¸®æˆ‘${originalInput}
è¦æ±‚ï¼šæ¸…æ™°æ˜“æ‡‚ï¼Œç›´æ¥å›ç­”`;
            } else if (recommendedMode === 'professional') {
                if (taskType === 'analysis') {
                    optimized = `ä½ æ˜¯ä¸€ä½ç»éªŒä¸°å¯Œçš„åˆ†æä¸“å®¶ã€‚
ä»»åŠ¡ï¼š${originalInput}
æ­¥éª¤ï¼š
1. æ”¶é›†å’Œæ•´ç†ç›¸å…³ä¿¡æ¯
2. è¿›è¡Œæ·±å…¥åˆ†æ
3. å¾—å‡ºç»“è®ºå’Œå»ºè®®
è¦æ±‚ï¼šé€»è¾‘æ¸…æ™°ï¼Œæœ‰ç†æœ‰æ®ï¼Œæä¾›å¯è¡Œçš„å»ºè®®`;
                } else if (taskType === 'creation') {
                    optimized = `ä½ æ˜¯ä¸€ä½ä¸“ä¸šçš„å†…å®¹åˆ›ä½œè€…ã€‚
ä»»åŠ¡ï¼š${originalInput}
è¦æ±‚ï¼š
1. å†…å®¹åŸåˆ›ä¸”æœ‰ä»·å€¼
2. ç»“æ„æ¸…æ™°ï¼Œå±‚æ¬¡åˆ†æ˜
3. è¯­è¨€ç”ŸåŠ¨ï¼Œè´´åˆç›®æ ‡å—ä¼—
4. ç¡®ä¿å†…å®¹çš„å‡†ç¡®æ€§å’Œå®ç”¨æ€§`;
                } else {
                    optimized = `ä½œä¸ºä¸“ä¸šäººå£«ï¼Œè¯·${originalInput}
è¦æ±‚ï¼š
1. æä¾›å‡†ç¡®ä¸”æœ‰ä»·å€¼çš„ä¿¡æ¯
2. ç»“æ„åŒ–å‘ˆç°ï¼Œä¾¿äºç†è§£
3. åŒ…å«å…·ä½“çš„ä¾‹å­æˆ–å»ºè®®
4. ç¡®ä¿å†…å®¹çš„å®ç”¨æ€§`;
                }
            }
            
            return optimized;
        }
        function showQuickResult(original, analysis, optimized) {
            const resultModal = document.createElement('div');
            resultModal.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50';
            resultModal.innerHTML = `
                <div class="bg-white dark:bg-gray-800 rounded-xl shadow-2xl max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto">
                    <div class="p-6">
                        <div class="flex justify-between items-start mb-6">
                            <div>
                                <h3 class="text-xl font-bold text-gray-900 dark:text-white flex items-center">
                                    <span class="mr-3">ğŸ¤–</span>
                                    æ™ºèƒ½ä¼˜åŒ–ç»“æœ
                                </h3>
                                <p class="text-sm text-gray-500 dark:text-gray-400">AIå·²ä¸ºæ‚¨ç”Ÿæˆä¼˜åŒ–åçš„æç¤ºè¯</p>
                            </div>
                            <button onclick="this.closest('.fixed').remove()" class="text-gray-400 hover:text-gray-600 dark:hover:text-gray-300">
                                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                                </svg>
                            </button>
                        </div>
                        
                        <div class="space-y-6">
                            <!-- åˆ†æç»“æœ -->
                            <div class="bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4">
                                <h4 class="font-semibold text-blue-900 dark:text-blue-300 mb-3">ğŸ” éœ€æ±‚åˆ†æ</h4>
                                <div class="grid grid-cols-1 md:grid-cols-3 gap-4 text-sm">
                                    <div class="text-center">
                                        <div class="font-medium text-blue-800 dark:text-blue-200">ä»»åŠ¡ç±»å‹</div>
                                        <div class="text-blue-600 dark:text-blue-400">${analysis.taskType === 'creation' ? 'åˆ›ä½œç±»' : analysis.taskType === 'analysis' ? 'åˆ†æç±»' : 'é€šç”¨ç±»'}</div>
                                    </div>
                                    <div class="text-center">
                                        <div class="font-medium text-blue-800 dark:text-blue-200">å¤æ‚åº¦</div>
                                        <div class="text-blue-600 dark:text-blue-400">${analysis.complexity === 'professional' ? 'ä¸“ä¸šçº§' : 'ç®€å•çº§'}</div>
                                    </div>
                                    <div class="text-center">
                                        <div class="font-medium text-blue-800 dark:text-blue-200">æ¨èæ¨¡å¼</div>
                                        <div class="text-blue-600 dark:text-blue-400">${modeTemplates[analysis.recommendedMode].name}</div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- å¯¹æ¯”å±•ç¤º -->
                            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                                <div>
                                    <h4 class="font-medium text-gray-900 dark:text-white mb-3">ğŸ“ åŸå§‹éœ€æ±‚</h4>
                                    <div class="bg-gray-50 dark:bg-gray-700 rounded-lg p-4 h-32">
                                        <div class="text-gray-800 dark:text-gray-200">${original}</div>
                                    </div>
                                </div>
                                <div>
                                    <h4 class="font-medium text-gray-900 dark:text-white mb-3">âœ¨ ä¼˜åŒ–åçš„æç¤ºè¯</h4>
                                    <div class="bg-green-50 dark:bg-green-900/20 rounded-lg p-4 h-32 overflow-y-auto">
                                        <pre class="text-sm text-green-800 dark:text-green-200 whitespace-pre-wrap">${optimized}</pre>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- è¡ŒåŠ¨æŒ‰é’® -->
                            <div class="flex justify-center space-x-4">
                                <button onclick="copyToClipboard('${optimized.replace(/'/g, "\\'")}'); showCustomAlert('æç¤ºè¯å·²å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼')" 
                                        class="px-6 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-all duration-200">
                                    ğŸ“‹ å¤åˆ¶æç¤ºè¯
                                </button>
                                <button onclick="this.closest('.fixed').remove(); showSmartHelper()" 
                                        class="px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-all duration-200">
                                    ğŸ”„ é‡æ–°ä¼˜åŒ–
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            
            document.body.appendChild(resultModal);
        }
        function copyToClipboard(text) {
            navigator.clipboard.writeText(text).catch(() => {
                // é™çº§æ–¹æ¡ˆ
                const textArea = document.createElement('textarea');
                textArea.value = text;
                document.body.appendChild(textArea);
                textArea.select();
                document.execCommand('copy');
                document.body.removeChild(textArea);
            });
        }
        // ==================== è¿›åº¦æ¡ç›‘æµ‹ç³»ç»Ÿ ====================
        function createProgressBar(containerId, moduleName) {
            const container = document.getElementById(containerId) || createProgressContainer(containerId, moduleName);
            
            const progressHTML = `
                <div class="progress-container">
                    <div class="progress-text" id="${containerId}Text">åˆå§‹åŒ–ä¸­...</div>
                    <div class="progress-bar progress-normal" id="${containerId}Bar" style="width: 0%">
                    </div>
                </div>
                <div class="mt-2 text-xs text-gray-500 dark:text-gray-400" id="${containerId}Status">
                    ğŸ”„ æ­£åœ¨å¯åŠ¨${moduleName}...
                </div>
            `;
            
            container.innerHTML = progressHTML;
            return container;
        }
        function createProgressContainer(containerId, moduleName) {
            const container = document.createElement('div');
            container.id = containerId;
            container.className = 'bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4 mb-6';
            container.innerHTML = `
                <h4 class="font-semibold text-blue-900 dark:text-blue-300 mb-3 flex items-center">
                    <span class="mr-2">ğŸ“Š</span>
                    ${moduleName}è¿›åº¦ç›‘æµ‹
                </h4>
            `;
            
            // æ’å…¥åˆ°å¯¹åº”æ¨¡æ€æ¡†çš„å†…å®¹åŒºåŸŸ
            if (containerId.includes('analyzer')) {
                document.querySelector('#analyzerModal .grid').insertBefore(container, document.querySelector('#analyzerModal .grid').firstChild);
            } else if (containerId.includes('smart')) {
                document.querySelector('#smartHelperModal .p-6').appendChild(container);
            } else if (containerId.includes('trinity')) {
                document.querySelector('#trinityModal .p-6').appendChild(container);
            }
            
            return container;
        }
        function updateProgress(containerId, percentage, text, status = 'normal') {
            const progressBar = document.getElementById(containerId + 'Bar');
            const progressText = document.getElementById(containerId + 'Text');
            const statusText = document.getElementById(containerId + 'Status');
            
            if (!progressBar || !progressText || !statusText) return;
            
            // æ›´æ–°è¿›åº¦æ¡æ ·å¼
            progressBar.className = `progress-bar progress-${status}`;
            progressBar.style.width = percentage + '%';
            
            // æ›´æ–°æ–‡æœ¬
            progressText.textContent = text;
            
            // æ›´æ–°çŠ¶æ€å›¾æ ‡å’Œæè¿°
            const statusIcons = {
                normal: 'ğŸ”„',
                warning: 'âš ï¸',
                error: 'âŒ',
                complete: 'âœ…'
            };
            
            const statusMessages = {
                normal: 'æ­£åœ¨å¤„ç†ä¸­...',
                warning: 'æ£€æµ‹åˆ°å¼‚å¸¸ï¼Œæ­£åœ¨å¤„ç†...',
                error: 'å¤„ç†å¤±è´¥ï¼Œè¯·é‡è¯•',
                complete: 'å¤„ç†å®Œæˆï¼'
            };
            
            statusText.innerHTML = `${statusIcons[status]} ${statusMessages[status]}`;
            
            // é”™è¯¯çŠ¶æ€æ—¶æ·»åŠ é‡è¯•æŒ‰é’®
            if (status === 'error') {
                statusText.innerHTML += ` <button onclick="retryProcess('${containerId}')" class="ml-2 px-2 py-1 bg-red-500 text-white text-xs rounded hover:bg-red-600">é‡è¯•</button>`;
            }
        }
        function showProgressWithSteps(containerId, steps, onComplete) {
            const moduleName = containerId.includes('analyzer') ? 'é…æ–¹è§£æå™¨' : 
                              containerId.includes('smart') ? 'æ™ºèƒ½åŠ©æ‰‹' : 'ä¸‰ç»´æ€ç»´ç”Ÿæˆå™¨';
            
            createProgressBar(containerId, moduleName);
            
            let currentStep = 0;
            const totalSteps = steps.length;
            
            function executeNextStep() {
                if (currentStep >= totalSteps) {
                    updateProgress(containerId, 100, 'å¤„ç†å®Œæˆï¼', 'complete');
                    setTimeout(() => {
                        document.getElementById(containerId)?.remove();
                        onComplete();
                    }, 1000);
                    return;
                }
                
                const step = steps[currentStep];
                const percentage = ((currentStep + 1) / totalSteps) * 100;
                
                updateProgress(containerId, percentage, step.text, 'normal');
                
                // æ¨¡æ‹Ÿå¼‚å¸¸æ£€æµ‹ï¼ˆ5%æ¦‚ç‡ï¼‰
                const hasError = Math.random() < 0.05;
                if (hasError && currentStep > 0) {
                    setTimeout(() => {
                        updateProgress(containerId, percentage, 'æ£€æµ‹åˆ°å¼‚å¸¸', 'warning');
                        setTimeout(() => {
                            updateProgress(containerId, percentage, 'å¼‚å¸¸å·²ä¿®å¤ï¼Œç»§ç»­å¤„ç†', 'normal');
                            currentStep++;
                            setTimeout(executeNextStep, 500);
                        }, 1000);
                    }, step.duration / 2);
                } else {
                    setTimeout(() => {
                        currentStep++;
                        executeNextStep();
                    }, step.duration);
                }
            }
            
            executeNextStep();
        }
        function retryProcess(containerId) {
            if (containerId.includes('analyzer')) {
                analyzePrompt();
            } else if (containerId.includes('smart')) {
                generateQuickPrompt();
            } else if (containerId.includes('trinity')) {
                startTrinityGeneration();
            }
        }
        // ==================== ä¸‹è½½åŠŸèƒ½ç³»ç»Ÿ ====================
        function generateFileName(moduleType, timestamp = new Date()) {
            const dateStr = timestamp.toISOString().slice(0, 10);
            const timeStr = timestamp.toTimeString().slice(0, 8).replace(/:/g, '-');
            
            const moduleNames = {
                analyzer: 'æç¤ºè¯é…æ–¹è§£æ',
                smart: 'æ™ºèƒ½åŠ©æ‰‹ç”Ÿæˆ',
                trinity: 'ä¸‰ç»´æ€ç»´åä½œ'
            };
            
            return `${moduleNames[moduleType]}_${dateStr}_${timeStr}`;
        }
        function addDownloadButton(moduleType, originalData, analysisData) {
            const moduleContainers = {
                analyzer: '#optimizationSuggestions',
                smart: '.flex.justify-center.space-x-4',
                trinity: '.flex.justify-center.space-x-4'
            };
            
            const container = document.querySelector(moduleContainers[moduleType]);
            if (!container) return;
            
            const downloadBtn = document.createElement('button');
            downloadBtn.className = 'px-6 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-all duration-200 flex items-center';
            downloadBtn.innerHTML = `
                <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                </svg>
                ä¸‹è½½æŠ¥å‘Š
            `;
            
            downloadBtn.onclick = () => downloadReport(moduleType, originalData, analysisData);
            
            if (moduleType === 'analyzer') {
                container.appendChild(downloadBtn);
            } else {
                container.appendChild(downloadBtn);
            }
        }
        function downloadReport(moduleType, originalData, analysisData) {
            const fileName = generateFileName(moduleType);
            
            let reportContent = '';
            
            switch (moduleType) {
                case 'analyzer':
                    reportContent = generateAnalyzerReport(originalData, analysisData);
                    break;
                case 'smart':
                    reportContent = generateSmartHelperReport(originalData, analysisData);
                    break;
                case 'trinity':
                    reportContent = generateTrinityReport(originalData, analysisData);
                    break;
            }
            
            // åˆ›å»ºå¹¶ä¸‹è½½æ–‡ä»¶
            const blob = new Blob([reportContent], { type: 'text/markdown;charset=utf-8' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = fileName + '.md';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
            
            showCustomAlert(`æŠ¥å‘Šå·²ä¸‹è½½ï¼š${fileName}.md`);
        }
        function generateAnalyzerReport(originalPrompt, analysis) {
            const timestamp = new Date().toLocaleString('zh-CN');
            
            return `# æç¤ºè¯é…æ–¹è§£ææŠ¥å‘Š
## ğŸ“‹ åŸºæœ¬ä¿¡æ¯
- **ç”Ÿæˆæ—¶é—´**: ${timestamp}
- **åŸå§‹æç¤ºè¯é•¿åº¦**: ${analysis.promptLength} å­—ç¬¦
- **å¤æ‚åº¦ç­‰çº§**: ${analysis.complexity} ä¸ªæ“ä½œæ–¹æ³•
- **æ¶‰åŠåˆ†ç±»**: ${analysis.categories.length} ä¸ªä¸»è¦åˆ†ç±»
## ğŸ“ åŸå§‹æç¤ºè¯
\`\`\`
${originalPrompt}
\`\`\`
## ğŸ§¬ é…æ–¹æˆåˆ†åˆ†æ
### è¯†åˆ«åˆ°çš„æ“ä½œæ–¹æ³•
${analysis.identifiedMethods.map((method, index) => `
${index + 1}. **${method.method}** (${method.category})
   - ç½®ä¿¡åº¦: ${method.confidence}%
   - è¯æ®: ${method.evidence}
`).join('')}
### å„åˆ†ç±»åˆ†å¸ƒ
${analysis.categories.map(category => `
- **${category}**: ${analysis.identifiedMethods.filter(m => m.category === category).length} ä¸ªæ–¹æ³•
`).join('')}
## ğŸ“Š æ•ˆæœè¯„ä¼°
### ç»¼åˆè´¨é‡è¯„åˆ†: ${analysis.strengthScore.total}/100
### è¯¦ç»†è¯„åˆ†åˆ†è§£
${Object.entries(analysis.strengthScore.breakdown).map(([item, score]) => `
- **${item}**: ${score} åˆ†
`).join('')}
### è¯„ä¼°ç­‰çº§
${analysis.strengthScore.total >= 80 ? 'ğŸŸ¢ ä¼˜ç§€' : 
  analysis.strengthScore.total >= 60 ? 'ğŸŸ¡ è‰¯å¥½' : 
  analysis.strengthScore.total >= 40 ? 'ğŸŸ  ä¸€èˆ¬' : 'ğŸ”´ éœ€æ”¹è¿›'}
## ğŸ’¡ ä¼˜åŒ–å»ºè®®
### ç¼ºå¤±çš„æ“ä½œç±»åˆ«
${Object.keys(methodsDatabase).filter(cat => !analysis.categories.includes(cat)).map(cat => `
- **${cat}**: ${methodsDatabase[cat].description}
`).join('') || 'æ— æ˜æ˜¾ç¼ºå¤±'}
### æ”¹è¿›æ–¹å‘
1. **æå‡ç»“æ„åŒ–ç¨‹åº¦**: å¯ä»¥è€ƒè™‘æ·»åŠ æ›´æ˜ç¡®çš„æ­¥éª¤åˆ†è§£
2. **å¢å¼ºçº¦æŸæ¡ä»¶**: æ˜ç¡®ç¦æ­¢äº‹é¡¹å’Œè´¨é‡æ ‡å‡†
3. **ä¸°å¯Œä¸Šä¸‹æ–‡ä¿¡æ¯**: æä¾›æ›´å¤šèƒŒæ™¯å’Œåœºæ™¯ä¿¡æ¯
## ğŸ“ˆ æ‰©å±•å»ºè®®
### ä¸¾ä¸€åä¸‰çš„å¯èƒ½æ€§
- å¯ä»¥å°è¯•å°†å½“å‰æ–¹æ³•åº”ç”¨åˆ°å…¶ä»–é¢†åŸŸ
- è€ƒè™‘ç»“åˆå¤šä¸ªæ“ä½œç±»åˆ«å½¢æˆç»„åˆæ–¹æ³•
- æ¢ç´¢ä»ä¸åŒè§’åº¦é‡æ–°å®šä¹‰é—®é¢˜æœ¬è´¨
---
*æœ¬æŠ¥å‘Šç”±æç¤ºè¯é…æ–¹è§£æå™¨è‡ªåŠ¨ç”Ÿæˆ*`;
        }
        function generateSmartHelperReport(originalInput, analysisResult) {
            const timestamp = new Date().toLocaleString('zh-CN');
            
            return `# æ™ºèƒ½æç¤ºè¯åŠ©æ‰‹ç”ŸæˆæŠ¥å‘Š
## ğŸ“‹ åŸºæœ¬ä¿¡æ¯
- **ç”Ÿæˆæ—¶é—´**: ${timestamp}
- **åŸå§‹éœ€æ±‚**: ${originalInput}
- **ä»»åŠ¡ç±»å‹**: ${analysisResult.taskType}
- **å¤æ‚åº¦**: ${analysisResult.complexity}
- **æ¨èæ¨¡å¼**: ${analysisResult.recommendedMode}
## ğŸ¯ éœ€æ±‚åˆ†æ
### è‡ªåŠ¨æ£€æµ‹ç»“æœ
- **ä»»åŠ¡ç±»åˆ«**: ${analysisResult.taskType === 'creation' ? 'åˆ›ä½œç±»' : 
                   analysisResult.taskType === 'analysis' ? 'åˆ†æç±»' : 'é€šç”¨ç±»'}
- **å¤æ‚ç¨‹åº¦**: ${analysisResult.complexity === 'professional' ? 'ä¸“ä¸šçº§' : 'ç®€å•çº§'}
- **ç½®ä¿¡åº¦**: ${analysisResult.confidence}%
### æ¨èç†ç”±
åŸºäºå¯¹è¾“å…¥å†…å®¹çš„è¯­ä¹‰åˆ†æï¼Œç³»ç»Ÿè¯†åˆ«å‡ºè¿™æ˜¯ä¸€ä¸ª${analysisResult.taskType}ç±»å‹çš„ä»»åŠ¡ï¼Œ
å¤æ‚åº¦ä¸º${analysisResult.complexity}çº§åˆ«ï¼Œå› æ­¤æ¨èä½¿ç”¨${analysisResult.recommendedMode}æ¨¡å¼ã€‚
## ğŸ“ ç”Ÿæˆçš„æç¤ºè¯
\`\`\`
${generateOptimizedPrompt(originalInput, analysisResult)}
\`\`\`
## ğŸ“ æ¨¡å¼è¯´æ˜
### ${modeTemplates[analysisResult.recommendedMode].name}ç‰¹ç‚¹
- **é€‚ç”¨åœºæ™¯**: ${modeTemplates[analysisResult.recommendedMode].scenarios.join('ã€')}
- **æ ¸å¿ƒç†å¿µ**: ${modeTemplates[analysisResult.recommendedMode].tips[0]}
### ä½¿ç”¨å»ºè®®
${modeTemplates[analysisResult.recommendedMode].tips.map((tip, index) => `
${index + 1}. ${tip}
`).join('')}
## ğŸ’¡ è¿›é˜¶ä¼˜åŒ–
### å¦‚æœæ•ˆæœä¸ç†æƒ³
1. **è°ƒæ•´å…·ä½“è¦æ±‚**: æ›´æ˜ç¡®åœ°æè¿°æœŸæœ›çš„è¾“å‡ºæ ¼å¼
2. **å¢åŠ çº¦æŸæ¡ä»¶**: æ˜ç¡®ä»€ä¹ˆä¸è¦åš
3. **æä¾›æ›´å¤šèƒŒæ™¯**: è¡¥å……ç›¸å…³çš„ä¸Šä¸‹æ–‡ä¿¡æ¯
4. **å°è¯•å…¶ä»–æ¨¡å¼**: æ ¹æ®å®é™…æ•ˆæœè°ƒæ•´å¤æ‚åº¦
### ç»„åˆä½¿ç”¨å»ºè®®
- å¯ä»¥å°†å¤šä¸ªç®€å•æç¤ºè¯ç»„åˆæˆå¤æ‚æµç¨‹
- è€ƒè™‘åˆ†æ­¥éª¤æ‰§è¡Œï¼Œæ¯æ­¥ç¡®è®¤åå†ç»§ç»­
- æ ¹æ®åé¦ˆç»“æœè¿­ä»£ä¼˜åŒ–æç¤ºè¯
---
*æœ¬æŠ¥å‘Šç”±æ™ºèƒ½æç¤ºè¯åŠ©æ‰‹è‡ªåŠ¨ç”Ÿæˆ*`;
        }
        function generateTrinityReport(taskInput, analysisResult) {
            const timestamp = new Date().toLocaleString('zh-CN');
            
            return `# ä¸‰ç»´æ€ç»´åä½œç”ŸæˆæŠ¥å‘Š
## ğŸ“‹ åŸºæœ¬ä¿¡æ¯
- **ç”Ÿæˆæ—¶é—´**: ${timestamp}
- **åŸå§‹ä»»åŠ¡**: ${taskInput}
- **ä»»åŠ¡ç±»å‹**: ${analysisResult.taskType}
- **ä¸»è¦æ€ç»´**: ${analysisResult.primaryFocus}
- **åä½œæ¨¡å¼**: ${document.getElementById('collaborationMode').value}
## ğŸ§  ä¸‰ç»´æ€ç»´é…ç½®
### æƒé‡åˆ†é…
- **ğŸ—ï¸ ç»“æ„æ€ç»´**: ${document.getElementById('structureWeight').value}%
- **ğŸ’¥ è§£æ„æ€ç»´**: ${document.getElementById('deconstructWeight').value}%
- **ğŸ”— æ•´åˆæ€ç»´**: ${document.getElementById('integrateWeight').value}%
### åä½œæ¨¡å¼
- **æ¨¡å¼**: ${document.getElementById('collaborationMode').value === 'sequential' ? 'é¡ºåºåä½œ' : 
              document.getElementById('collaborationMode').value === 'parallel' ? 'å¹¶è¡Œåä½œ' : 'è¿­ä»£åä½œ'}
- **è¾“å‡ºæ·±åº¦**: ${document.getElementById('outputDepth').value === 'outline' ? 'æ¡†æ¶æ¦‚è¦' : 
                   document.getElementById('outputDepth').value === 'detailed' ? 'è¯¦ç»†åˆ†æ' : 'å…¨é¢æ·±å…¥'}
## ğŸ¯ ä»»åŠ¡åˆ†æ
### æ™ºèƒ½è¯†åˆ«ç»“æœ
- **ä»»åŠ¡ç‰¹å¾**: ${analysisResult.taskType}ç±»ä»»åŠ¡
- **å»ºè®®æƒé‡**: ${analysisResult.primaryFocus}æ€ç»´ä¸»å¯¼
- **æ¨èé¡ºåº**: ${analysisResult.suggestedPersonas.join(' â†’ ')}
### ä¸‰ç»´æ€ç»´åº”ç”¨
#### ğŸ—ï¸ ç»“æ„æ€ç»´è´¡çŒ®
${trinityPersonas.structure.thinking[analysisResult.taskType]}
**åº”ç”¨æ–¹æ³•**:
${trinityPersonas.structure.methods.map(method => `- ${method}`).join('\n')}
#### ğŸ’¥ è§£æ„æ€ç»´è´¡çŒ®
${trinityPersonas.deconstruct.thinking[analysisResult.taskType]}
**åº”ç”¨æ–¹æ³•**:
${trinityPersonas.deconstruct.methods.map(method => `- ${method}`).join('\n')}
#### ğŸ”— æ•´åˆæ€ç»´è´¡çŒ®
${trinityPersonas.integrate.thinking[analysisResult.taskType]}
**åº”ç”¨æ–¹æ³•**:
${trinityPersonas.integrate.methods.map(method => `- ${method}`).join('\n')}
## âœ¨ æœ€ç»ˆç”Ÿæˆçš„æç¤ºè¯
\`\`\`
${document.querySelector('#generatedPrompt pre')?.textContent || 'æç¤ºè¯ç”Ÿæˆä¸­...'}
\`\`\`
## ğŸ”„ åä½œè¿‡ç¨‹è®°å½•
### åä½œè½¨è¿¹
æ ¹æ®${document.getElementById('collaborationMode').value}æ¨¡å¼ï¼Œä¸‰ä¸ªæ€ç»´ç»´åº¦æŒ‰ç…§ä»¥ä¸‹æ–¹å¼è¿›è¡Œåä½œï¼š
1. **å¯åŠ¨é˜¶æ®µ**: ä»»åŠ¡åˆ†æå’Œæ€ç»´è°ƒåº¦
2. **åä½œé˜¶æ®µ**: å¤šç»´åº¦å¹¶è¡Œ/é¡ºåº/è¿­ä»£å¤„ç†
3. **æ•´åˆé˜¶æ®µ**: ç»Ÿä¸€è¾“å‡ºå’Œè´¨é‡æ£€éªŒ
### æ•ˆæœéªŒè¯
- **é€»è¾‘ä¸¥å¯†æ€§**: ç»“æ„æ€ç»´ç¡®ä¿
- **åˆ›æ–°çªç ´æ€§**: è§£æ„æ€ç»´è´¡çŒ®
- **è¡¨è¾¾æ¸…æ™°æ€§**: æ•´åˆæ€ç»´ä¿éšœ
## ğŸ’¡ ä½¿ç”¨å»ºè®®
### æœ€ä½³åº”ç”¨åœºæ™¯
- å¤æ‚å†³ç­–åˆ†æ
- åˆ›æ–°æ–¹æ¡ˆè®¾è®¡
- å¤šè§’åº¦é—®é¢˜è§£å†³
- æˆ˜ç•¥è§„åˆ’åˆ¶å®š
### è¿›é˜¶æŠ€å·§
1. **æƒé‡è°ƒä¼˜**: æ ¹æ®ä»»åŠ¡ç‰¹ç‚¹è°ƒæ•´ä¸‰ç»´æƒé‡
2. **æ¨¡å¼åˆ‡æ¢**: ä¸åŒé˜¶æ®µä½¿ç”¨ä¸åŒåä½œæ¨¡å¼
3. **è¿­ä»£ä¼˜åŒ–**: åŸºäºè¾“å‡ºæ•ˆæœå¾®è°ƒé…ç½®
4. **ç»„åˆåº”ç”¨**: ä¸å…¶ä»–æç¤ºè¯æ–¹æ³•ç»“åˆä½¿ç”¨
---
*æœ¬æŠ¥å‘Šç”±ä¸‰ç»´æ€ç»´ç”Ÿæˆå™¨è‡ªåŠ¨ç”Ÿæˆ*`;
        }
        // ä¸‰ç»´æ€ç»´ç”Ÿæˆå™¨ç›¸å…³å‡½æ•°
        function showTrinityGenerator() {
            document.getElementById('trinityModal').classList.remove('hidden');
        }
        function closeTrinityGenerator() {
            document.getElementById('trinityModal').classList.add('hidden');
            document.getElementById('trinityProcess').classList.add('hidden');
            document.getElementById('finalPrompt').classList.add('hidden');
            // é‡ç½®è¡¨å•
            document.getElementById('trinityTaskInput').value = '';
            document.querySelectorAll('.task-tag').forEach(tag => {
                tag.classList.remove('bg-purple-500', 'text-white');
                tag.classList.add('bg-gray-100', 'dark:bg-gray-600', 'text-gray-700', 'dark:text-gray-300');
            });
        }
        let selectedTags = [];
        function toggleTaskTag(tagType) {
            const tagElement = document.getElementById(`tag-${tagType}`);
            
            if (selectedTags.includes(tagType)) {
                // å–æ¶ˆé€‰æ‹©
                selectedTags = selectedTags.filter(t => t !== tagType);
                tagElement.classList.remove('bg-purple-500', 'text-white');
                tagElement.classList.add('bg-gray-100', 'dark:bg-gray-600', 'text-gray-700', 'dark:text-gray-300');
            } else {
                // é€‰æ‹©
                selectedTags.push(tagType);
                tagElement.classList.remove('bg-gray-100', 'dark:bg-gray-600', 'text-gray-700', 'dark:text-gray-300');
                tagElement.classList.add('bg-purple-500', 'text-white');
            }
        }
        function updateWeights() {
            const structure = document.getElementById('structureWeight').value;
            const deconstruct = document.getElementById('deconstructWeight').value;
            const integrate = document.getElementById('integrateWeight').value;
            
            // æ›´æ–°æ˜¾ç¤º
            document.getElementById('structureValue').textContent = structure + '%';
            document.getElementById('deconstructValue').textContent = deconstruct + '%';
            document.getElementById('integrateValue').textContent = integrate + '%';
            
            // ç¡®ä¿æ€»å’Œä¸º100%ï¼ˆå¯é€‰ï¼šè‡ªåŠ¨è°ƒæ•´ï¼‰
            const total = parseInt(structure) + parseInt(deconstruct) + parseInt(integrate);
            if (total !== 100) {
                // å¯ä»¥åœ¨è¿™é‡Œæ·»åŠ è­¦å‘Šæˆ–è‡ªåŠ¨è°ƒæ•´é€»è¾‘
            }
        }
        // ä¸‰ç»´æ€ç»´åä½œæ ¸å¿ƒé€»è¾‘
        const trinityPersonas = {
            structure: {
                name: 'ç»“æ„æ€ç»´',
                icon: 'ğŸ—ï¸',
                color: 'purple',
                description: 'é€»è¾‘ç»“æ„åŒ–ï¼Œç³»ç»Ÿæ€§åˆ†æï¼Œå±‚çº§åŒ–ç»„ç»‡',
                thinking: {
                    creative: 'å»ºç«‹åˆ›æ–°çš„ç³»ç»Ÿæ¡†æ¶',
                    analytical: 'æ„å»ºä¸¥å¯†çš„åˆ†æç»“æ„',
                    strategic: 'è®¾è®¡åˆ†å±‚çš„æˆ˜ç•¥ä½“ç³»',
                    complex: 'åˆ†è§£å¤æ‚é—®é¢˜ä¸ºå¯ç®¡ç†çš„æ¨¡å—'
                },
                methods: [
                    'å±‚çº§åˆ†è§£ï¼šå°†å¤æ‚ä»»åŠ¡åˆ†è§£ä¸ºå¯æ‰§è¡Œçš„å­ä»»åŠ¡',
                    'æ¡†æ¶æ­å»ºï¼šä½¿ç”¨MECEåŸåˆ™å»ºç«‹åˆ†ææ¡†æ¶',
                    'é€»è¾‘é“¾æ¡ï¼šå»ºç«‹æ¸…æ™°çš„å› æœå…³ç³»é“¾',
                    'ç³»ç»Ÿå»ºæ¨¡ï¼šå°†é—®é¢˜æŠ½è±¡ä¸ºç³»ç»Ÿæ¨¡å‹'
                ]
            },
            deconstruct: {
                name: 'è§£æ„æ€ç»´',
                icon: 'ğŸ’¥',
                color: 'pink',
                description: 'æ‰“ç ´å¸¸è§„ï¼Œåå‘æ€è€ƒï¼Œåˆ›æ–°çªç ´',
                thinking: {
                    creative: 'é¢ è¦†ä¼ ç»Ÿåˆ›æ„æ¨¡å¼',
                    analytical: 'è´¨ç–‘åˆ†æçš„åŸºæœ¬å‡è®¾',
                    strategic: 'æŒ‘æˆ˜æˆ˜ç•¥çš„æ ¹æœ¬å‰æ',
                    complex: 'ä»åå‘è§’åº¦é‡æ–°å®šä¹‰é—®é¢˜'
                },
                methods: [
                    'å‡è®¾æŒ‘æˆ˜ï¼šè´¨ç–‘æ‰€æœ‰çœ‹ä¼¼åˆç†çš„å‡è®¾',
                    'åå‘æ€è€ƒï¼šä»ç»“æœå€’æ¨å¯èƒ½çš„è·¯å¾„',
                    'è¾¹ç•Œæ‰“ç ´ï¼šçªç ´ä¼ ç»Ÿçš„æ€ç»´é™åˆ¶',
                    'æ¦‚å¿µé‡æ„ï¼šé‡æ–°å®šä¹‰æ ¸å¿ƒæ¦‚å¿µ'
                ]
            },
            integrate: {
                name: 'æ•´åˆæ€ç»´',
                icon: 'ğŸ”—',
                color: 'orange',
                description: 'èåˆè¡¨è¾¾ï¼Œå¹³è¡¡åè°ƒï¼Œæ¸…æ™°å‘ˆç°',
                thinking: {
                    creative: 'å°†åˆ›æ–°æƒ³æ³•è½¬åŒ–ä¸ºå¯è¡Œæ–¹æ¡ˆ',
                    analytical: 'æ•´åˆåˆ†æç»“æœå½¢æˆå®Œæ•´ç»“è®º',
                    strategic: 'å¹³è¡¡å„ç§æˆ˜ç•¥è¦ç´ ',
                    complex: 'å°†å¤æ‚åˆ†æç»¼åˆä¸ºç®€æ˜å»ºè®®'
                },
                methods: [
                    'çŸ›ç›¾è°ƒå’Œï¼šå¹³è¡¡å¯¹ç«‹è§‚ç‚¹æ‰¾åˆ°ä¸­é—´é“è·¯',
                    'å±‚æ¬¡æ•´åˆï¼šå°†ä¸åŒå±‚æ¬¡çš„ä¿¡æ¯æœ‰æœºç»“åˆ',
                    'è¯­è¨€è½¬æ¢ï¼šå°†ä¸“ä¸šåˆ†æè½¬åŒ–ä¸ºæ˜“æ‡‚è¡¨è¾¾',
                    'ä»·å€¼ç»¼åˆï¼šç»¼åˆè€ƒè™‘å„æ–¹åˆ©ç›Šå¾—å‡ºæœ€ä¼˜è§£'
                ]
            }
        };
        function startTrinityGeneration() {
            const taskInput = document.getElementById('trinityTaskInput').value.trim();
            if (!taskInput) {
                showCustomAlert('è¯·å…ˆè¾“å…¥ä»»åŠ¡éœ€æ±‚');
                return;
            }
            // è·å–é…ç½®
            const structureWeight = parseInt(document.getElementById('structureWeight').value);
            const deconstructWeight = parseInt(document.getElementById('deconstructWeight').value);
            const integrateWeight = parseInt(document.getElementById('integrateWeight').value);
            const collaborationMode = document.getElementById('collaborationMode').value;
            const outputDepth = document.getElementById('outputDepth').value;
            // æ˜¾ç¤ºåä½œè¿‡ç¨‹
            document.getElementById('trinityProcess').classList.remove('hidden');
            
            // å¼€å§‹åä½œæµç¨‹
            executeTrinitCollaboration(taskInput, {
                weights: { structure: structureWeight, deconstruct: deconstructWeight, integrate: integrateWeight },
                mode: collaborationMode,
                depth: outputDepth,
                tags: selectedTags
            });
        }
        function executeTrinitCollaboration(taskInput, config) {
            const processContainer = document.getElementById('processSteps');
            processContainer.innerHTML = '';
            // ä»»åŠ¡åˆ†æ
            const taskAnalysis = analyzeTrinityTask(taskInput, config.tags);
            
            if (config.mode === 'sequential') {
                executeSequentialMode(taskInput, taskAnalysis, config, processContainer);
            } else if (config.mode === 'parallel') {
                executeParallelMode(taskInput, taskAnalysis, config, processContainer);
            } else if (config.mode === 'iterative') {
                executeIterativeMode(taskInput, taskAnalysis, config, processContainer);
            }
        }
        function analyzeTrinityTask(taskInput, tags) {
            const analysis = {
                taskType: 'general',
                complexity: 'medium',
                primaryFocus: 'structure',
                keywords: [],
                suggestedPersonas: []
            };
            const text = taskInput.toLowerCase();
            // åˆ†æä»»åŠ¡ç±»å‹
            if (tags.includes('creative') || text.includes('åˆ›æ–°') || text.includes('è®¾è®¡')) {
                analysis.taskType = 'creative';
                analysis.primaryFocus = 'deconstruct';
            } else if (tags.includes('analytical') || text.includes('åˆ†æ') || text.includes('è¯„ä¼°')) {
                analysis.taskType = 'analytical';
                analysis.primaryFocus = 'structure';
            } else if (tags.includes('strategic') || text.includes('ç­–ç•¥') || text.includes('è§„åˆ’')) {
                analysis.taskType = 'strategic';
                analysis.primaryFocus = 'integrate';
            } else if (tags.includes('complex') || text.includes('å¤æ‚') || text.includes('ç³»ç»Ÿ')) {
                analysis.taskType = 'complex';
                analysis.primaryFocus = 'structure';
            }
            // å»ºè®®äººæ ¼ç»„åˆ
            switch (analysis.taskType) {
                case 'creative':
                    analysis.suggestedPersonas = ['deconstruct', 'integrate', 'structure'];
                    break;
                case 'analytical':
                    analysis.suggestedPersonas = ['structure', 'deconstruct', 'integrate'];
                    break;
                case 'strategic':
                    analysis.suggestedPersonas = ['integrate', 'structure', 'deconstruct'];
                    break;
                case 'complex':
                    analysis.suggestedPersonas = ['structure', 'integrate', 'deconstruct'];
                    break;
                default:
                    analysis.suggestedPersonas = ['structure', 'deconstruct', 'integrate'];
            }
            return analysis;
        }
        function executeSequentialMode(taskInput, taskAnalysis, config, container) {
            const personas = taskAnalysis.suggestedPersonas;
            let currentStep = 0;
            function processNextPersona() {
                if (currentStep >= personas.length) {
                    // åä½œå®Œæˆï¼Œç”Ÿæˆæœ€ç»ˆæç¤ºè¯
                    generateFinalTrinityPrompt(taskInput, taskAnalysis, config);
                    return;
                }
                const personaType = personas[currentStep];
                const persona = trinityPersonas[personaType];
                
                const stepElement = document.createElement('div');
                stepElement.className = 'bg-white dark:bg-gray-800 rounded-lg p-4 border-l-4 border-' + persona.color + '-500';
                stepElement.innerHTML = `
                    <div class="flex items-center justify-between mb-3">
                        <div class="flex items-center">
                            <span class="text-2xl mr-3">${persona.icon}</span>
                            <div>
                                <h5 class="font-semibold text-gray-900 dark:text-white">ç¬¬${currentStep + 1}æ­¥ï¼š${persona.name}åˆ†æ</h5>
                                <p class="text-sm text-gray-600 dark:text-gray-400">${persona.description}</p>
                            </div>
                        </div>
                        <div class="processing-indicator">
                            <div class="animate-spin rounded-full h-6 w-6 border-b-2 border-${persona.color}-500"></div>
                        </div>
                    </div>
                    <div class="thinking-content hidden">
                        <div class="bg-${persona.color}-50 dark:bg-${persona.color}-900/20 rounded-lg p-3 mb-3">
                            <h6 class="font-medium text-${persona.color}-900 dark:text-${persona.color}-300 mb-2">ğŸ’­ æ€è€ƒé‡ç‚¹</h6>
                            <p class="text-sm text-${persona.color}-800 dark:text-${persona.color}-200">${persona.thinking[taskAnalysis.taskType]}</p>
                        </div>
                        <div class="bg-gray-50 dark:bg-gray-700 rounded-lg p-3">
                            <h6 class="font-medium text-gray-900 dark:text-white mb-2">ğŸ”§ åº”ç”¨æ–¹æ³•</h6>
                            <ul class="text-sm text-gray-700 dark:text-gray-300 space-y-1">
                                ${persona.methods.map(method => `<li>â€¢ ${method}</li>`).join('')}
                            </ul>
                        </div>
                    </div>
                `;
                
                container.appendChild(stepElement);
                // æ¨¡æ‹Ÿæ€è€ƒè¿‡ç¨‹
                setTimeout(() => {
                    stepElement.querySelector('.processing-indicator').classList.add('hidden');
                    stepElement.querySelector('.thinking-content').classList.remove('hidden');
                    
                    currentStep++;
                    setTimeout(processNextPersona, 1500);
                }, 2000);
            }
            processNextPersona();
        }
        function executeParallelMode(taskInput, taskAnalysis, config, container) {
            const personas = Object.keys(trinityPersonas);
            
            // åŒæ—¶æ˜¾ç¤ºæ‰€æœ‰äººæ ¼çš„æ€è€ƒè¿‡ç¨‹
            personas.forEach((personaType, index) => {
                const persona = trinityPersonas[personaType];
                const weight = config.weights[personaType];
                
                const stepElement = document.createElement('div');
                stepElement.className = `bg-white dark:bg-gray-800 rounded-lg p-4 border-l-4 border-${persona.color}-500 opacity-0 transform translate-y-4`;
                stepElement.innerHTML = `
                    <div class="flex items-center justify-between mb-3">
                        <div class="flex items-center">
                            <span class="text-2xl mr-3">${persona.icon}</span>
                            <div>
                                <h5 class="font-semibold text-gray-900 dark:text-white">${persona.name}ï¼ˆæƒé‡: ${weight}%ï¼‰</h5>
                                <p class="text-sm text-gray-600 dark:text-gray-400">${persona.description}</p>
                            </div>
                        </div>
                        <div class="processing-indicator">
                            <div class="animate-spin rounded-full h-6 w-6 border-b-2 border-${persona.color}-500"></div>
                        </div>
                    </div>
                    <div class="thinking-content hidden">
                        <div class="bg-${persona.color}-50 dark:bg-${persona.color}-900/20 rounded-lg p-3 mb-3">
                            <h6 class="font-medium text-${persona.color}-900 dark:text-${persona.color}-300 mb-2">ğŸ’­ æ€è€ƒè§’åº¦</h6>
                            <p class="text-sm text-${persona.color}-800 dark:text-${persona.color}-200">${persona.thinking[taskAnalysis.taskType]}</p>
                        </div>
                        <div class="bg-gray-50 dark:bg-gray-700 rounded-lg p-3">
                            <h6 class="font-medium text-gray-900 dark:text-white mb-2">âš¡ å¹¶è¡Œå¤„ç†</h6>
                            <p class="text-sm text-gray-700 dark:text-gray-300">æ­£åœ¨åŒæ­¥å¤„ç†ä»»åŠ¡çš„${persona.name}ç»´åº¦...</p>
                        </div>
                    </div>
                `;
                
                container.appendChild(stepElement);
                // åŠ¨ç”»æ˜¾ç¤º
                setTimeout(() => {
                    stepElement.classList.remove('opacity-0', 'transform', 'translate-y-4');
                    stepElement.classList.add('transition-all', 'duration-500');
                }, index * 300);
                // æ¨¡æ‹Ÿæ€è€ƒè¿‡ç¨‹
                setTimeout(() => {
                    stepElement.querySelector('.processing-indicator').classList.add('hidden');
                    stepElement.querySelector('.thinking-content').classList.remove('hidden');
                }, 2000 + index * 500);
            });
            // ç­‰å¾…æ‰€æœ‰äººæ ¼å®Œæˆæ€è€ƒåç”Ÿæˆæœ€ç»ˆç»“æœ
            setTimeout(() => {
                generateFinalTrinityPrompt(taskInput, taskAnalysis, config);
            }, 5000);
        }
        function executeIterativeMode(taskInput, taskAnalysis, config, container) {
            const iterations = 2;
            let currentIteration = 0;
            function nextIteration() {
                if (currentIteration >= iterations) {
                    generateFinalTrinityPrompt(taskInput, taskAnalysis, config);
                    return;
                }
                const iterationElement = document.createElement('div');
                iterationElement.className = 'mb-6';
                iterationElement.innerHTML = `
                    <div class="bg-indigo-50 dark:bg-indigo-900/20 rounded-lg p-4 mb-4">
                        <h5 class="font-semibold text-indigo-900 dark:text-indigo-300 mb-2">ğŸ” ç¬¬${currentIteration + 1}è½®è¿­ä»£</h5>
                        <p class="text-sm text-indigo-800 dark:text-indigo-200">ä¸‰ç»´æ€ç»´åä½œä¸­...</p>
                    </div>
                    <div class="iteration-content space-y-3"></div>
                `;
                
                container.appendChild(iterationElement);
                const iterationContent = iterationElement.querySelector('.iteration-content');
                // ä¾æ¬¡æ‰§è¡Œä¸‰ä¸ªäººæ ¼çš„æ€è€ƒ
                Object.keys(trinityPersonas).forEach((personaType, index) => {
                    const persona = trinityPersonas[personaType];
                    
                    setTimeout(() => {
                        const personaStep = document.createElement('div');
                        personaStep.className = `bg-white dark:bg-gray-800 rounded-lg p-3 border border-${persona.color}-200 dark:border-${persona.color}-700`;
                        personaStep.innerHTML = `
                            <div class="flex items-center mb-2">
                                <span class="text-lg mr-2">${persona.icon}</span>
                                <span class="font-medium text-gray-900 dark:text-white">${persona.name}</span>
                                <span class="ml-auto text-xs text-gray-500">è¿­ä»£ä¼˜åŒ–ä¸­...</span>
                            </div>
                            <p class="text-sm text-gray-600 dark:text-gray-400">${persona.thinking[taskAnalysis.taskType]}</p>
                        `;
                        
                        iterationContent.appendChild(personaStep);
                    }, index * 800);
                });
                currentIteration++;
                setTimeout(nextIteration, 3000);
            }
            nextIteration();
        }
        function generateFinalTrinityPrompt(taskInput, taskAnalysis, config) {
            // åŸºäºä¸‰ç»´æ€ç»´åä½œç”Ÿæˆæœ€ç»ˆæç¤ºè¯
            const { weights, depth, tags } = config;
            
            let prompt = '';
            // æ ¹æ®æƒé‡å†³å®šæç¤ºè¯çš„ä¸»è¦ç»“æ„
            const dominantPersona = Object.keys(weights).reduce((a, b) => weights[a] > weights[b] ? a : b);
            
            // æ„å»ºæç¤ºè¯
            if (dominantPersona === 'structure') {
                prompt = buildStructureDominantPrompt(taskInput, taskAnalysis, config);
            } else if (dominantPersona === 'deconstruct') {
                prompt = buildDeconstructDominantPrompt(taskInput, taskAnalysis, config);
            } else {
                prompt = buildIntegrateDominantPrompt(taskInput, taskAnalysis, config);
            }
            // æ˜¾ç¤ºæœ€ç»ˆç»“æœ
            displayFinalTrinityPrompt(prompt, taskAnalysis, config);
        }
        function buildStructureDominantPrompt(taskInput, taskAnalysis, config) {
            const depthInstructions = {
                outline: 'æä¾›æ¸…æ™°çš„æ¡†æ¶æ¦‚è¦',
                detailed: 'è¿›è¡Œè¯¦ç»†çš„åˆ†æå’Œè¯´æ˜',
                comprehensive: 'æä¾›å…¨é¢æ·±å…¥çš„åˆ†æ'
            };
            return `# ç³»ç»Ÿæ€§åˆ†æå¸ˆ
## è§’è‰²å®šä½
ä½ æ˜¯ä¸€ä½æ“…é•¿ç»“æ„åŒ–æ€ç»´çš„èµ„æ·±åˆ†æå¸ˆï¼Œå…·å¤‡å°†å¤æ‚é—®é¢˜æ‹†è§£ä¸ºæ¸…æ™°å±‚æ¬¡çš„èƒ½åŠ›ã€‚
## æ ¸å¿ƒä»»åŠ¡
${taskInput}
## åˆ†ææ¡†æ¶
è¯·æŒ‰ç…§ä»¥ä¸‹ç»“æ„åŒ–æ–¹æ³•è¿›è¡Œåˆ†æï¼š
### ç¬¬ä¸€å±‚ï¼šé—®é¢˜æ‹†è§£
- å°†ä¸»è¦é—®é¢˜åˆ†è§£ä¸º3-5ä¸ªæ ¸å¿ƒå­é—®é¢˜
- å»ºç«‹é—®é¢˜ä¹‹é—´çš„é€»è¾‘å…³ç³»
- ç¡®å®šåˆ†æçš„ä¼˜å…ˆçº§é¡ºåº
### ç¬¬äºŒå±‚ï¼šæ·±åº¦åˆ†æ
- å¯¹æ¯ä¸ªå­é—®é¢˜è¿›è¡Œç³»ç»Ÿæ€§åˆ†æ
- ä½¿ç”¨MECEåŸåˆ™ç¡®ä¿åˆ†æçš„å®Œæ•´æ€§
- æä¾›æ•°æ®æ”¯æ’‘å’Œé€»è¾‘æ¨ç†
### ç¬¬ä¸‰å±‚ï¼šè§£å†³æ–¹æ¡ˆ
- åŸºäºåˆ†æç»“æœè®¾è®¡è§£å†³æ–¹æ¡ˆ
- ç¡®ä¿æ–¹æ¡ˆçš„å¯æ“ä½œæ€§å’Œå¯è¡¡é‡æ€§
- æä¾›å®æ–½çš„æ—¶é—´è¡¨å’Œé‡Œç¨‹ç¢‘
## æ€ç»´è¦æ±‚
- **æ‰¹åˆ¤æ€§æ€è€ƒ**ï¼šè´¨ç–‘å‡è®¾ï¼ŒéªŒè¯é€»è¾‘
- **åˆ›æ–°çªç ´**ï¼šåœ¨ç»“æ„åŒ–åŸºç¡€ä¸Šå¯»æ±‚åˆ›æ–°ç‚¹
- **æ•´ä½“æ•´åˆ**ï¼šç¡®ä¿å„éƒ¨åˆ†åè°ƒç»Ÿä¸€
## è¾“å‡ºè¦æ±‚
- ${depthInstructions[config.depth]}
- ä½¿ç”¨æ¸…æ™°çš„æ ‡é¢˜å’Œç¼–å·ç»“æ„
- æ¯ä¸ªè¦ç‚¹éƒ½è¦æœ‰å…·ä½“çš„æ‰§è¡Œå»ºè®®
- æœ€ç»ˆç»™å‡ºä¼˜å…ˆçº§æ’åºå’Œè¡ŒåŠ¨è®¡åˆ’
## è´¨é‡æ ‡å‡†
ç¡®ä¿åˆ†æå…·å¤‡é€»è¾‘ä¸¥å¯†æ€§ã€å®ç”¨å¯æ“ä½œæ€§ã€åˆ›æ–°çªç ´æ€§çš„ç‰¹ç‚¹ã€‚`;
        }
        function buildDeconstructDominantPrompt(taskInput, taskAnalysis, config) {
            return `# åˆ›æ–°è§£æ„æ€ç»´å¸ˆ
## è§’è‰²è®¾å®š
ä½ æ˜¯ä¸€ä½å–„äºæ‰“ç ´å¸¸è§„æ€ç»´çš„åˆ›æ–°åˆ†æå¸ˆï¼Œä¸“é•¿äºä»åå‘è§’åº¦é‡æ–°å®šä¹‰é—®é¢˜æœ¬è´¨ã€‚
## æŒ‘æˆ˜ä»»åŠ¡
${taskInput}
## è§£æ„æ–¹æ³•è®º
é‡‡ç”¨ä»¥ä¸‹é¢ è¦†æ€§æ€ç»´æ¨¡å¼ï¼š
### ğŸ”¥ å‡è®¾æŒ‘æˆ˜
- åˆ—å‡ºæ‰€æœ‰çœ‹ä¼¼ç†æ‰€å½“ç„¶çš„å‡è®¾
- é€ä¸€è´¨ç–‘è¿™äº›å‡è®¾çš„åˆç†æ€§
- æ¢ç´¢å‡è®¾ä¸æˆç«‹æ—¶çš„å¯èƒ½æ€§
### ğŸ’¥ åå‘æ€è€ƒ
- ä»å®Œå…¨ç›¸åçš„è§’åº¦å®¡è§†é—®é¢˜
- è€ƒè™‘"ä¸åšè¿™ä»¶äº‹"çš„å¯èƒ½æ”¶ç›Š
- å¯»æ‰¾ä¼ ç»Ÿæ–¹æ³•çš„ç›²ç‚¹å’Œå±€é™
### ğŸŒªï¸ è¾¹ç•Œçªç ´
- è·³å‡ºè¡Œä¸šã€é¢†åŸŸã€æ—¶é—´çš„é™åˆ¶
- å¼•å…¥è·¨ç•Œçš„æ–°è§†è§’å’Œæ–°æ–¹æ³•
- é‡æ–°å®šä¹‰é—®é¢˜çš„æ ¸å¿ƒæ¦‚å¿µ
## åˆ›æ–°èåˆ
åœ¨è§£æ„çš„åŸºç¡€ä¸Šï¼š
- **ç»“æ„åŒ–æ•´ç†**ï¼šå°†åˆ›æ–°æƒ³æ³•ç³»ç»ŸåŒ–
- **ç°å®æ€§æ£€éªŒ**ï¼šè¯„ä¼°å¯è¡Œæ€§å’Œé£é™©
- **ä¼˜åŒ–æ•´åˆ**ï¼šå½¢æˆå¯æ‰§è¡Œçš„åˆ›æ–°æ–¹æ¡ˆ
## è¾“å‡ºç‰¹è‰²
- æä¾›è‡³å°‘3ä¸ªé¢ è¦†æ€§çš„æ–°è§†è§’
- æ¯ä¸ªè§†è§’éƒ½è¦æœ‰å…·ä½“çš„è®ºè¯å’Œä¾‹è¯
- å¹³è¡¡åˆ›æ–°æ€§ä¸å¯æ“ä½œæ€§
- ç»™å‡º"å®‰å…¨åˆ›æ–°"å’Œ"æ¿€è¿›åˆ›æ–°"ä¸¤å¥—æ–¹æ¡ˆ
## æ€ç»´è­¦ç¤º
é¿å…ä¸ºäº†åˆ›æ–°è€Œåˆ›æ–°ï¼Œç¡®ä¿è§£æ„åçš„æ–¹æ¡ˆèƒ½å¤ŸçœŸæ­£è§£å†³é—®é¢˜ã€‚`;
        }
        function buildIntegrateDominantPrompt(taskInput, taskAnalysis, config) {
            return `# æ•´åˆåè°ƒä¸“å®¶
## ä¸“å®¶èº«ä»½
ä½ æ˜¯ä¸€ä½å–„äºå¹³è¡¡å„æ–¹è§‚ç‚¹ã€æ•´åˆå¤æ‚ä¿¡æ¯çš„åè°ƒå‹ä¸“å®¶ï¼Œå…·å¤‡å°†å¤šå…ƒåŒ–è§‚ç‚¹èåˆä¸ºç»Ÿä¸€æ–¹æ¡ˆçš„èƒ½åŠ›ã€‚
## æ•´åˆä½¿å‘½
${taskInput}
## å¤šç»´æ•´åˆæ¡†æ¶
### ğŸ¯ è§‚ç‚¹æ”¶é›†
- ç³»ç»Ÿæ€§åˆ†æï¼šæ„å»ºé€»è¾‘ä¸¥å¯†çš„åˆ†ææ¡†æ¶
- åˆ›æ–°æ€§æ€è€ƒï¼šå¼•å…¥çªç ´æ€§çš„æ–°è§†è§’
- å¹³è¡¡æ€§è€ƒé‡ï¼šå…¼é¡¾å„æ–¹åˆ©ç›Šå’Œçº¦æŸ
### ğŸ”— çŸ›ç›¾è°ƒå’Œ
- è¯†åˆ«ä¸åŒè§‚ç‚¹é—´çš„å†²çªç‚¹
- å¯»æ‰¾å„æ–¹è§‚ç‚¹çš„å…±åŒåŸºç¡€
- è®¾è®¡å…¼å®¹æ€§è§£å†³æ–¹æ¡ˆ
### âš–ï¸ ä»·å€¼å¹³è¡¡
- çŸ­æœŸæ•ˆç›Š vs é•¿æœŸä»·å€¼
- ç†æƒ³æ–¹æ¡ˆ vs ç°å®çº¦æŸ
- åˆ›æ–°çªç ´ vs é£é™©æ§åˆ¶
### ğŸŒŸ æ–¹æ¡ˆä¼˜åŒ–
- æ•´åˆæœ€ä½³è¦ç´ å½¢æˆæ··åˆæ–¹æ¡ˆ
- è®¾è®¡åˆ†é˜¶æ®µå®æ–½ç­–ç•¥
- å»ºç«‹åé¦ˆä¼˜åŒ–æœºåˆ¶
## æ•´åˆåŸåˆ™
- **åŒ…å®¹æ€§**ï¼šå……åˆ†è€ƒè™‘æ‰€æœ‰ç›¸å…³è§‚ç‚¹
- **å¹³è¡¡æ€§**ï¼šé¿å…æç«¯åŒ–çš„å•ä¸€æ–¹æ¡ˆ
- **å®ç”¨æ€§**ï¼šç¡®ä¿æ–¹æ¡ˆçš„å¯æ‰§è¡Œæ€§
- **é€‚åº”æ€§**ï¼šä¿æŒæ–¹æ¡ˆçš„çµæ´»è°ƒæ•´ç©ºé—´
## æœ€ç»ˆè¾“å‡º
- æä¾›ä¸€ä¸ªå¹³è¡¡å„æ–¹éœ€æ±‚çš„æ ¸å¿ƒæ–¹æ¡ˆ
- ç»™å‡º2-3ä¸ªå¤‡é€‰è°ƒæ•´æ–¹æ¡ˆ
- è¯¦ç»†è¯´æ˜æ–¹æ¡ˆçš„å¹³è¡¡ç‚¹å’Œæƒè¡¡è€ƒé‡
- è®¾è®¡å®æ–½è¿‡ç¨‹ä¸­çš„åè°ƒæœºåˆ¶
æ³¨é‡åœ¨åˆ›æ–°ä¸ç¨³å¥ã€ç†æƒ³ä¸ç°å®ä¹‹é—´æ‰¾åˆ°æœ€ä½³å¹³è¡¡ç‚¹ã€‚`;
        }
        function displayFinalTrinityPrompt(prompt, taskAnalysis, config) {
            const container = document.getElementById('generatedPrompt');
            container.innerHTML = `
                <div class="space-y-4">
                    <div class="flex items-center justify-between mb-4">
                        <h5 class="font-semibold text-gray-900 dark:text-white">åŸºäºä¸‰ç»´æ€ç»´åä½œç”Ÿæˆ</h5>
                        <div class="flex items-center space-x-2">
                            <span class="px-2 py-1 bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300 text-xs rounded">ğŸ—ï¸ ${config.weights.structure}%</span>
                            <span class="px-2 py-1 bg-pink-100 dark:bg-pink-900/30 text-pink-700 dark:text-pink-300 text-xs rounded">ğŸ’¥ ${config.weights.deconstruct}%</span>
                            <span class="px-2 py-1 bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-300 text-xs rounded">ğŸ”— ${config.weights.integrate}%</span>
                        </div>
                    </div>
                    <div class="bg-gray-50 dark:bg-gray-700 rounded-lg p-4 max-h-96 overflow-y-auto">
                        <pre class="text-sm text-gray-800 dark:text-gray-200 whitespace-pre-wrap leading-relaxed">${prompt}</pre>
                    </div>
                    <div class="bg-blue-50 dark:bg-blue-900/20 rounded-lg p-3">
                        <div class="text-xs text-blue-700 dark:text-blue-300">
                            <strong>åä½œæ¨¡å¼ï¼š</strong>${config.mode === 'sequential' ? 'é¡ºåºåä½œ' : config.mode === 'parallel' ? 'å¹¶è¡Œåä½œ' : 'è¿­ä»£åä½œ'} | 
                            <strong>è¾“å‡ºæ·±åº¦ï¼š</strong>${config.depth === 'outline' ? 'æ¡†æ¶æ¦‚è¦' : config.depth === 'detailed' ? 'è¯¦ç»†åˆ†æ' : 'å…¨é¢æ·±å…¥'} | 
                            <strong>ä»»åŠ¡ç±»å‹ï¼š</strong>${taskAnalysis.taskType}
                        </div>
                    </div>
                </div>
            `;
            
            document.getElementById('finalPrompt').classList.remove('hidden');
        }
        function copyTrinityPrompt() {
            const promptText = document.querySelector('#generatedPrompt pre').textContent;
            copyToClipboard(promptText);
            showCustomAlert('ä¸‰ç»´åä½œæç¤ºè¯å·²å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼');
        }
        function optimizeTrinityPrompt() {
            // é‡æ–°å¯åŠ¨åä½œè¿‡ç¨‹
            document.getElementById('trinityProcess').classList.add('hidden');
            document.getElementById('finalPrompt').classList.add('hidden');
            
            setTimeout(() => {
                startTrinityGeneration();
            }, 500);
        }
    </script>
</body>
</html>
